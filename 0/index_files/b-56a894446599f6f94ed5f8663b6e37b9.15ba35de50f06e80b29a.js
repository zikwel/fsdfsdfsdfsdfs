/*! For license information please see b-56a894446599f6f94ed5f8663b6e37b9.15ba35de50f06e80b29a.js.LICENSE.txt */
(self.webpackChunkvk=self.webpackChunkvk||[]).push([[490],{49265:function(e,t,n){"use strict";n.d(t,{isModernCSSSupported:function(){return l},mobPlatforms:function(){return s},isTouch:function(){return c}});var r,i=n(55971),o=window._ua;o||(o=navigator.userAgent.toLowerCase());var a=/android/i.test(o),u={version:(o.match(/.+(?:me|ox|on|rv|it|era|ie)[\/: ]([\d.]+)/)||[0,"0"])[1],amigo:/amigo.*mrchrome soc/i.test(o),opera:/opera/i.test(o),msie:/msie/i.test(o)&&!/opera/i.test(o),msie6:/msie 6/i.test(o)&&!/opera/i.test(o),msie7:/msie 7/i.test(o)&&!/opera/i.test(o),msie8:/msie 8/i.test(o)&&!/opera/i.test(o),msie9:/msie 9/i.test(o)&&!/opera/i.test(o),mozilla:/firefox/i.test(o),chrome:/chrome/i.test(o)||/crios/i.test(o),safari:!/crios/i.test(o)&&!/chrome/i.test(o)&&/webkit|safari|khtml/i.test(o),iphone:/iphone/i.test(o),ipod:/ipod/i.test(o),iphone4:/iphone.*OS 4/i.test(o),ipod4:/ipod.*OS 4/i.test(o),ipad:/ipad/i.test(o),ios:+(o.match(/.+(?:ipod|ipad|iphone.*os) ([\d.]+)_/i)||[0,0])[1],android:a,android_version:a?String(null==(r=o.match(/android (\d+(?:\.\d+)*);/i))?void 0:r[1]):void 0,bada:/bada/i.test(o),opera_mini:/opera mini/i.test(o),uc_mini:/mobile safari.*ucbrowser/i.test(o),mobile:/iphone|ipod|ipad|opera mini|opera mobi|iemobile/i.test(o),msie_mobile:/iemobile/i.test(o),msie_edge:/edge/i.test(o)&&!/opera/i.test(o),safari_mobile:/iphone|ipod|ipad/i.test(o),opera_mobile:/opera mini|opera mobi/i.test(o),mac:/mac/i.test(o),mi:/miuibrowser/i.test(o),meizu:/MZBrowser/i.test(o)};u.desktop=(u.opera||u.msie||u.mozilla||u.chrome||u.safari)&&!u.mobile;var s={1:1,2:1,3:1,4:1,5:1},c="ontouchstart"in window,_=function(e){if("WebKitCSSMatrix"in e&&"m11"in new e.WebKitCSSMatrix)return!0;if("MSCSSMatrix"in e&&"m11"in new e.MSCSSMatrix)return!0;if("CSSMatrix"in e&&"m11"in new e.CSSMatrix)return!0;try{var t=ce("div"),n=getCssPropertyName(t,"transform");return!!n&&(t.style[n]="translate3d(1px,1px,1px)",t.style[n]&&"none"!=t.style[n])}catch(e){return!1}}(window);function l(){return(0,i.isFlexboxSupported)()&&(0,i.isCSSVariablesSupported)()&&(0,i.isMatchMediaSupported)()&&(0,i.isSVGSupported)()&&(0,i.isSupportsSupported)()&&(0,i.isGridsSupported)()}t.default=u,Object.assign(window,{browser:u,_ua:o,mobPlatforms:s,isTouch:c,has3d:_})},10721:function(e,t,n){"use strict";(0,n(95574).init)();var r=n(95415);window.isBootstrapInited||(window.cur={destroy:[]},window.lang={},(0,r.setDocumentDomain)(),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),window.isBootstrapInited=!0)},47023:function(e,t){"use strict";class n{constructor(){this.routes=[]}static getRouter(){return window.router||(window.router=new n),window.router}addRoute(e,t,n){this.routes.push({isActive:!1,test:e,activateCallback:t,deactivateCallback:n}),["interactive","complete"].includes(document.readyState)&&this.checkRoutes()}test(e,t){var{test:n}=t;if(e)return"function"==typeof n?n(e):n instanceof RegExp?n.test(e):"string"==typeof n&&e.startsWith(n)}deactivateAllRoutes(){this.routes=this.routes.map((e=>{var t=e.isActive;return e.isActive=!1,t&&e.deactivateCallback&&e.deactivateCallback(),e}))}checkRoutes(e,t){void 0===e&&(e=null),void 0===t&&(t=!1),this.routes=this.routes.map((n=>{var r,i=this.test(e||window.nav.cur,n);return i&&!n.isActive&&n.activateCallback&&!t&&(r=n.activateCallback()),!i&&n.isActive&&(n.deactivateCallback?n.deactivateCallback():r&&r()),i&&t||(n.isActive=i),n}))}}t.default=n,window.Router=n},63545:function(e,t,n){"use strict";n.d(t,{emojiToHTML:function(){return i}});var r=n(98884),i=e=>(0,r.emojiToHTML)(e,!0)},71437:function(e,t,n){"use strict";function r(e,t){return void 0===t&&(t=document),t.querySelector(e)}function i(e,t){return void 0===t&&(t=document),t.querySelectorAll(e)}n.d(t,{$:function(){return r},$$:function(){return i}}),window.$=r,window.$$=i,function(){HTMLElement.prototype.$=HTMLElement.prototype.querySelector,HTMLElement.prototype.$$=HTMLElement.prototype.querySelectorAll;try{SVGElement.prototype.$=SVGElement.prototype.querySelector,SVGElement.prototype.$$=SVGElement.prototype.querySelectorAll}catch(e){}}()},41467:function(e,t,n){"use strict";n.d(t,{FLAG_MP4:function(){return u},FLAG_GIF_AUTOPLAY:function(){return s},FLAG_SUPPORTS_HISTORY_API:function(){return c},FLAG_SUPPORTS_AUDIO_MESSAGES:function(){return _}});var r=n(49265),i=n(76567),o=n(55971),a={},u=0,s=1,c=2,_=3,l=[u,s,c,_,4,5,6,7,8,9,10,11],d=null;class f{static getFeatures(){return a}static detectMp4Support(){var e=r.default.meizu||r.default.mi||r.default.uc_mini||0!==r.default.ios&&r.default.ios<10||r.default.chrome&&r.default.version.split(".")[0]<53,t=!1,n=document.createElement("video");return n.canPlayType&&""!==n.canPlayType("video/mp4")&&(t=!0),a.mp4=t,f.setFlag(u,t&&!e),t}static detectAutoplay(){return new Promise((e=>{if(a.autoplay)e(!0);else{if(r.default.ios&&r.default.safari_mobile&&parseInt(r.default.version,10)>=10)return a.autoplay=!0,void e(!0);a.autoplay=!1;var t=ce("video"),n=ce("source");n.src="data:video/mp4;base64,AAAAFGZ0eXBNU05WAAACAE1TTlYAAAOUbW9vdgAAAGxtdmhkAAAAAM9ghv7PYIb+AAACWAAACu8AAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAnh0cmFrAAAAXHRraGQAAAAHz2CG/s9ghv4AAAABAAAAAAAACu8AAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAFAAAAA4AAAAAAHgbWRpYQAAACBtZGhkAAAAAM9ghv7PYIb+AAALuAAANq8AAAAAAAAAIWhkbHIAAAAAbWhscnZpZGVBVlMgAAAAAAABAB4AAAABl21pbmYAAAAUdm1oZAAAAAAAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAVdzdGJsAAAAp3N0c2QAAAAAAAAAAQAAAJdhdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAFAAOABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAAEmNvbHJuY2xjAAEAAQABAAAAL2F2Y0MBTUAz/+EAGGdNQDOadCk/LgIgAAADACAAAAMA0eMGVAEABGjuPIAAAAAYc3R0cwAAAAAAAAABAAAADgAAA+gAAAAUc3RzcwAAAAAAAAABAAAAAQAAABxzdHNjAAAAAAAAAAEAAAABAAAADgAAAAEAAABMc3RzegAAAAAAAAAAAAAADgAAAE8AAAAOAAAADQAAAA0AAAANAAAADQAAAA0AAAANAAAADQAAAA0AAAANAAAADQAAAA4AAAAOAAAAFHN0Y28AAAAAAAAAAQAAA7AAAAA0dXVpZFVTTVQh0k/Ou4hpXPrJx0AAAAAcTVREVAABABIAAAAKVcQAAAAAAAEAAAAAAAAAqHV1aWRVU01UIdJPzruIaVz6ycdAAAAAkE1URFQABAAMAAAAC1XEAAACHAAeAAAABBXHAAEAQQBWAFMAIABNAGUAZABpAGEAAAAqAAAAASoOAAEAZABlAHQAZQBjAHQAXwBhAHUAdABvAHAAbABhAHkAAAAyAAAAA1XEAAEAMgAwADAANQBtAGUALwAwADcALwAwADYAMAA2ACAAMwA6ADUAOgAwAAABA21kYXQAAAAYZ01AM5p0KT8uAiAAAAMAIAAAAwDR4wZUAAAABGjuPIAAAAAnZYiAIAAR//eBLT+oL1eA2Nlb/edvwWZflzEVLlhlXtJvSAEGRA3ZAAAACkGaAQCyJ/8AFBAAAAAJQZoCATP/AOmBAAAACUGaAwGz/wDpgAAAAAlBmgQCM/8A6YEAAAAJQZoFArP/AOmBAAAACUGaBgMz/wDpgQAAAAlBmgcDs/8A6YEAAAAJQZoIBDP/AOmAAAAACUGaCQSz/wDpgAAAAAlBmgoFM/8A6YEAAAAJQZoLBbP/AOmAAAAACkGaDAYyJ/8AFBAAAAAKQZoNBrIv/4cMeQ==";var i=ce("source");i.src="data:video/webm;base64,GkXfo0AgQoaBAUL3gQFC8oEEQvOBCEKCQAR3ZWJtQoeBAkKFgQIYU4BnQI0VSalmQCgq17FAAw9CQE2AQAZ3aGFtbXlXQUAGd2hhbW15RIlACECPQAAAAAAAFlSua0AxrkAu14EBY8WBAZyBACK1nEADdW5khkAFVl9WUDglhohAA1ZQOIOBAeBABrCBCLqBCB9DtnVAIueBAKNAHIEAAIAwAQCdASoIAAgAAUAmJaQAA3AA/vz0AAA=",append(i,t),append(n,t),t.style.position="fixed",t.style.left="5000px",attr(t,"id","base64testvideo"),attr(t,"playsinline","playsinline"),attr(t,"webkit-playsinline","webkit-playsinline"),attr(t,"muted","muted"),attr(t,"autoplay","autoplay"),attr(t,"loop","loop"),append(t,document.body);var o=ge("base64testvideo");if(r.default.mobile&&r.default.ios&&r.default.ios<10)return a.autoplay=!1,remove(t),e(!1),void clearTimeout(this.autoDetectTimeout);if(!r.default.safari_mobile||r.default.safari_mobile&&parseInt(r.default.version,10)>=10){var u=t.play();void 0!==u&&u.then((()=>{a.autoplay=!0,remove(t),e(!0),clearTimeout(this.autoDetectTimeout)})).catch((n=>{a.autoplay=!1,remove(t),e(!1),clearTimeout(this.autoDetectTimeout)}))}o.onplay=()=>{a.autoplay=!0,remove(t),e(!0),clearTimeout(this.autoDetectTimeout)},this.autoDetectTimeout=setTimeout((()=>{o.paused||(a.autoplay=!0),remove(t),e(a.autoplay)}),250)}}))}static detectAudioMessagesSupport(){var e=!(!window.AudioContext&&!window.webkitAudioContext)&&window.isNewMail,t=f.getFlag(_);this.setFlag(_,e),!t&&e&&window.cur.module}static detectCSSVariables(){this.setFlag(4,(0,o.isCSSVariablesSupported)())}static detectMatchMedia(){this.setFlag(5,(0,o.isMatchMediaSupported)())}static detectFlexbox(){this.setFlag(6,(0,o.isFlexboxSupported)())}static detectSupports(){this.setFlag(7,(0,o.isSupportsSupported)())}static detectGrids(){this.setFlag(8,(0,o.isGridsSupported)())}static detectSVG(){this.setFlag(9,(0,o.isSVGSupported)())}static detectIntersectionObserver(){this.setFlag(10,(0,o.isIntersectionObserverSupported)())}static detectMutationObserver(){this.setFlag(11,(0,o.isMutationObserverSupported)())}static getFlags(){return(d||(0,i.getCookie)("remixff")||"").split("").map((e=>+e?"1":"0")).join("")}static getFlag(e){var t=this.getFlags();return!!toInt(t[e])}static setFlag(e,t){void 0===t&&(t=!1),(0,i.setCookie)("remixff","",-1,!0,"None",location.host,{withoutSubdomains:!0});var n=((0,i.getCookie)("remixff")||"").split(""),r=new Array(l.length).fill("0").map(((e,t)=>n[t]||"0"));r[e]=t?"1":"0";var o=r.join("");d=o,(0,i.setCookie)("remixff",o,10,!0)}}onDOMReady((()=>{f.detectAudioMessagesSupport(),f.detectMp4Support(),f.detectCSSVariables(),f.detectMatchMedia(),f.detectFlexbox(),f.detectSupports(),f.detectGrids(),f.detectSVG(),f.detectIntersectionObserver(),f.detectMutationObserver()})),t.default=f},67196:function(e,t,n){"use strict";n.d(t,{wrapLinks:function(){return i}});var r=n(61540);function i(e,t){void 0===t&&(t=0);var n=32768&t;return e=(e=e.replace(/([a-zA-Z\-_\.0-9]+@[a-zA-Z\-_0-9]+\.[a-zA-Z\-_\.0-9]+[a-zA-Z\-_0-9]+)/g,(function(e){return'<a href="mailto:'+e+'">'+e+"</a>"}))).replace(/(https?:\/\/)?(([A-Za-zА-Яа-яЁё0-9@][A-Za-zА-Яа-яЁё0-9@\-\_\.]*[A-Za-zА-Яа-яЁё0-9@])(\/([A-Za-zА-Яа-я0-9@\-\_#%&?+\/\.=;:~]*[^\.\,;\(\)\?<\&\s:])?)?)/gi,(function(){var e=arguments[3],t=arguments[2],i=arguments[0],o=arguments[1]||"http://";if(-1==e.indexOf(".")||-1!=e.indexOf(".."))return i;var a=e.split(".").pop();if(a.length>7||-1==indexOf("place,camera,info,name,academy,aero,arpa,coop,media,museum,mobi,travel,xxx,asia,biz,com,net,org,gov,mil,edu,int,tel,ac,ad,ae,af,ag,ai,al,am,an,ao,aq,ar,as,at,au,aw,ax,az,ba,bb,bd,be,bf,bg,bh,bi,bj,bm,bn,bo,br,bs,bt,bv,bw,by,bz,ca,cc,cd,cf,cg,ch,ci,ck,cl,cm,cn,co,cr,cu,cv,cx,cy,cz,de,dj,dk,dm,do,dz,ec,ee,eg,eh,er,es,et,eu,fi,fj,fk,fm,fo,fr,ga,gd,ge,gf,gg,gh,gi,gl,gm,gn,gp,gq,gr,gs,gt,gu,gw,gy,hk,hm,hn,hr,ht,hu,id,ie,il,im,in,io,iq,ir,is,it,je,jm,jo,jp,ke,kg,kh,ki,km,kn,kp,kr,kw,ky,kz,la,lb,lc,li,lk,lr,ls,lt,lu,lv,ly,ma,mc,md,me,mg,mh,mk,ml,mm,mn,mo,mp,mq,mr,ms,mt,mu,mv,mw,mx,my,mz,na,nc,ne,nf,ng,ni,nl,no,np,nr,nu,nz,om,pa,pe,pf,pg,ph,pk,pl,pm,pn,pr,ps,pt,pw,py,qa,re,ro,ru,rs,rw,sa,sb,sc,sd,se,sg,sh,si,sj,sk,sl,sm,sn,so,sr,st,su,sv,sy,sz,tc,td,tf,tg,th,tj,tk,tl,tm,tn,to,tp,tr,tt,tv,tw,tz,ua,ug,uk,um,us,uy,uz,va,vc,ve,vg,vi,vn,vu,wf,ws,ye,yt,yu,za,zm,zw,рф,укр,сайт,онлайн,срб,cat,pro,local".split(","),a))return i;if(-1!=i.indexOf("@"))return i;try{i=decodeURIComponent(i)}catch(e){}return i.length>55&&(i=i.substr(0,53)+".."),i=htsc(i),!n&&e.match(r.VK_ORIGIN_REGEX)?'<a href="'+(o+(t=replaceEntities(t).replace(/([^a-zA-Z0-9#%;_\-.\/?&=\[\]])/g,encodeURIComponent))).replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")+'">'+i+"</a>":'<a href="/away?to='+encodeURIComponent(o+replaceEntities(t))+'" target="_blank">'+i+"</a>"})),e}},12344:function(e,t,n){"use strict";n.d(t,{MENTION_REGEXP:function(){return _},MENTION_DOMAIN_REGEXP:function(){return l},UNKNOWN_ERROR:function(){return f},isContactPeer:function(){return p},isChatPeer:function(){return E},isUser:function(){return m},formatTime:function(){return D},wrapLinks:function(){return i.wrapLinks},wrapMention:function(){return v},wrapCommunityUrl:function(){return A},sendDataToMessage:function(){return h},getMsgSendId:function(){return C},mailRequest:function(){return T},getStickerSize:function(){return w},prepareKeyboard:function(){return S},isMessageWithoutLocalId:function(){return y},isForwardedMessageId:function(){return b},isNewMailPage:function(){return O}});var r,i=n(67196),o=n(12315),a=n(63545),u=n(20848),s=n(40906),c=n(51976),_=/\[((id|club)\d+)\|([\S\s]+?)]/g,l=/\[((id|club)\d+)\|@([\S\s]+?)]/g,d=/\[([^\$]+?)\|([^\$]+?)\]/g,f=10;function p(e){return e>19e8&&e<=2e9}function E(e){return e>2e9}function m(e){return e>0&&e<=19e8}function D(e,t){void 0===t&&(t=0);var n=new Date(1e3*e),r=n.getTimezoneOffset(),i=-t/60-180;if(r!==i){var o=60*(i-r)*1e3;n.setTime(1e3*e-o)}return(0,u.langDate)(n,window.lang.mobile_micro_time,0,window.lang.months_sm_of)}function g(e,t){return'<a href="/'+(0,s.htsc)(e)+'" mention_id="'+(0,s.htsc)(e)+'" class="mem_link">'+(0,s.htsc)(t)+"</a>"}function v(e,t){return e=e.replace(c.MASS_MENTION_REGEXP,(e=>"<a>"+e+"</a>")),e=t?e.replace(d,((e,t,n)=>g(t,n))):e.replace(_,((e,t,n,r)=>g(t,r)))}function A(e){var t=o.default.getQuery("community");return t&&(e+="&community="+t),e}function h(e,t){var n,o,{cur:u,members:c}=store.mail,_=Date.now()/1e3,l=D(_,u.timeShift),d=e.message||"";"send"!==e.act&&e.id&&(n=store.mail.msgs[e.id]),r||(r=document.createElement("div")),r.textContent=d,d=(0,s.htsc)(r.innerHTML),r.textContent="";var f,p={},E="";if("audiomsg"===e.media&&"doc"===e.attach1_type)p.audiomsg=1,E=e.attachesHTML;else if(e.media&&0===e.media.indexOf("sticker")){p.sticker=1;var m=+e.media.replace("sticker","");m&&(f={id:m,url:Stickers.getStickerUrl(m,w()),height:128})}else for(var g,A=1;g=e["attach"+A+"_type"];A++)p[g]?p[g]+=1:p[g]=1;o=e.attached_messages?(e.attached_messages+"").split(";"):e.mail_edit_attach_fwd&&n?n.forwards.concat():[];var h=!!e.has_reply,C="send"===e.act?"send"+e.random_id:"edit"+e.id,T=d,S=T=T.replace(/(@|\*)(\S+)(?: +\(([^\n]+?)\))?/g,((e,t,n,r)=>{r||(r=t+n);var i=0,o=/^(club|public|event)([\d]+)$/.exec(n);/^id[\d]+$/.test(n)?i=parseInt(n.substr(2)):o&&(i=parseInt(o[2]));for(var a="id",u=Object.keys(c),s=0,_=u.length;s<_;s++){var l=u[s];if(c[l]&&c[l].domain===n){i=l;break}}return"-"===i[0]&&(i=i.slice(1),a="club"),i?"["+a+i+"|"+r+"]":e}));S=v(S=(0,i.wrapLinks)(S),!0),S=(0,a.emojiToHTML)(S);var y={id:"send"===e.act?C:e.id,sendId:C,peerId:"send"===e.act?e.to:e.peerId,authorId:u.viewerId,adminId:u.groupId?u.userId:void 0,ts:_,date:l,dateShort:l,text:S,textInput:d,body:T,isUnread:!n||n.isUnread,isOut:!0,edited:"send"!==e.act,canEdit:!1,attaches:p,attachesHTML:E,forwards:h?[]:o,hasReply:h,reply:h?o[0]:void 0,pending:!t,failed:!!t,attachesLoading:!!Object.keys(p).length};return u.groupId&&(y.adminName=lang.mobile_mail_you,y.adminUrl=c[u.userId].url),f&&(y.sticker=f),y}function C(e){return e.edited?"edit"+e.id:"send"+e.randomId}function T(e,t){return new Promise(((n,r)=>{(0,u.ajaxRequest)(e,t,(e=>{e.error?r({type:"server",code:e.code||0,message:e.message||""}):n(e.result)}),((e,t,n)=>{var i=null,o="unknown",a=0;if(n instanceof XMLHttpRequest){var u=n;0===u.status?o="network":(o="server_status",a=u.status)}else 0===e&&null==t&&null==n?o="response_parsing":e===ajax.RESPONSE_CAPTCHA?(o="captcha",i=n):o="unknown";r({type:o,code:a,message:"",data:i})}),{captchaHandler:!1})}))}function w(){return hasClass("x2",document.body)?256:128}function S(e){var{keyboard:t,authorId:n,msgId:r}=e;if(t.buttons&&t.buttons.length){t=Object.assign(t,{author_id:n,chat_local_id:r});var i=document.createElement("div");t.buttons.forEach((e=>{e.forEach((e=>{var t=e.action.label;i.textContent=t;var n=i.innerHTML;e.action.label=(0,a.emojiToHTML)(n),e.action.rawLabel=t}))})),i=null}else t=null;return t}function y(e){return"string"==typeof e&&"~"===e[0]}function b(e){return!(isFinite(e)||y(e))}function O(e,t){if(void 0===e&&(e=""),void 0===t&&(t=""),!window.isNewMail)return!1;if(0===e.indexOf("/write"))return!0;"string"==typeof t&&(t=(0,u.qs2obj)("?"===t[0]?t.slice(1):t));var{act:n,m:r}=t;return"/mail"===e&&"add_to_chat"!==n&&"flush_history"!==n&&"info"!==n&&"unpin"!==n&&"edit_chat"!==n&&"change_chat_name"!==n&&"leave_chat"!==n&&"new_chat"!==n&&"chat_preview"!==n&&"return_to_chat"!==n&&"show_medias"!==n&&"send_school_grade"!==n&&"toggle_community_block"!==n&&"community_toggle_important"!==n&&"ban_user"!==n&&"add_user"!==n&&"community_mark_answered"!==n&&"invite_link"!==n&&"reset_link"!==n&&"send"!==n&&"show_peer_profile"!==n&&"toggle_peer_profile_tags"!==n&&"edit_peer_profile_tags"!==n&&"edit_peer_profile_note"!==n&&70!=r&&71!=r&&76!=r&&784!=r&&783!=r&&786!=r&&785!=r&&787!=r}},15247:function(e,t,n){"use strict";function r(e,t,n){void 0===n&&(n=!0);var r=need("nav");if(!t)return e;var[i,o]=e.split("?"),a={},u=[];return o&&o.split("&").map((e=>{var[n,r]=e.split("=");n in t||(t[n]=r)})),Object.keys(t).forEach((e=>{var n,i=t[e];!0===i&&(i=r.getQuery(e)),("string"==typeof(n=i)&&n||function(e){return"number"==typeof e&&!isNaN(e)}(i))&&(a[e]=i)})),Object.keys(a).forEach((e=>{var t=n?encodeURIComponent(a[e]):a[e];u.push(e+"="+t)})),0===u.length?i:i+"?"+u.join("&")}n.d(t,{makeUrl:function(){return r},parseURL:function(){return o}}),t.default=window.Url={make:r};var i=["protocol","hostname","host","pathname","port","search","hash","href"];function o(e){var t=window.ce("a",{href:e}),n=i.reduce(((e,n)=>(e[n]=t[n],e)),{});return n.requestUri=""+n.pathname+n.search,n}},20848:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{onBodyScroll:function(){return onBodyScroll},onBodyResize:function(){return onBodyResize},re:function(){return re},flatArray:function(){return flatArray},isUndefined:function(){return _shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.isUndefined},isFunction:function(){return _shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.isFunction},isArray:function(){return _shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.isArray},isObject:function(){return _shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.isObject},isEmpty:function(){return _shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.isEmpty},escapeRE:function(){return _shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.escapeRE},htsc:function(){return _shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.htsc},escapeAttr:function(){return _shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.escapeAttr},replaceEntities:function(){return _shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.replaceEntities},escapeStr:function(){return _shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.escapeStr},stripTags:function(){return _shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.stripTags},srand:function(){return _shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.srand},isHttpHref:function(){return _shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.isHttpHref},intval:function(){return intval},qs2obj:function(){return qs2obj},obj2qs:function(){return obj2qs},parseJSON:function(){return parseJSON},lsCheck:function(){return lsCheck},lsSet:function(){return lsSet},lsGet:function(){return lsGet},ssGet:function(){return ssGet},len:function(){return len},each:function(){return _shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.each},copy:function(){return _shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.copy},addEvent:function(){return addEvent},removeEvent:function(){return removeEvent},preventEvent:function(){return preventEvent},stopEvent:function(){return stopEvent},cancelEvent:function(){return cancelEvent},checkEvent:function(){return checkEvent},submitBtn:function(){return submitBtn},createIframe:function(){return createIframe},winToUtf:function(){return winToUtf},checkNav:function(){return checkNav},checkElementNav:function(){return checkElementNav},checkTouchHover:function(){return checkTouchHover},parseCyr:function(){return parseCyr},parseLat:function(){return parseLat},parseRusKeys:function(){return parseRusKeys},parseLatKeys:function(){return parseLatKeys},scrollTop:function(){return scrollTop},se:function(){return se},onBodyScrollForce:function(){return onBodyScrollForce},sgFix:function(){return sgFix},initAutoScroll:function(){return initAutoScroll},autoScroll:function(){return autoScroll},scrollToEl:function(){return scrollToEl},scrollToHash:function(){return scrollToHash},lockButton:function(){return lockButton},unlockButton:function(){return unlockButton},extend:function(){return extend},ge:function(){return ge},geByClass:function(){return geByClass},geByClass1:function(){return geByClass1},gpeByClass:function(){return gpeByClass},geByTag:function(){return geByTag},geByTag1:function(){return geByTag1},gpeByTag:function(){return gpeByTag},geBySel1:function(){return geBySel1},domNS:function(){return domNS},domPS:function(){return domPS},append:function(){return append},before:function(){return before},after:function(){return after},replace:function(){return replace},remove:function(){return remove},clone:function(){return clone},reflow:function(){return reflow},outer:function(){return outer},show:function(){return show},hide:function(){return hide},isVisible:function(){return isVisible},toggle:function(){return toggle},ce:function(){return ce},elfocus:function(){return elfocus},elblur:function(){return elblur},val:function(){return val},attr:function(){return attr},getStyle:function(){return getStyle},setStyle:function(){return setStyle},hasClass:function(){return hasClass},addClass:function(){return addClass},removeClass:function(){return removeClass},toggleClass:function(){return toggleClass},replaceClass:function(){return replaceClass},getXY:function(){return getXY},getX:function(){return getX},getY:function(){return getY},getW:function(){return getW},getH:function(){return getH},getSize:function(){return getSize},getCw:function(){return getCw},getCh:function(){return getCh},evalJs:function(){return evalJs},getHref:function(){return getHref},indexOf:function(){return indexOf},langSex:function(){return langSex},langNumeric:function(){return langNumeric},langDate:function(){return langDate},setNotify:function(){return setNotify},uploadFile:function(){return uploadFile},trim:function(){return trim},domPN:function(){return domPN},domCA:function(){return domCA},getLang:function(){return getLang},domData:function(){return domData},throttle:function(){return throttle},debounce:function(){return debounce},scrollGetY:function(){return scrollGetY},safeSet:function(){return safeSet},domFC:function(){return domFC},domLC:function(){return domLC},domInsertAfter:function(){return domInsertAfter},domInsertBefore:function(){return domInsertBefore},need:function(){return need},isString:function(){return _shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.isString},ceFromString:function(){return _mobile_lib_utils_DOM__WEBPACK_IMPORTED_MODULE_4__.ceFromString},isIosWebView:function(){return isIosWebView},isSFSafariViewController:function(){return isSFSafariViewController},isAndroidWebView:function(){return isAndroidWebView},isVkWebView:function(){return isVkWebView},statlogsValueEvent:function(){return _shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_7__.statlogsValueEvent},ajaxRequest:function(){return ajaxRequest},last:function(){return last},toInt:function(){return toInt},openApp:function(){return openApp},getPreloadData:function(){return getPreloadData},matchesSelector:function(){return matchesSelector},initStickySimulator:function(){return initStickySimulator},isElement:function(){return _shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.isElement},ajaxLayoutEnabled:function(){return ajaxLayoutEnabled}});var _shared_lib_dom__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(30104),_shared_lib_ls__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(26330),_mobile_browser__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(49265),_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(40906),_mobile_lib_Dollars__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(71437),_mobile_lib_utils_Array__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(11397),_mobile_lib_utils_DOM__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(18226),_mobile_lib_utils_debug__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(48640),_shared_lib_js_logger__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(45582),_shared_lib_nav_url__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(25781),_shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(79957),select__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(35455),select__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(select__WEBPACK_IMPORTED_MODULE_8__),_shared_user_user_env__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(19331),_mobile_lib_PostsObserver__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(82842),_shared_lib_detections__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(55971),_mobile_lib_befall__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(75105),_shared_lib_SAKIntegration__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(65256),_shared_helpers_html_entities__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(49849),_shared_lib_strings__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(42030),registeredEvents,onBodyScroll,onBodyResize;registeredEvents=window.registeredEvents?window.registeredEvents:[],onBodyScroll=window.onBodyScroll?window.onBodyScroll:se(scrollTop),onBodyResize=window.onBodyResize?window.onBodyResize:se();var re=remove,lsCheck=_shared_lib_ls__WEBPACK_IMPORTED_MODULE_0__.default.checkVersion,lsRemove=_shared_lib_ls__WEBPACK_IMPORTED_MODULE_0__.default.remove,lsSet=_shared_lib_ls__WEBPACK_IMPORTED_MODULE_0__.default.set,lsGet=_shared_lib_ls__WEBPACK_IMPORTED_MODULE_0__.default.get,_logTimer;function need(e){var t=safeGet(window,e);if(void 0===t)throw"Unable to get `window."+e+"`";return t}function bind(){var e=Array.prototype.slice.call(arguments),t=e.shift(),n=e.shift();return function(){var r=Array.prototype.slice.call(arguments);return t.apply(n,e.concat(r))}}function intval(e){return!0===e?1:parseInt(e)||0}function floatval(e){return!0===e?1:parseFloat(e)||0}function qs2obj(e){if(!e)return{};for(var t={},n=e.toString().split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");if(o[0])try{var a=decodeURIComponent(o[0]);try{var u=decodeURIComponent(o[1]||"");t[a]=u}catch(e){t[a]=o[1]||""}}catch(e){t[o[0]]=o[1]||""}}return t}function obj2qs(e){if(!e)return"";var t=[];for(var n in e)t.push(encodeURIComponent(n)+(e[n]?"="+encodeURIComponent(e[n].toString()||""):""));return t.length?"?"+t.join("&"):""}function parseJSON(obj){try{return JSON.parse(obj)}catch(e){return eval("("+obj+")")}}function ssCheck(){return void 0!==window.sessionStorage&&void 0!==window.JSON}function ssSet(e,t){if(void 0!==t)try{return sessionStorage.setItem(e,JSON.stringify(t))}catch(e){}else try{return sessionStorage.removeItem(e)}catch(e){}return!1}function ssGet(e){try{return JSON.parse(sessionStorage.getItem(e))}catch(e){}return!1}function getValues(e){if(!(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.isArray)(e))return e.call?e():e;for(var t=[],n=0,r=e.length;n<r;n++)t.push(getValues(e[n]));return t}function len(e){if((0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.isArray)(e))return e.length;if((0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.isObject)(e)){var t=0;for(var n in e)t++;return t}return 0}function realSubstr(e,t){return(e=e||"").length>t&&(e=(e=(e=(e=e.substr(0,t-3)).replace(/&[^;]{0,6}$/,"")).replace(/<[^>]*$/,"")).replace(/(\s|<br\s*\/?>)+$/,""),e+=".."),e}function hashCode(e){var t=0;if(0===e.length)return t;for(var n=0,r=e.length;n<r;n++){t=(t<<5)-t+e.charCodeAt(n),t|=0}return t}function formatNum(e){if(!window.langConfig)return e;for(var t=e.toString().split("."),n=[],r=t[0].length-3;r>-3;r-=3)n.unshift(t[0].slice(r>0?r:0,r+3));return t[0]=n.join(window.langConfig.numDel),e=t.join(window.langConfig.numDec)}window._UtilsInited||(Object.assign(window,{onBodyScroll,onBodyResize,re,flatten,flatArray,formatTime,isUndefined:_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.isUndefined,isFunction:_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.isFunction,isFormData:_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.isFormData,isArray:_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.isArray,isObject:_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.isObject,isEmpty:_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.isEmpty,escapeRE:_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.escapeRE,htsc:_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.htsc,escapeAttr:_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.escapeAttr,unescapeAttr:_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.unescapeAttr,replaceEntities:_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.replaceEntities,escapeStr:_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.escapeStr,stripTags:_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.stripTags,rand:_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.rand,srand:_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.srand,utf2win:_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.utf2win,isHttpHref:_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.isHttpHref,vkNow:_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.vkNow,bind,intval,floatval,qs2obj,obj2qs,parseJSON,lsCheck,lsSet,lsGet,ssCheck,lsRemove,ssSet,ssGet,getValues,len,realSubstr,hashCode,formatNum,each:_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.each,copy:_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.copy,addEvent,removeEvent,preventEvent,stopEvent,cancelEvent,checkEvent,onCtrlEnter,submitBtn,createIframe,winToUtf,shortCurrency,checkNav,checkElementNav,checkTouchHover,parseCyr,parseLat,parseRusKeys,parseLatKeys,scrollLeft,scrollTop,se,onBodyScrollForce,sgFix,checkPostsSeen,initPostsStats,initAutoScroll,autoScroll,scrollToEl,scrollToHash,lockButton,unlockButton,extend,ge,geByClass,geByClass1,gpeByClass,geByTag,geByTag1,gpeByTag,geBySel,geBySel1,domNS,domPS,append,before,after,replace,remove,clone,reflow,tag,outer,show,hide,isVisible,toggle,ce,elfocus,elblur,val,attr,cssToJs,getCssPropertyName,cssValue,getStyle,setStyle,hasClass,addClass,removeClass,toggleClass,replaceClass,switchClass,getXY,getX,getY,getW,getH,getSize,getCw,getCh,evalJs,getHref,indexOf,langSex,langNumeric,langWordNumeric,langDate,setNotify,getNotify,canUploadFile,uploadFile,readFile,registeredEvents,trim,domClosestOverflowHidden,copyToClipboard,blinkItem,domPN,domCA,getLang,domData,throttle,debounce,scrollGetX,scrollGetY,domChildIndex,domChildren,safeGet,safeSet,disableFlex,domQuery,domQuery1,domFC,domLC,domInsertAfter,domInsertBefore,alwaysArray,need,isString:_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.isString,ceFromString:_mobile_lib_utils_DOM__WEBPACK_IMPORTED_MODULE_4__.ceFromString,isIosWebView,isSFSafariViewController,isAndroidWebView,isVkWebView,statlogsValueEvent:_shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_7__.statlogsValueEvent,ajaxRequest,arrayRemove:_mobile_lib_utils_Array__WEBPACK_IMPORTED_MODULE_3__.arrayRemove,arrayIntersects:_mobile_lib_utils_Array__WEBPACK_IMPORTED_MODULE_3__.arrayIntersects,asc,desc,unique,first,last,toInt,toArray,groupBy,domInsert,openApp,rs,domCreate,getPreloadData,getImageOrientation,matchesSelector,getRect}),window._UtilsInited=!0),_logTimer=(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.vkNow)(),window.clog=function(e){var{vk:t}=window;if(t&&t.__debug)try{if(window.console&&console.log){var n=Array.prototype.slice.call(arguments);n.unshift("["+((0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.vkNow)()-_logTimer)/1e3+"] ");var{browser:r}=window;r.msie||r.mobile&&!r.safari_mobile?console.log(n.join(" ")):console.log.apply(console,n)}}catch(e){}};var rf=function(){return!1},eventPassiveSupported=!1;try{var options=Object.defineProperty({},"passive",{get:function(){eventPassiveSupported=!0}});window.addEventListener("test",null,options),window.removeEventListener("test",null,options)}catch(e){}function addEvent(e,t,n,r){var i=!!r&&!0===r.capture,o=!!r&&!0===r.passive;if(e=ge(e),n=n||rf,e&&3!=e.nodeType&&8!=e.nodeType){e.setInterval&&e!=window&&(e=window);for(var a=0,u=(t=t.split(" ")).length;a<u;a++){var s=t[a];e.addEventListener?e.addEventListener(s,n,eventPassiveSupported?{passive:o,capture:i}:i):e.attachEvent&&e.attachEvent("on"+s,n),registeredEvents.push([e,s,n])}}}function removeEvent(e,t,n,r){var i=!!r&&!0===r.capture,o=!!r&&!0===r.passive;if(e=ge(e),n=n||rf,e&&3!=e.nodeType&&8!=e.nodeType)for(var a=0,u=(t=t.split(" ")).length;a<u;a++){var s=t[a];e.removeEventListener?e.removeEventListener(s,n,eventPassiveSupported?{passive:o,capture:i}:i):e.detachEvent&&e.detachEvent("on"+s,n)}}function preventEvent(e){return!!(e=e||window.event)&&(!(!(e=e.originalEvent||e)||!e.cancelable)&&(e.preventDefault&&e.preventDefault(),e.returnValue=!1,!1))}function stopEvent(e){return!!(e=e||window.event)&&((e=e.originalEvent||e).stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,!1)}function cancelEvent(e){return!(!(e=e||window.event)||!e.cancelable)&&((e=e.originalEvent||e).preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,e.returnValue=!1,!1)}function checkEvent(e){return(e=e||window.event)&&("click"===e.type||"mousedown"===e.type||"mouseup"===e.type)&&(e.which>1||e.button>1||e.ctrlKey||e.shiftKey||e.metaKey)}function onCtrlEnter(e,t,n){var{browser:r}=window;if(10==(t=t||window.event).keyCode||13==t.keyCode&&(t.ctrlKey||t.metaKey&&r.mac)){if((0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.isUndefined)(n)){var i=submitBtn(e);i&&i.click()}else n.call(e);cancelEvent(t)}}function submitBtn(e){if(!e)return!1;var t="form"===tag(e)?e:e.form||gpeByTag("form",e);if(!t)return!1;for(var n in t){var r=t[n],i=tag(r);if("button"===i&&"submit"===r.type||"input"===i&&"submit"===r.type&&/(^|\\s)(small_)?button(\\s|$)/i.test(r.className)&&!r.name)return r}return!1}function createIframe(e,t){var n=ce("iframe",e=extend(e||{},{border:"0"}),t=extend(t||{},{position:"absolute",width:1,height:1,left:10}));return append(n,"vk_utils"),n}function winToUtf(e){return void 0===e&&(e=""),String(e).replace(/&#(\d\d+);/g,(function(e,t){return(t=intval(t))>=32?String.fromCharCode(t):e})).replace(/&quot;/gi,'"').replace(/&lt;/gi,"<").replace(/&gt;/gi,">").replace(/&amp;/gi,"&")}function shortCurrency(){var e={};(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.each)(geByClass("_short_currency"),(function(){var t=this.getAttribute("data-short")||"",n=winToUtf(t).length,r=getStyle(this,"fontFamily")||"tahoma,arial,sans-serif";if(!t)return!0;if((0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.isUndefined)(e[r])){for(var i="",o=n-1;o>=0;o--)i+="&#8399;";var a=ce("div",{innerHTML:"<b>"+t+"</b><b>"+i+"</b>"},{fontFamily:r,fontSize:"24px"}),u=ge("vk_utils");u&&u.appendChild(a),e[r]=Math.abs(a.firstChild.offsetWidth-a.lastChild.offsetWidth)>=2*n,remove(a)}e[r]&&val(this,t)}))}function isHavePreactedListener(e,t){return e&&e.getAttribute("preacted-on"+t)}function checkNav(e,t){if(!(e=ge(e)))return!1;do{if(checkElementNav(e,t))return e}while(e=e.parentNode);return!1}function checkElementNav(e,t){if(!ajaxLayoutEnabled())return!1;if(!e)return!1;if(t=t||{},"a"===tag(e)){var n=t.skip_onclick||e.getAttribute("data-skiponclick")||!e.getAttribute("onclick")&&!e.getAttribute("data-task-click"),r=e.getAttribute("href")||e.getAttribute("data-href"),i=hasClass("al_nav",e);if(n&&r||i){if(e.hostname)var o=e.hostname;else{var a=e.href||attr(e,"data-href");o=(/^(https?:)\/\/([^:\/]+)?(?::(\d+))?\/?(.*)$/i.exec(a)||[])[2]}if("_blank"===e.target&&t.skip_blank||t.skip_clicable)return!0;if("_blank"!==e.target&&(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.isHttpHref)(a)){var u=!o,s=(0,_shared_lib_nav_url__WEBPACK_IMPORTED_MODULE_6__.isVKSiteHostnameSameSubdomainForNav)(o);if(u||s)return!0;if(t.allow_post_away&&o&&e.getAttribute("data-post-id")&&e.getAttribute("data-post-click-type"))return e.setAttribute("data-change-location-with-post-away",1),!0}}}else if("input"==tag(e)||"button"===tag(e)&&e.form&&!e.form.getAttribute("onsubmit")&&!isHavePreactedListener(e.form,"submit")){if(e.form&&("submit"==e.type||"image"==e.type)&&(t.skip_onclick||e.getAttribute("data-skiponclick")||!e.getAttribute("onclick"))||hasClass("al_nav",e))return!0}else if("label"==tag(e)&&t.skip_clicable&&(e.htmlFor||geByTag1("input",e)&&(t.skip_onclick||e.getAttribute("data-skiponclick")||!e.getAttribute("onclick"))||hasClass("al_nav",e)))return!0;return!1}function checkTouchHover(e){if(!(e=ge(e)))return!1;do{if(e.classList&&(e.classList.contains("ContextMenu__listLink")||e.classList.contains("cm_item")||e.classList.contains("wia_item")||e.classList.contains("mva_item"))&&e.closest(".ContextMenu"))return e.parentNode;if(e.classList&&e.classList.contains("Row_style_withHover"))return e;if("a"==tag(e)||hasClass("al_photo",e))return e;if(hasClass(Btn.className,e))return e;if("label"==tag(e)&&hasClass("option_row",e))return e;if(hasClass("_touched",e))return e;if(e.getAttribute&&"button"===e.getAttribute("role"))return e}while(e=e.parentNode);return!1}function trim(e){return(e||"").trim()}function parseCyr(e,t){for(var n=e,r=["yo","zh","kh","ts","ch","sch","shch","sh","eh","yu","ya","YO","ZH","KH","TS","CH","SCH","SHCH","SH","EH","YU","YA","'"],i=["ё","ж","х","ц","ч","щ","щ","ш","э","ю","я","Ё","Ж","Х","Ц","Ч","Щ","Щ","Ш","Э","Ю","Я","ь"],o=0,a=r.length;o<a;o++)n=t?n.split(r[o]).join(i[o]):n.split(i[o]).join(r[o]);var u="abvgdezijklmnoprstufhcyABVGDEZIJKLMNOPRSTUFHCYёЁ",s="абвгдезийклмнопрстуфхцыАБВГДЕЗИЙКЛМНОПРСТУФХЦЫеЕ";for(o=0,a=u.length;o<a;o++)n=t?n.split(u.charAt(o)).join(s.charAt(o)):n.split(s.charAt(o)).join(u.charAt(o));return n==e?null:n}function parseLat(e){return parseCyr(e,!0)}function parseRusKeys(e,t,n){if(!t)return null;for(var r=e,i="qwertyuiop[]asdfghjkl;'zxcvbnm,./`QWERTYUIOP{}ASDFGHJKL:\"ZXCVBNM<>?~",o="йцукенгшщзхъфывапролджэячсмитьбю.ёЙЦУКЕНГШЩЗХЪФЫВАПРОЛДЖЭЯЧСМИТЬБЮ,Ё",a=0,u=i.length;a<u;a++)r=n?r.split(i.charAt(a)).join(o.charAt(a)):r.split(o.charAt(a)).join(i.charAt(a));return r==e?null:r}function parseLatKeys(e,t){return parseRusKeys(e,t,!0)}function scrollLeft(){var{htmlNode:e,bodyNode:t,scrollBodyNode:n}=window;return e&&e.scrollLeft||n&&n.scrollLeft||t&&t.scrollLeft||window.scrollX||0}function scrollTop(e,t){var n,{htmlNode:r,bodyNode:i,scrollBodyNode:o}=window;if(void 0===e)return(null==(n=[r,o,i].find((e=>e&&"scrollTop"in e&&e.scrollTop>0)))?void 0:n.scrollTop)||0;t?setTimeout((()=>{window.scrollTo(0,Math.max(0,e))}),t):window.scrollTo(0,Math.max(0,e))}function se(){var e=[],t=Array.prototype.slice.call(arguments);return function(n,r){if(n)if(n.apply)e.push(n);else if("__clear"===n)if(r){for(var i=0,o=e.length;i<o;i++)if(e[i]===r){e.splice(i,1);break}}else e=[];else{var a=Array.prototype.slice.call(arguments);a.shift();var u=0;for(o=e.length;u<o;u++)e[u].apply(window,getValues(t).concat(a))}}}function onBodyScrollForce(e){var{onBodyScroll:t,onDOMReady:n}=window;e?setTimeout((function(){t(!0)}),e):n((function(){t(!0)}))}function sgFix(){var{_ua:e,ajax:t,page:n,clog:r}=window;/galaxy|gt\-/i.test(e)&&(window.vkSGi=0,window.vkAjax=t,window.vkPage=n,function e(){if(!(++window.vkSGi>25))return t!==window.vkAjax||n!==window.vkPage?(t=window.vkAjax,n=window.vkPage,r("SG fixed"),void delete window.vkSGi):void setTimeout(e,200);delete window.vkSGi}())}var VIEW_BIT_TOP=1,VIEW_BIT_BOTTOM=2,VIEW_BIT_TOP_AND_BOTTOM=VIEW_BIT_TOP|VIEW_BIT_BOTTOM,WALL_ITEM_CONTAINER_CLASS_GENERIC="js-wall_item",WALL_ITEM_SELECTOR=".wall_item, .post_item, ."+WALL_ITEM_CONTAINER_CLASS_GENERIC;function checkPostsSeen(){var{cur:e,pStats:t}=window;if(e&&e.alPostsStatsObjects){var n=getValues(e.alPostsStatsObjects);if(n){var r=scrollTop(),i=r+getCh(),o=[];n.forEach(((e,n)=>{var a=(0,_shared_lib_dom__WEBPACK_IMPORTED_MODULE_14__.findChildOrSelf)(e,WALL_ITEM_SELECTOR);if(a){if(attr(a,"data-ignore"))return!0;var u=attr(a,"data-clicked");if(!e.observer_bits||u){var s=e.bits||0;if(s>=VIEW_BIT_TOP_AND_BOTTOM)return!0;var c=getY(e),_=c+e.offsetHeight;if(_<r||c>i)return!0;if(s|=c>=r&&c<i||u?VIEW_BIT_TOP:0,s|=_>=r&&_<i||u?VIEW_BIT_BOTTOM:0){if(e.bits=s,s===VIEW_BIT_TOP_AND_BOTTOM){window.pStats.__debug&&(0,_mobile_lib_utils_debug__WEBPACK_IMPORTED_MODULE_15__.blinkItemColor)(a);var l=t.postsGetRaws(a,e);o.push(l),t.viewed(a)}isPostViewStarted(s)&&t.onViewStarted(a)}}}})),t.seen(o)}}}function isPostViewStarted(e){return Boolean(e&VIEW_BIT_TOP||e&VIEW_BIT_BOTTOM)}var ignoreIntersectionObserver=!1,isReady,readyList,ready,doc,frag,elem,range;function initPostsStats(e){var{cur:t,onBodyScroll:n,onDOMReady:r}=window;if(t&&e){if(t.alPostsStatsObjects=e,(0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_9__.partConfigEnabled)("mvk_intersection_observer")&&!ignoreIntersectionObserver&&(0,_shared_lib_detections__WEBPACK_IMPORTED_MODULE_16__.isIntersectionObserverSupported)()){var i=new _mobile_lib_PostsObserver__WEBPACK_IMPORTED_MODULE_10__.PostsObserver(t.alPostsStatsObjects());function e(){i.onNewPosts(t.alPostsStatsObjects())}window.ajax.onPostsLoad(e),r((()=>{e()})),t.destroy.push((()=>{ajax.onPostsLoad.off(e),i.disconnect()}))}else ignoreIntersectionObserver=!0,n((function(){checkPostsSeen()})),r((function(){checkPostsSeen()}));(0,_mobile_lib_befall__WEBPACK_IMPORTED_MODULE_11__.onEmitOnce)(window.nav.onBeforeGo,(()=>{window.pStats.send(),window.pStats.resetSendTimer()}))}}function initAutoScroll(e,t,n){var{onBodyScroll:r}=window;if(e&&t){var i=(n=n||{}).delta||!1;("function"==typeof n.onScroll?n.onScroll:r)(throttle((function(n){var r=e();if(r){var o=getY(r),a=getCh();o>0&&o-n-a<(i||2*a)&&t.call(r)}}),33))}}function autoScroll(e,t,n){var{ajax:r}=window;n=n||{};var i=getValues(e),o=ge("show_more_loading"),a=n.no_cache||!1,u=function(){r.click(this,t,{use_cache:!a,closeContextMenu:!1})};!i&&o&&u.call(o),initAutoScroll(e,u,n)}function scrollToEl(e,t,n){t=t||0,scrollTop(((e=ge(e)||window)===window?1:getY(e))-t,n)}function scrollToHash(e){var{nav:t}=window;if("#"===(e=e||t.hash||location.hash)[0]&&(e=e.substr(1)),e){var n=geBySel("a[name]");!1===n&&(n=geByTag("a")),(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.each)(n,(function(t,n){if(n.name==e)return scrollToEl(n),!1}))}}function lockButton(e){var t=ge(e);if(t.classList.contains("Btn"))Btn.setLoading(t,!0);else if(/(^|\s)(small_)?button(\s|$)/i.test(t.className)){var n=ce("button",{id:t.id,className:t.className,innerHTML:'<span class="button_locked"><b class="button_locked_label">'+(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.htsc)(val(t))+"</b></span>",onclick:function(e){return cancelEvent(e)},real_btn:t});t.fake_btn=n,before(n,t),remove(t)}}function unlockButton(e){var t=ge(e);t.classList.contains("Btn")?Btn.setLoading(t,!1):t.real_btn?(before(t.real_btn,t),remove(t),t.real_btn.fake_btn=null,t.real_btn=null):t.fake_btn&&(before(t,t.fake_btn),remove(t.fake_btn),t.fake_btn.real_btn=null,t.fake_btn=null)}function extend(){var e=Array.prototype.slice.call(arguments),t=e.shift();if(!e.length)return t;for(var n=0,r=e.length;n<r;n++)for(var i in e[n])"layerX"!=i&&"layerY"!=i&&(t[i]=e[n][i]);return t}function ge(e){return"string"==typeof e?document.getElementById(e):e}function geByClass(e,t,n){if(n=n||"*",(t=ge(t)||document).getElementsByClassName){var r=t.getElementsByClassName(e);if("*"==n)return Array.prototype.slice.call(r);var i=[];n=n.toUpperCase();for(var o=0,a=r.length;o<a;o++)r[o].tagName.toUpperCase()==n&&i.push(r[o]);return i}r=geByTag(n,t),i=[];var u=new RegExp("(^|\\s)"+(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.escapeRE)(e)+"(\\s|$)");for(o=0,a=r.length;o<a;o++)u.test(r[o].className)&&i.push(r[o]);return i}function geByClass1(e,t,n){return geByClass(e,t,n)[0]}function gpeByClass(e,t){if(!(t=ge(t)))return null;for(;t=t.parentNode;)if(hasClass(e,t))return t;return null}function geByTag(e,t){return(ge(t)||document).getElementsByTagName(e)}function geByTag1(e,t){return geByTag(e,t)[0]}function gpeByTag(e,t){if(!(t=ge(t)))return null;for(e=e.toUpperCase();t=t.parentNode;)if(t.tagName&&t.tagName.toUpperCase()==e)return t;return null}function geBySel(e,t){return!!(t=ge(t)||document).querySelectorAll&&t.querySelectorAll(e)}function geBySel1(e,t){return!!(t=ge(t)||document).querySelector&&t.querySelector(e)}function append(e,t){return e=ge(e),t=ge(t),e&&t&&t.appendChild(e)||!1}function before(e,t){return(t=ge(t))&&t.parentNode&&t.parentNode.insertBefore(ge(e),t)||!1}function after(e,t){return(t=ge(t))&&t.parentNode&&t.parentNode.insertBefore(ge(e),t.nextSibling)||!1}function replace(e,t){before(e,t)&&remove(t)}function remove(e){return!(!(e=ge(e))||!e.parentNode)&&e.parentNode.removeChild(e)}function clone(e){return!!(e=ge(e))&&e.cloneNode(!0)}function reflow(e){e=ge(e);try{e.offsetWidth,e.offsetHeight}catch(e){}}function tag(e){return((e=ge(e))&&e.tagName||"").toLowerCase()}function outer(e){return(e=ge(e))?val(ce("div").appendChild(clone(e)).parentNode):""}function show(e){var t=arguments.length;if(t>1)for(var n=0;n<t;n++)show(arguments[n]);else{var r=ge(e);r&&(r.style.display=r.oldstyle||(hasClass("_ib",r)?"inline-block":hasClass("_i",r)||"span"==tag(r)?"inline":"block"))}}function hide(e){var t=arguments.length;if(t>1)for(var n=0;n<t;n++)hide(arguments[n]);else{var r=ge(e);r&&("none"!=r.style.display&&(r.oldstyle=r.style.display),r.style.display="none")}}function isVisible(e){var t=ge(e);return!(!t||!t.style)&&"none"!=t.style.display}function toggle(e,t){void 0===t&&(t=!isVisible(e)),t&&isVisible(e)||(t||isVisible(e))&&(t?show:hide)(e)}function ce(e,t,n){var r=document.createElement(e);return t&&extend(r,t),n&&setStyle(r,n),r}function elfocus(e,t,n){e=ge(e);try{if(e.focus(),void 0!==t&&!1!==t||(t=e.value.length),void 0!==n&&!1!==n||(n=t),e.createTextRange){var r=e.createTextRange();r.collapse(!0),r.moveEnd("character",t),r.moveStart("character",n),r.select()}else e.setSelectionRange&&e.setSelectionRange(t,n)}catch(e){}}function elblur(e){(e=ge(e))&&e.blur&&e.blur()}function val(e,t){if(!(e=ge(e)))return"";var n=e.tagName.toLowerCase(),r="input"==n||"textarea"==n||"select"==n,i=r&&("radio"==e.type||"checkbox"==e.type);if(void 0===t)return r?i?e.checked:e.value:e.innerHTML;if(r)i?e.checked=t:e.value=t;else{e.innerHTML=t;var{ajax:o}=window;"a"!=n&&(o.prepare_click(e),o.onPrepared(!0,e))}}function attr(e,t,n){if(e=ge(e))return void 0===n?"data-"==t.substr(0,5)&&e.dataset?e.dataset[t.substr(5).replace(/-([a-z0-9])/g,(function(e,t){return t.toUpperCase()}))]||!1:e.getAttribute&&e.getAttribute(t)||!1:!1===n?e.removeAttribute&&e.removeAttribute(t)||!1:void(e.setAttribute&&e.setAttribute(t,n))}function cssToJs(e,t){return t?t+(e||"").replace(/(?:^|-)([a-z])/g,(function(e,t){return(t||"").toUpperCase()})):(e||"").replace(/-([a-z])/g,(function(e,t){return(t||"").toUpperCase()}))}function getCssPropertyName(e,t,n){e=ge(e)||ce("div");for(var r=["webkit","Moz","ms","O",""],i=["-webkit-","-moz-","-ms-","-o-",""],o=0,a=r.length;o<a;o++){var u=cssToJs(t,r[o]);if(void 0!==e.style[u])return n?i[o]+t:u}return!1}function cssValue(e,t){if("number"==typeof e){var n=1e7;e=Math.round(e*n)/n+(t||"")}return e}function getStyle(e,t,n){if(!(e=ge(e)))return!1;if((0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.isArray)(t)){var r={};return(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.each)(t,(function(t,n){r[n]=getStyle(e,n)})),r}if((0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.isUndefined)(n)&&(n=!0),/transform(-origin)?|transition(-duration)?/i.test(t)&&!(t=getCssPropertyName(e,t)))return!1;var{browser:i}=window;if(!n&&"opacity"==t&&i.msie)return(s=e.style.filter)?s.indexOf("opacity=")>=0?parseFloat(s.match(/opacity=([^)]*)/)[1])/100+"":"1":"";if(!n&&e.style&&(e.style[t]||"height"==t))return e.style[t];var o,a=document.defaultView||window;if(a.getComputedStyle){t=t.replace(/([A-Z])/g,"-$1").toLowerCase();var u=a.getComputedStyle(e,null);u&&(o=u.getPropertyValue(t))}else if(e.currentStyle){var s;if("opacity"==t&&i.msie)return(s=e.currentStyle.filter)&&s.indexOf("opacity=")>=0?parseFloat(s.match(/opacity=([^)]*)/)[1])/100+"":"1";var c=t.replace(/\-(\w)/g,(function(e,t){return t.toUpperCase()}));"auto"==(o=e.currentStyle[t]||e.currentStyle[c])&&(o=0),o=(o+"").split(" "),(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.each)(o,(function(t,n){if(!/^\d+(px)?$/i.test(n)&&/^\d/.test(n)){var r=e.style,i=r.left,a=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,r.left=n||0,o[t]=r.pixelLeft+"px",r.left=i,e.runtimeStyle.left=a}})),o=o.join(" ")}if(n&&("width"==t||"height"==t)){var _="width"==t?getW(e):getH(e);o=(intval(o)?Math.max(floatval(o),_):_)+"px"}return o}function setStyle(e,t,n){if((e=ge(e))&&e.style){if((0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.isObject)(t))return(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.each)(t,(function(t,n){setStyle(e,t,n)}));var r="number"==typeof n;r&&/height|width/i.test(t)&&(n=Math.abs(n)),/transform(-origin)?|transition(-duration)?/i.test(t)&&!(t=getCssPropertyName(e,t))||(e.style[t]=r&&!/z-?index|font-?weight|opacity|zoom|line-?height/i.test(t)?n+"px":n)}}function hasClass(e,t,n){if("string"==typeof t&&"string"!=typeof e&&([e,t]=[t,e]),t=ge(t))return new RegExp("(^|\\s)"+(n?e:(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.escapeRE)(e))+"(\\s|$)").test(t.className)}function addClass(e,t){"string"==typeof t&&"string"!=typeof e&&([e,t]=[t,e]),(t=ge(t))&&!hasClass(e,t)&&(t.className=(t.className?t.className+" ":"")+e)}function removeClass(e,t,n){"string"==typeof t&&"string"!=typeof e&&([e,t]=[t,e]),(t=ge(t))&&hasClass(e,t,n)&&(t.className=(t.className||"").replace(new RegExp("(^|\\s)"+(n?e:(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.escapeRE)(e))+"(\\s|$)"),(function(e,t,n){return t&&n?" ":""})))}function toggleClass(e,t,n){(void 0===n?hasClass(e,t):!n)?removeClass(e,t):addClass(e,t)}function replaceClass(e,t,n,r){removeClass(e,n,r),addClass(t,n)}function switchClass(e,t,n){hasClass(e,n)?replaceClass(e,t,n):replaceClass(t,e,n)}function getXY(e,t){if(void 0===t&&(t=null),!(e=ge(e)))return[0,0];var n=[0,0];if(t&&(n=getXY(t)),"function"==typeof e.getBoundingClientRect){var r=e.getBoundingClientRect();return[r.left+scrollLeft()-n[0],r.top+scrollTop()-n[1]]}var i=0,o=0;if(e.offsetParent)do{i+=e.offsetLeft,o+=e.offsetTop}while(e=e.offsetParent);return[i-n[0],o-n[1]]}function getX(e,t){return void 0===t&&(t=null),getXY(e,t)[0]}function getY(e,t){return void 0===t&&(t=null),getXY(e,t)[1]}function getW(e){return(e=ge(e))&&e.offsetWidth||0}function getH(e){return(e=ge(e))&&e.offsetHeight||0}function getSize(e){return[getW(e=ge(e)),getH(e)]}function getCw(){return Math.max(window.innerWidth||0,(window.htmlNode||{}).clientWidth||0)}function getCh(){return Math.max(window.innerHeight||0,(window.htmlNode||{}).clientHeight||0)}function evalJs(e){try{window.execScript?window.execScript(e):eval.call(window,e)}catch(t){(0,_shared_lib_js_logger__WEBPACK_IMPORTED_MODULE_5__.logEvalError)(t,e)}}function domData(e,t,n){return e?void 0!==n?(null===n?e.removeAttribute("data-"+t):e.setAttribute("data-"+t,n),n):e.getAttribute("data-"+t):null}function getHref(e){if(!e)return!1;var t=!1;return e.getAttribute&&(t=e.getAttribute("data-href")||e.getAttribute("href")),t||(e.pathname?t=e.pathname+e.search+e.hash:tag(e)||(t=e)),t||!1}function indexOf(e,t,n){for(var r=n||0,i=(e||[]).length;r<i;r++)if(e[r]==t)return r;return-1}function isToday(e){var t=new Date;return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}function isYesterday(e){return isToday(new Date(e.getTime()+864e5))}function isTomorrow(e){return isToday(new Date(e.getTime()-864e5))}function isSameDate(e,t){var n=new Date(e),r=new Date(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()&&n.getDate()===r.getDate()}function leadingZero(e){return e>=10?e:"0"+e}function langSex(e,t){if(!(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.isArray)(t))return t;var n=t[1];return window.langConfig?((0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.each)(langConfig.sexRules,(function(r,i){return"*"==i[0]||e==i[0]&&t[i[1]]?(n=t[i[1]],!1):void 0})),n):n}function langNumeric(e,t,n){var r,{langConfig:i}=window;if(!t||!i)return e;if((0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.isArray)(t)?(r=t[1],e!=Math.floor(e)?r=t[i.numRules.float]:(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.each)(i.numRules.int,(function(n,i){if("*"==i[0])return r=t[i[2]],!1;var o=i[0]?e%i[0]:e;return-1!=indexOf(i[1],o)?(r=t[i[2]],!1):void 0}))):r=t,n){for(var o=e.toString().split("."),a=[],u=o[0].length-3;u>-3;u-=3)a.unshift(o[0].slice(u>0?u:0,u+3));o[0]=a.join(i.numDel),e=o.join(i.numDec)}return r=(r||"%s").replace("%s",e)}function langWordNumeric(e,t,n){return(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.isArray)(t)&&e<t.length?t[e]:langNumeric(e,n)}function langDate(e,t,n,r,i,o){var a,{langConfig:u}=window;if(o||(o=""),(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.isArray)(t)||(t=["",t,t,t,t]),"number"==typeof e||"string"==typeof e?(e>2147483646e3&&(e=0),e+=n,a=new Date(e)):a=e,i)t=t[1];else{var s="";!(s=isToday(a)?t[3]:isYesterday(a)?t[2]:isTomorrow(a)?t[4]:t[1])&&t[1]&&(s=t[1]),t=s}var c="",_={hours:a.getHours(),minutes:a.getMinutes(),seconds:a.getSeconds(),day:a.getDate(),month:a.getMonth()+1,year:a.getFullYear()};switch(3===u.id&&(c=a.getHours()>11?"pm":"am",_.hours=a.getHours()%12==0?12:a.getHours()%12),u.id){case 1:switch(a.getHours()){case 11:t=t.replace(" о "," об ");break;case 0:t=t.replace(" о "," в ")}break;case 3:!isToday(a)||isYesterday(a)||isTomorrow(a)||(t=o+t);break;case 12:case 73:1==a.getHours()&&(t=t.replace(" &#224;s "," &#224; "))}return 68===u.id&&(_.year=_.year+543),t.replace("{hour}",_.hours).replace("{num_hour}",leadingZero(_.hours)).replace("{minute}",leadingZero(_.minutes)).replace("{day}",_.day).replace("{num_day}",leadingZero(_.day)).replace("{month}",r[_.month]).replace("{year}",_.year).replace("{short_year}",_.year%100).replace("{second}",leadingZero(_.seconds)).replace("{am_pm}",c)}function setNotify(e){var t=intval(e),n=ge("header_msgs"),r=geByClass1("pcont","l");if(window.navigator&&"function"==typeof window.navigator.setAppBadge&&!_shared_lib_SAKIntegration__WEBPACK_IMPORTED_MODULE_12__.SAKIntegration.isIntegrated&&window.navigator.setAppBadge(t>=100?99:Number(t)),n&&(window.isNewMail?val(n,'<div class="hb_btn mhi_notify">'+(t>0?'<em class="mh_notify_counter">'+t+"</em>":"")+"</div>"):val(n,'<div class="hb_btn mhi_notify">'+(t>0?'<em class="mh_notify_counter">'+t+"</em>":"&nbsp;")+"</div>"),t>0?removeClass("mhb_no_notify",n):addClass("mhb_no_notify",n),r)){var i=geByClass1("mmi_mail",r),o=geByClass1("mmi_wrap",i),a=geByClass1("mm_counter",o);if(!i)return;t>0?a?val(a,t):append(ce("em",{className:"mm_counter",innerHTML:t}),o):remove(a)}}function getNotify(){var e=ge("header_msgs");return e?intval(val(geByTag1("em",e))):0}function canUploadFile(){return(window.XMLHttpRequest||window.XDomainRequest)&&(window.FormData||window.FileReader&&(window.XMLHttpRequest&&XMLHttpRequest.sendAsBinary||window.ArrayBuffer&&window.Uint8Array&&(window.MozBlobBuilder||window.WebKitBlobBuilder||window.BlobBuilder)))}function uploadFile(e,t,n){var r=window.XDomainRequest||window.XMLHttpRequest,i=new r;i.open("POST",e,!0),(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.isFunction)(n.onProgress)&&i.upload.addEventListener("progress",n.onProgress,!1),i.onload=n.onComplete||rf,i.onerror=n.onError||rf;var o=n.onStart||rf;if(window.FormData){var a=t;if(!(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.isFormData)(t))for(var u in a=new FormData,t)a.append(u,t[u]);return i.send(a),o(i),i}try{if(r&&!r.prototype.sendAsBinary&&window.ArrayBuffer&&window.Uint8Array){var s=window.MozBlobBuilder||window.WebKitBlobBuilder||window.BlobBuilder;s&&(r.prototype.sendAsBinary=function(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t,0),r=0;r<e.length;r++)n[r]=255&e.charCodeAt(r);var i=new s;i.append(t);var o=i.getBlob();this.send(o)})}var c="----VkComFormBoundary-"+(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.srand)(),_="",l=0,d=function(e,t,n){n+="--"+t+"--",e.setRequestHeader("Content-type",'multipart/form-data; boundary="'+t+'"'),e.sendAsBinary(n),o(e)};for(var f in t)if("function"==typeof t[f].getAsBinary){l++;var p=new FileReader,E=t[f],m=E.fileName||E.name||"";p.onload=function(){_+="--"+c+'\r\nContent-Disposition: form-data; name="'+(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.utf2win)(f)+'"; filename="'+(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.utf2win)(m)+'"\r\nContent-Type: application/octet-stream\r\n',p.result,--l||d(i,c,_)},p.readAsBinaryString(E)}else _+="--"+c+'\r\nContent-Disposition: form-data; name="'+(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.utf2win)(f)+'"\r\n\r\n'+(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.utf2win)(t[f])+"\r\n";return l||d(i,c,_),i}catch(e){return!1}return!1}function readFile(e,t){if(window.FileReader&&window.vk.iu_ex){var n=new FileReader;n.onload=function(){t&&t(n.result),n=null},n.readAsDataURL(e)}}function formatTime(e){var t,n,r,i=e<0;return t=(n=(e=Math.round(i?-e:e))%60)<10?"0"+n:n,t=(r=(e=Math.floor(e/60))%60)+":"+t,(e=Math.floor(e/60))>0&&(r<10&&(t="0"+t),t=e+":"+t),i&&(t="-"+t),t}function domClosestOverflowHidden(e){for(var t,n,r,i,o=e=ge(e);o&&o.tagName&&o!==bodyNode&&(t=getStyle(o,"position"),n=getStyle(o,"overflow"),r=getStyle(o,"transform"),o===e||"visible"===n||("static"===t?i&&"relative"!==i:"fixed"===i));)"none"!==r?i=void 0:"static"!==t&&"fixed"!==i&&(i=t),o=(o||{}).parentNode;return o}function copyToClipboard(e){var t;select__WEBPACK_IMPORTED_MODULE_8___default()(e);try{t=document.execCommand("copy")}catch(e){t=!1}return t}function blinkItem(e,t){setStyle(e,{opacity:1}),setTimeout((()=>setStyle(e,{opacity:0})),t)}function domPN(e){return(e||{}).parentNode}function matchesSelector(e,t){if(!(e=ge(e))||e==document)return!1;var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||function(e){for(var t=(this.parentNode||this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t[n]!==this;);return n>-1};return n.call(e,t)}function domCA(e,t){do{e=domPN(e)}while(e&&!matchesSelector(e,t));return e}function getLang(){try{var e=Array.prototype.slice.call(arguments),t=e.shift();if(!t)return"...";var n=window.cur&&window.cur.lang&&window.cur.lang[t]||window.lang&&window.lang[t]||window.langpack&&window.langpack[t]||window[t];if(!n){var r=t.split("_");return r.shift(),r.join(" ")}if((0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.isFunction)(n))var i=n.apply(null,e);else if(void 0===e[0]&&!(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.isArray)(n)||"raw"===e[0]){if("string"!=typeof n)return(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.isArray)(n)?n.map((function(e){return(0,_shared_helpers_html_entities__WEBPACK_IMPORTED_MODULE_18__.decodeHTMLEntities)((0,_shared_lib_strings__WEBPACK_IMPORTED_MODULE_17__.cleanInputValue)(e))})):"object"==typeof n&&null!==n?Object.keys(n).reduce(((e,t)=>(e[t]=(0,_shared_helpers_html_entities__WEBPACK_IMPORTED_MODULE_18__.decodeHTMLEntities)((0,_shared_lib_strings__WEBPACK_IMPORTED_MODULE_17__.cleanInputValue)(n[t])),e)),{}):n;i=(0,_shared_lib_strings__WEBPACK_IMPORTED_MODULE_17__.cleanInputValue)(n)}else i=langNumeric(e[0],n,e[1]);return(0,_shared_helpers_html_entities__WEBPACK_IMPORTED_MODULE_18__.decodeHTMLEntities)(i)}catch(e){console.log("lang error:"+e.message+"("+Array.prototype.slice.call(arguments).join(", ")+")")}}function throttle(e,t){var n;return function(){n||(e.apply(this,arguments),n=setTimeout((function(){n=!1}),t))}}function debounce(e,t){return function n(){n._timer&&clearTimeout(n._timer);var r=this,i=arguments;n._timer=setTimeout((function(){n._timer=null,e.apply(r,i)}),t)}}function scrollGetX(){return window.pageXOffset||scrollNode.scrollLeft||document.documentElement.scrollLeft}function scrollGetY(){return window.pageYOffset?window.pageYOffset:window.scrollNode?window.scrollNode.scrollTop:document.documentElement?document.documentElement.scrollTop:0}function domEL(e,t){for(t=t?"previousSibling":"nextSibling";e&&!e.tagName;)e=e[t];return e}function domPS(e){return domEL((e||{}).previousSibling,1)}function domNS(e){return domEL((e||{}).nextSibling)}function domFC(e){return domEL((e||{}).firstChild)}function domLC(e){return domEL((e||{}).lastChild,1)}function domInsertAfter(e,t){var n=domPN(t);return n&&n.insertBefore(e,domNS(t))}function domInsertBefore(e,t){var n=domPN(t);return n&&n.insertBefore(e,t)}function domChildIndex(e){for(var t=0;null!=(e=domPS(e));)t++;return t}function domChildren(e){for(var t=[],n=e.childNodes,r=0;r<n.length;r++)n[r].tagName&&t.push(n[r]);return t}function safeGet(e,t){for(var n=t.split("."),r=n.length,i=e,o=0;o<r;o++)if(!(i=i[n[o]]))return;return i}function safeSet(e,t,n){for(var r=t.split("."),i=r.pop(),o=r.length,a=e,u=0;u<o;u++)if(!(a=a[r[u]]))return!1;return a[i]=n,!0}function alwaysArray(e){return Array.isArray(e)?e:[e]}function disableFlex(){var e=(0,_mobile_lib_Dollars__WEBPACK_IMPORTED_MODULE_2__.$)(".vk"),t=Array.from((0,_mobile_lib_Dollars__WEBPACK_IMPORTED_MODULE_2__.$$)("*")),n=["A","IMG","SPAN"];e.classList.remove("vk_flex_yes"),e.classList.add("vk_flex_no"),t.filter((e=>e instanceof Element&&"flex"===getComputedStyle(e).display)).forEach((e=>{n.includes(e.tagName)?e.style.display="inline":e.style.display="block"}))}function flatArray(e){return Array.isArray(e)?flatten(e):[e]}function domQuery1(e,t){return(t||document).querySelector(e)}function domQuery(e,t){return(t||document).querySelectorAll(e)}function flatten(e){var t=[];return e.forEach((e=>{(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.isArray)(e)?t=t.concat(flatten(e)):t.push(e)})),t}function isSFSafariViewController(){return window.navigator.userAgent.toString().startsWith("com.vk")}function isIosWebView(){return window.webkit&&window.webkit.messageHandlers}function isAndroidWebView(){return window.AndroidBridge}function isVkWebView(){return isIosWebView()?"object"==typeof window.webkit.messageHandlers.VKWebAppInit:!!isAndroidWebView()&&"function"==typeof window.AndroidBridge.VKWebAppInit}function ajaxRequest(e,t,n,r,i){n||(n=()=>{}),t._ajax=1;var o=nav.getQuery("community");return o&&!t.community&&(t.community=o),ajax.post(e,t,extend(i||{},{onDone:n,onFail:r}))}function asc(e,t){return e-t}function desc(e,t){return t-e}function unique(e,t,n){return n.indexOf(e)===t}function first(e,t){return 1===arguments.length?e[0]:t.slice(0,e)}function last(e,t){return 1===arguments.length?e[e.length-1]:t.slice(-e)}function toInt(e){return parseInt(e,10)}function toArray(e){return"[object Object]"===Object.prototype.toString.call(e)?Object.keys(e).map((t=>e[t])):Array.isArray(e)?e:[e]}function groupBy(e,t){var n={};return e.forEach((e=>{var r=t(e);(n[r]||(n[r]=[])).push(e)})),n}function domInsert(e,t,n){var r="string"==typeof t?domCreate(t):t;n>=0&&e.children[n]?e.insertBefore(r,e.children[n]):e.appendChild(r)}function openApp(e,t){void 0===t&&(t=!1),e=e.startsWith("/")?"vk://vk.com"+e:"vk://"+e,nav.openInNativeApp(_mobile_browser__WEBPACK_IMPORTED_MODULE_1__.default.iphone?"iphone":"android",event,{href:e},!0,t)}function domCreate(e){var t=document.createElement("div");return t.innerHTML=e,t.children[0]}function rs(e,t){return e.replace(/%([^%]+?)%/g,(e=>(e=e.slice(1,-1),t.hasOwnProperty(e)?t[e]:"")))}function getPreloadData(){var e=ge("preload_data");return e?JSON.parse(e.innerHTML.replace("\x3c!--","").replace("--\x3e","")):[]}function base64ToArrayBuffer(e){0===e.indexOf("data:")&&(e=e.split(",")[1]);for(var t=window.atob(e),n=t.length,r=new Uint8Array(n),i=0;i<n;i++)r[i]=t.charCodeAt(i);return r.buffer}function getImageOrientation(e){var t=base64ToArrayBuffer(e),n=new DataView(t);if(65496!==n.getUint16(0,!1))return-2;for(var r=n.byteLength,i=2;i<r;){var o=n.getUint16(i,!1);if(i+=2,65505===o){if(1165519206!==n.getUint32(i+=2,!1))return-1;var a=18761===n.getUint16(i+=6,!1);i+=n.getUint32(i+4,a);var u=n.getUint16(i,a);i+=2;for(var s=0;s<u;s++)if(274===n.getUint16(i+12*s,a))return n.getUint16(i+12*s+8,a)}else{if(65280!=(65280&o))break;i+=n.getUint16(i,!1)}}return-1}function ajaxLayoutEnabled(){return!(!window.SAKIntegration||!_shared_lib_SAKIntegration__WEBPACK_IMPORTED_MODULE_12__.SAKIntegration.isIntegrated)||!(!window.al||!al.ver)}function getRect(e){if(!e||"function"!=typeof e.getBoundingClientRect)return{};var t=e.getBoundingClientRect();return Object.assign(t,{x:t.x||t.left,y:t.y||t.top})}function initStickySimulator(e,t,n){void 0===n&&(n={});var{shouldCalculateAudioPlayer:r}=n;(!(0,_shared_lib_detections__WEBPACK_IMPORTED_MODULE_16__.isSupportsSupported)()||(0,_shared_lib_detections__WEBPACK_IMPORTED_MODULE_16__.isSupportsSupported)()&&!CSS.supports("position","sticky"))&&onBodyScroll((()=>{requestAnimationFrame((()=>{var n=0;r&&document.body.classList.contains("vk_audio_player")&&(n=getH((0,_mobile_lib_Dollars__WEBPACK_IMPORTED_MODULE_2__.$)(".AudioPlayerBottomCollapsed")));var i=getRect(e()),o=t(),a=getH(o),u=getCh()-i.y-getH(o)-n;setStyle(o,"top",Math.min(i.height-a,u)+"px")}))}))}extend(getStyle,{transform:function(e){var t,n=getStyle(e,"transform");return n?{scale:(t=n.match(/(^|\s+)scale\(([0-9.]+)\)(\s+|$)/))&&t[2]||1,scale3d:(t=n.match(/(^|\s+)scale3d\(([0-9.]+,\s+([0-9.]+),\s+([0-9.]+))\)(\s+|$)/))&&t[2]||1,rotate:(t=n.match(/(^|\s+)rotate\(([0-9.-]+)(deg)?\)(\s+|$)/))&&+t[2]||0,translate:(t=n.match(/(^|\s+)translate\(([0-9.-]+)(px)?(?:,\s+([0-9.-]+)(px)?)\)(\s+|$)/))&&[+t[2],+t[4]]||[0,0],translate3d:(t=n.match(/(^|\s+)translate3d\(([0-9.-]+)(px)?(?:,\s+([0-9.-]+)(px)?)(?:,\s+([0-9.-]+)(px)?)\)(\s+|$)/))&&[+t[2],+t[4],+t[6]]||[0,0,0]}:{scale:1,rotate:0,translate:[0,0]}}}),extend(setStyle,{animate:function(e,t,n,r){if(getCssPropertyName(e,"transition")){if(!t)return e.onAnimationEnd?e.onAnimationEnd():setStyle.transition(e),setStyle;var i=((0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.isObject)(n)?n.duration:n)||200,o=n.func||"ease";setStyle.transition(e,t,i,o);var{browser:a}=window;e.onAnimationEnd&&(a.opera?e.removeEventListener("oTransitionEnd",e.onAnimationEnd):removeEvent(e,"transitionend webkitTransitionEnd oTransitionEnd otransitionend msTransitionEnd",e.onAnimationEnd)),e.onAnimationEnd=function(){return a.opera?e.removeEventListener("oTransitionEnd",e.onAnimationEnd):removeEvent(e,"transitionend webkitTransitionEnd oTransitionEnd otransitionend msTransitionEnd",e.onAnimationEnd),e.onAnimationEnd=null,setStyle.transition(e),r&&r(e),!1},a.opera?e.addEventListener("oTransitionEnd",e.onAnimationEnd):addEvent(e,"transitionend webkitTransitionEnd oTransitionEnd otransitionend msTransitionEnd",e.onAnimationEnd)}return setStyle},transform:function(e,t,n,r){var{has3d:i}=window,o=[];if((0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.isObject)(t)){i&&(t.scale3d=t.scale,t.translate3d=t.translate);var a=extend(getStyle.transform(e),t);t=i?a.scale3d:a.scale,r=a.rotate,n=i?a.translate3d:a.translate}if((0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.isArray)(t)?i?o.push("scale3d("+cssValue(t[0])+", "+cssValue(t[1])+", 1)"):o.push("scale("+cssValue(t[0])+", "+cssValue(t[1])+")"):void 0!==t&&(i?o.push("scale3d("+cssValue(t)+", "+cssValue(t)+", 1)"):o.push("scale("+cssValue(t)+")")),void 0!==r&&o.push("rotate("+cssValue(r,"deg")+")"),void 0!==n&&(i?o.push("translate3d("+cssValue(n[0],"px")+", "+cssValue(n[1],"px")+", 0)"):o.push("translate("+cssValue(n[0],"px")+", "+cssValue(n[1],"px")+")")),!o.length)return setStyle(e,"transform","none");setStyle(e,"transform",o.join(" "))},transformOrigin:function(e,t,n){(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.isArray)(t)&&(n=t[1],t=t[0]),setStyle(e,"transform-origin",cssValue(t,"px")+" "+cssValue(n,"px"))},transition:function(e,t,n,r){var i=[];if(!t)return setStyle(e,"transition","none");(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.isArray)(t)||(t=t.split(/\s*,\s*/)),n=cssValue(n,"ms"),(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_13__.each)(t,(function(){var t=getCssPropertyName(e,this,!0),o=[];t&&(o.push(t),o.push(n),r&&o.push(r),i.push(o.join(" ")))})),setStyle(e,"transition",i.join(","))}}),isReady=!1,readyList=[],ready=function(){if(!isReady&&(isReady=!0,window.htmlNode=geByTag1("html"),window.bodyNode=geByTag1("body"),readyList)){for(var e=null;readyList.length>0;)"function"==typeof(e=readyList.shift())&&e.call(document);readyList=null}},document.addEventListener?document.addEventListener("DOMContentLoaded",(function e(){document.removeEventListener("DOMContentLoaded",e,!1),ready()}),!1):document.attachEvent&&document.attachEvent("onreadystatechange",(function e(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",e),ready())})),window.addEventListener?window.addEventListener("load",ready,!1):window.attachEvent?window.attachEvent("onload",ready):window.onload=ready,window.onDOMReady=window.onDOMReady||function(e){isReady?e.call(document):readyList.push(e)},window.cdf=(doc=document,frag=doc.createDocumentFragment(),elem=doc.createElement("div"),range=doc.createRange&&doc.createRange(),frag&&frag.appendChild(elem),range&&range.selectNodeContents&&range.selectNodeContents(elem),frag?range&&range.createContextualFragment?function(e){return e?range.createContextualFragment(e):doc.createDocumentFragment()}:function(e){if(!e)return doc.createDocumentFragment();elem.innerHTML=e;for(var t=doc.createDocumentFragment();elem.firstChild;)t.appendChild(elem.firstChild);return t}:function(e){return ce("div",{innerHTML:e})}),onDOMReady((function(){_mobile_browser__WEBPACK_IMPORTED_MODULE_1__.default.chrome||_mobile_browser__WEBPACK_IMPORTED_MODULE_1__.default.msie_edge?window.scrollNode=document.scrollingElement||bodyNode:window.scrollNode=_mobile_browser__WEBPACK_IMPORTED_MODULE_1__.default.safari?bodyNode:htmlNode}))},50805:function(e,t,n){"use strict";n.d(t,{jsx:function(){return r.createElement},jsxs:function(){return r.createElement},Fragment:function(){return r.Fragment}});var r=n(24535)},75105:function(e,t,n){"use strict";function r(){var e=[],t=i.bind(e);return t.off=o.bind(e),t._fns=e,t}function i(){var e=this,t=arguments,n=t[0];if("function"!=typeof n){for(var r=e.length,i=!1,o=0;o<r;o++)!0===e[o].apply(null,t)&&(i=!0);return i}Array.prototype.slice.call(t).forEach((t=>e.push(t)))}function o(e){e?function(e,t){for(;;){var n=e.indexOf(t);if(!(n>=0))break;e.splice(n,1)}}(this,e):this.length=0}function a(e,t){e((function n(){t(...arguments),setTimeout((()=>{e.off(n)}))}))}n.d(t,{onEmitOnce:function(){return a}}),t.default=Object.assign(r,{kind:function(){var e={};return t=>e[t]||(e[t]=r())}}),window.befall=r},95415:function(e,t,n){"use strict";function r(){var e=document.domain||"";if(!["oauth.","api.","edu_m.",".vksak."].some((t=>e.includes(t)))){var t=e.match(/(m\.)?([a-zA-Z]+\.[a-zA-Z]+\.?)$/);window.locDomain="https:"===location.protocol?t[2]:t[0];var n=navigator.userAgent.toLowerCase();!/opera/i.test(n)&&/msie 6/i.test(n)&&document.domain===window.locDomain||(document.domain=window.locDomain)}}n.d(t,{setDocumentDomain:function(){return r}})},11397:function(e,t,n){"use strict";n.d(t,{arrayContains:function(){return i},arrayRemove:function(){return o},transformIndexObject:function(){return a},arrayIntersects:function(){return u}});var r=n(30730);function i(e,t){return-1!==e.indexOf(t)}function o(e,t){for(;;){var n=e.indexOf(t);if(!(n>=0))break;e.splice(n,1)}}function a(e){if((0,r.isArray)(e))return e;var t=[];return Object.keys(e).forEach((n=>{t[n]=e[n]})),t}function u(e,t){return e.some((e=>-1!==t.indexOf(e)))}},48640:function(e,t,n){"use strict";function r(e,t){void 0===t&&(t=50),setStyle(e,{"box-shadow":"inset 0 0 0 9999px rgba(255, 0, 0, 0.3)"}),setTimeout((()=>setStyle(e,{"box-shadow":"none"})),t)}n.d(t,{blinkItemColor:function(){return r}})},92281:function(e,t,n){"use strict";n.d(t,{setFieldIgnored:function(){return a},isFieldIgnored:function(){return u}});var r=n(20848),i="data-ignore-field",o="true",a=function(e,t){void 0===t&&(t=!0),(0,r.attr)(e,i,!!t&&o)},u=e=>(0,r.attr)(e,i)===o},78938:function(e,t,n){"use strict";var r=n(20848),i=n(75105),o=window.pStats||{onSeen:(0,r.se)(),onViewed:(0,i.default)(),onViewStarted:(0,i.default)(),_seen:{},_saved:{},_saveTimer:null,_sendTimer:null,_cleanTimer:null,LS_ADS_EVENTS:"ads.events",postsGetRaws:function(e,t){var n,i;if((e=ge(e))&&e instanceof HTMLElement){var o,a=e.id||"",u=attr(e,"data-copy")||"",s={},c={height:t.offsetHeight,index:(0,r.indexOf)((0,r.domPN)(t).children,t)-1,ref:null!=(n=null==e.getAttribute?void 0:e.getAttribute("data-from-ref"))?n:void 0,trackCode:null!=(i=null==e.getAttribute?void 0:e.getAttribute("data-track-code"))?i:void 0};if("block_"===a.substr(0,6)){s[a]=1,c.block=a.substr(6);var _=attr(e,"data-contain");_&&(_=_.split(",")).forEach((function(e){e=e.split(":"),s[e[0]]=intval(e[1])||1}))}else(o=a.match(/^wall(adsite.*)$/))?s[o[1]]=1:(o=a.match(/^wall(-?\d+_\d+)$/))&&(s[o[1]]=1,(o=u.match(/^(-?\d+_\d+)$/))&&(s[o[1]]=-1));var l=attr(e,"data-ad-view");return l&&(s["ad_"+l]=1),{extra:c,post:s}}},seen:function(e){var t;if(e.length){var n,i,a,u,{vk:s}=window;if(((null==(t=window.UnauthorizedFeed)?void 0:t.isActive)||s.id)&&e.length){window._postsExtras||(window._postsExtras={});var c=(0,r.getCh)();e.forEach((e=>{var{post:t,extra:r}=e,{block:s,height:_,index:l,ref:d,trackCode:f}=r;Object.keys(t).forEach((e=>{i=t[e],a=o._seen[e],-1===(u=o._saved[e])||-1===a||1===i&&(u||a)||(n=o._seen[e]=i,window._postsExtras[e]={index:l,block:s,height:_,ref:d,trackCode:f,viewportHeight:c})}))})),n&&(clearTimeout(o._saveTimer),o._saveTimer=setTimeout(o.save,2500),clearTimeout(o._sendTimer),o._sendTimer=setTimeout(o.send,5e3)),o.onSeen("1")}}},save:function(){if(!lsCheck()||isEmpty(o._seen))return o._seen;var e,t,n,r,i,{vk:a}=window,u=Math.floor((a.ts+Math.floor((vkNow()-a.started)/1e3))/3600),s=lsGet("posts_sent")||{},c=lsGet("posts_seen")||{},_=lsGet("posts_extras")||{};for(t in window._postsExtras||(window._postsExtras={}),o._seen)i=o._seen[t],_postsExtras[t]&&(_[t]={index:_postsExtras[t].index,block:_postsExtras[t].block,height:_postsExtras[t].height,ref:_postsExtras[t].ref,trackCode:_postsExtras[t].trackCode,viewportHeight:_postsExtras[t].viewportHeight},delete window._postsExtras[t]),"ad"!==(n=t.split("_"))[0]&&"adsite"!==n[0]&&"block"!==n[0]&&(n[0]=intval(n[0]),n[1]=intval(n[1])),r=(s[n[0]]||{})[n[1]],n[0]!=a.id&&(!r||-1==i&&r>0)&&(c[n[0]]||(c[n[0]]={}),(!c[n[0]][n[1]]||-1==i&&c[n[0]][n[1]]>0)&&(e=c[n[0]][n[1]]=u*i)),o._saved[t]=i;o._seen={},e&&(lsSet("posts_seen",c),lsSet("posts_extras",_))},getSeenData:function(){var e,t,n,r={},i={},a=[];if(lsCheck())r=lsGet("posts_seen"),i=lsGet("posts_extras")||{};else for(e in n=o.save()){var u=n[e],s=e.split("_");s[0]=intval(s[0]),s[0]&&(s[1]=intval(s[1])),r[s[0]]||(r[s[0]]={}),(!r[s[0]][s[1]]||-1==u&&r[s[0]][s[1]]>0)&&(r[s[0]][s[1]]=u)}for(e in r){for(t in n=[],r[e]){var c=r[e][t]>0?t:-t,_=i[e+"_"+t],l="";_?(l+=":"+(_.index||""),l+=":"+(_.block||""),l+=":"+(_.height||""),l+=":"+(_.viewportHeight||""),l+=":"+(_.ref||""),l=(l+=":"+(_.trackCode||"")).replace(/:+$/,"")):l="",n.push(c+l)}n.length&&a.push(e+"_"+n.join(","))}return a.length?{seen:r,data:a.join(";")}:""},onSend:function(e){if(!lsCheck())return extend(o._saved,o._seen);var t,n,r=lsGet("posts_seen")||{},i=lsGet("posts_sent")||{};for(t in e){for(n in e[t])i[t]||(i[t]={}),-1!=i[t][n]&&(i[t][n]=e[t][n]),(r[t]||{})[n]&&delete r[t][n];r[t]&&isEmpty(r[t])&&delete r[t]}lsSet("posts_seen",r),lsSet("posts_sent",i),clearTimeout(o._cleanTimer),o._cleanTimer=setTimeout(o.clean,1e4)},send:function(){var e,t,{cur:n}=window,{vk:r}=window,i=o.getSeenData();if(i.data){if(!r.id&&!(null==(e=window.UnauthorizedFeed)?void 0:e.isActive))return o.clear();var a="";(null==(t=window.UnauthorizedFeed)?void 0:t.isActive)?a="unauthorized":!nav||"/feed?section=podcasts"!==nav.cur&&"/feed/podcasts"!==nav.cur?n&&n.module?a=n.module:nav&&"/feed"==nav.cur&&(a="feed"):a="feed_podcasts";var u={_ajax:1,act:"ping",_pstat:i.data,_pstatref:a};ajax.post("/",u,{onDone:function(){o.onSend(i.seen)}})}},resetSendTimer:()=>{clearTimeout(o._sendTimer),o._sendTimer=setTimeout(o.send,1e4)},clean:function(){var e,t,n,{vk:r}=window,i=Math.floor((r.ts+Math.floor((vkNow()-r.started)/1e3))/3600),a=lsGet("posts_sent")||{};for(e in a){for(t in a[e])i-((n=a[e][t])>0?n:-n)>24&&delete a[e][t];isEmpty(a[e])&&delete a[e]}lsSet("posts_sent",a),o.cleanAdsEvents()},clear:function(){lsSet("posts_seen",{}),lsSet("posts_sent",o._saved=o._seen={}),lsSet(o.LS_ADS_EVENTS,o._lsAdsEvents={})},getStatsObj:function(e){return e=ge(e),hasClass("_stats_cont",e)?e:gpeByClass("_stats_cont",e)},getAdsEvents:function(){var e=o._lsAdsEvents;return e||(e=o._lsAdsEvents=lsGet(o.LS_ADS_EVENTS)||{}),e},cleanAdsEvents:function(){var e=o.getAdsEvents(),t=(new Date).getTime()/1e3|0,n=!1;each(e,(function(r,i){t-i>=3600&&(delete e[r],n=!0)})),n&&lsSet(o.LS_ADS_EVENTS,e)},checkPixelEvent:function(e,t){var n=e.getAttribute("data-ad-block-uid"),i=-1!==(0,r.indexOf)(["load","impression"],t);if(!n||!i)return!0;try{var a=hashCode(""+t+n),u=o.getAdsEvents();if(u[a])return!1;var s=(new Date).getTime()/1e3|0;u[a]=s,lsSet(o.LS_ADS_EVENTS,u)}catch(e){try{console.log(e.message)}catch(e){}}return!0},getPixelElements:function(e,t){var n=[];return each(geByClass(t,e),(function(){attr(this,"data-src")&&n.push(this)})),n},sendPixels:function(e){each(e,(function(){attr(this,"src",attr(this,"data-src")),attr(this,"data-src",!1),addClass("_cntr",this)}))},viewed:function(e){if(o.onViewed(e),e=o.getStatsObj(e)){var t=o.getPixelElements(e,"_cntr_view");t.length&&o.checkPixelEvent(e,"impression")&&o.sendPixels(t)}},clicked:function(e){if(e=o.getStatsObj(e)){attr(e,"data-clicked","1");var t=o.getPixelElements(e,"_cntr_click");t.length&&o.sendPixels(t),checkPostsSeen()}}};o._sendTimer||o.resetSendTimer(),window.pStats=o,t.default=o},81294:function(e,t,n){"use strict";n.d(t,{setLoading:function(){return i.setLoading}});var r=n(54958),i=n(68673);Object.assign(r.Btn,i.Btn),r.Btn.setLoading=i.setLoading,r.Btn.setDisabled=i.setDisabled,window.Btn=r.Btn,t.default=r.Btn},16539:function(e,t,n){"use strict";n.d(t,{setHelpHintShown:function(){return i.setHelpHintShown}});var r=n(3616),i=n(69663);t.default=r.default,window.Tooltip={closeByHintId:i.closeByHintId,setHelpHintShown:i.setHelpHintShown}},91263:function(e,t,n){"use strict";n.d(t,{rebuildNotifications:function(){return _},recordClick:function(){return l},showMenuItems:function(){return d},renderMiniAppsCounterTooltip:function(){return f}});var r=n(71437),i=n(39871),o=n(464),a=n(12449),u=n(59374),s=n(16539),c=n(20848);function _(){var e=(0,r.$)(".MainMenu__menu");if(e){var{menuNotifications:t}=window.store;if(t){var n=(0,r.$)(".MainMenu__menuItem--apps .MainMenu__menuItemTitle",e);if(n){var u=(0,r.$)('[data-id="menu-apps-notification"]',n);!t[a.COUNTERS_POS_APPS]&&u&&u.remove(),t[a.COUNTERS_POS_APPS]&&!u&&(n.innerHTML+=i.default.render((0,o.default)({id:"menu-apps-notification"})))}}}}function l(e){window.ajax.post("/",{act:"menu_item_click_record",menu_item:e})}function d(e){(0,r.$$)(".MainMenu__menuItem--hidden").forEach((function(e){e.classList.remove("MainMenu__menuItem--hidden")})),e.classList.add("MainMenu__menuItem--hidden"),f()}function f(){var e=document.querySelector(".MainMenu__menu [data-type=mini_apps]");if(e&&!e.classList.contains("MainMenu__menuItem--hidden")){var t=e.querySelector(".MainMenu__menuItemCountContainer");if(t&&window.helpHints&&window.helpHints.canShow(u.AvailableHelpHints.ACCOUNT_HINT_MINI_APPS_OPEN_CATALOG_WITH_BADGES)){var n=(0,s.default)({onboarding:!0,closeOnOverlayClick:!0,theme:"accent",inner:i.default.wrap((0,c.getLang)("mobile_menu_services_counter_hint")),pos:"top_right","tooltip-id":u.AvailableHelpHints.ACCOUNT_HINT_MINI_APPS_OPEN_CATALOG_WITH_BADGES,class:"MainMenu__counterTooltip--services"}),r=i.default.elem(n);t.appendChild(r)}}}},464:function(e,t,n){"use strict";n.d(t,{default:function(){return r}});var r=function(e){return{class:"MainMenuNotificationDot","data-id":e.id,tag:"span"}}},34757:function(e,t,n){"use strict";n.d(t,{addStatic:function(){return O},addStaticVersions:function(){return I},initStaticManager:function(){return P},preloadStaticForNavigation:function(){return M}});function r(e){return new Promise(((t,n)=>{var r=document.createElement("link");r.rel="stylesheet",r.type="text/css",r.href=e,r.onload=()=>t(r),r.onerror=()=>n(new Error("Stylesheet load error for "+e)),document.head.appendChild(r)}))}var i;function o(e){var t,n=(t=e,new Promise(((e,n)=>{var r=new XMLHttpRequest;r.open("GET",t),r.onload=function(){200===r.status?e(r.response):n(r.response)},r.onerror=function(){n(r.response)},r.send()})));return n.then((e=>{var t=document.createElement("style");t.innerHTML=e,document.head.appendChild(t)})),n}var a=n(45582),u=n(20848),s=n(49265),c=n(55971),_=n(41313),l=n(61540),d=[],f="css/";function p(e){return e.split("?")[0]}function E(e){var t;return null==(t=Array.from(document.getElementsByTagName("script")))?void 0:t.find((t=>{if(t.src)return p(t.getAttribute("src"))===p(e)}))}function m(e,t){var n=e;return t&&(n+="?"+t),new Promise(((e,t)=>{var r,i,o;E(n)?e():(r=n,i=n=>{n?t(n):e()},(o=document.createElement("script")).src=r,o.onload=()=>i(null,o),o.onerror=()=>i(new Error("Script load error for "+r)),document.head.appendChild(o))}))}function D(e,t){var n=e;return t&&(n+="?"+t),(function(){if(void 0!==i)return i;var e="flex";try{var t=document.createElement("b");t.style.display=e,i=t.style.display===e}catch(e){i=!1}return i}()?r:o)(n)}function g(e){window.clog("[StaticManager] Register "+e+" loaded"),window.stManager.staticFiles[A(e)]=Promise.resolve()}function v(){window.vk&&window.vk.stFiles&&window.stManager?(window.clog("[StaticManager] Register initially loaded files"),Object.keys(window.vk.stFiles).forEach((e=>{var t,n;(h(e)&&E(e)||C(e)&&(t=e,null==(n=Array.from(document.getElementsByTagName("link")))?void 0:n.find((e=>{if("stylesheet"===e.rel&&e.href)return p(e.getAttribute("href"))===p(t)}))))&&g(e)})),Array.from(document.head.childNodes).forEach((e=>{if(8===e.nodeType&&e.nodeValue.startsWith("defer:"))try{var t=JSON.parse(e.nodeValue.replace("defer:",""));window.clog("[StaticManager] Begin defer scripts load",t),O(t),(0,u.remove)(e)}catch(e){(0,a.logError)(e,{environment:"static_manager"})}})),window.vk.stFiles=[]):setTimeout(v,0)}function A(e){return e=function(e){var t=e.match(/\.([a-fA-F0-9]{20})/),n=(null==t?void 0:t[0])||"";return e.replace(n,"")}(e=e.replace(new RegExp("^https:\\/\\/st[-\\d]*\\."+(0,u.escapeRE)((0,l.getHostName)())+"\\/","i"),"static://"))}function h(e){return p(e).endsWith(".js")}function C(e){return p(e).endsWith(".css")}function T(e,t,n){var r="_fallback";return n&&e.includes(r)&&(e=e.replace(""+r+t,t)),n||e.includes(r)||(e=e.replace(t,""+r+t)),e}function w(e){var t;return e.startsWith("mobile/")||(e="mobile/"+e),e=T(e,".css",window.vk.__debug||(0,s.isModernCSSSupported)()),((null==(t=window.vk)?void 0:t.stDeps[e])||[]).map((e=>"/css/"+e))}function S(e){var t;return e=T(e,".js",window.vk.__debug||(0,c.isJsModulesSupported)()),(null==(t=window.vk)?void 0:t.stDeps[e])||[]}function y(e,t){if(!window.stManager)return Promise.resolve();var n,r=A(e=function(e){var t;if(/^http(s)?:\/\//.test(e))return e;var n=(null==(t=window.vk)?void 0:t.stDomain)||"",r="";return h(e)?r="dist/mobile/":C(e)&&e.startsWith("mobile/")&&(r=f),e.startsWith("/")&&(e=e.replace("/","")),e.startsWith(r)||(e=r+e),n+"/"+e}(e)),i=window.stManager.staticFiles[r];return i?(window.clog("[StaticManager] Already exist "+r),i):(window.clog("[StaticManager] Begin "+e+" ("+r+") loading"),e.includes(".js")?n=m(e,t):e.includes(".css")&&(n=D(e,t)),n&&(window.stManager.staticFiles[r]=n,n.then((()=>{window.clog("[StaticManager] Successfully loaded "+e)})),n.catch((()=>{window.clog("[StaticManager] Failed to load "+e),window.stManager.staticFiles[r]=null}))),n||Promise.resolve())}function b(e){d[e]&&d[e]()}function O(e){return void 0===e&&(e=[]),I((e=(0,u.flatArray)(e)).reduce(((e,t)=>(e[t]=0,e)),{}))}function I(e){return Promise.all(Object.keys(e).map((t=>{var n,r,i,o=(n=t).startsWith("/")||/^http(s)?:\/\//.test(n)?[n]:C(n)?w(n):h(n)?S(n):(null==(r=window.vk)?void 0:r.stDeps[n])||((null==(i=window.vk)?void 0:i.__dev)?[n]:[]);return o?Promise.all(o.map((e=>y(e,o[e])))):y(t,e[t])})))}function M(e){var t=window.vk.stNavMap||{};for(var n in t){if(t.hasOwnProperty(n))if(new RegExp(n).test(e)){O(t[n]||[]);break}}}function P(){window.hasOwnProperty("stManager")||(window.stManager={addStatic:O,done:b,staticFiles:{},registerLoadedScript:g})}(0,_.onServerEvent)("StaticManager/register_ssr_scripts").watch((()=>{v()}))},24816:function(e,t,n){"use strict";n.d(t,{emojiRegex:function(){return r},skinToneModifierRegex:function(){return i},EMOJI_PREFIXED_REPLACES:function(){return o},EMOJI_REPLACES:function(){return a},EMOJI_HINTS:function(){return u}});var r=()=>/(?:\uD83C\uDFF4)(?:(?:\uDB40\uDC67)(?:\uDB40\uDC62)(?:(?:\uDB40\uDC65)(?:\uDB40\uDC6E)(?:\uDB40\uDC67)|(?:\uDB40\uDC77)(?:\uDB40\uDC6C)(?:\uDB40\uDC73)|(?:\uDB40\uDC73)(?:\uDB40\uDC63)(?:\uDB40\uDC74))(?:\uDB40\uDC7F)|\u200D\u2620\uFE0F?)|(?:\uD83D\uDC69)\u200D(?:\uD83D\uDC69)\u200D(?:(?:\uD83D\uDC66)\u200D(?:\uD83D\uDC66)|(?:\uD83D\uDC67)\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83D\uDC68)(?:\u200D(?:\u2764\uFE0F?\u200D(?:(?:\uD83D\uDC8B)\u200D)?(?:\uD83D\uDC68)|(?:\uD83D[\uDC68\uDC69])\u200D(?:(?:\uD83D\uDC66)\u200D(?:\uD83D\uDC66)|(?:\uD83D\uDC67)\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83D\uDC66)\u200D(?:\uD83D\uDC66)|(?:\uD83D\uDC67)\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3]))|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3]))|(?:\uD83D\uDC69)\u200D(?:\u2764\uFE0F?\u200D(?:(?:\uD83D\uDC8B)\u200D(?:\uD83D[\uDC68\uDC69])|(?:\uD83D[\uDC68\uDC69]))|(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3]))|(?:\uD83D\uDC69)\u200D(?:\uD83D\uDC66)\u200D(?:\uD83D\uDC66)|(?:(?:\uD83D\uDC41)\uFE0F?\u200D(?:\uD83D\uDDE8)|(?:\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|(?:\uD83D\uDC68)(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F?|(?:\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]))\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|(?:\uD83D\uDC69)\u200D[\u2695\u2696\u2708])\uFE0F?|(?:\uD83D\uDC69)\u200D(?:\uD83D\uDC67)\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC69)\u200D(?:\uD83D\uDC69)\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC68)(?:\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC66\uDC67]))|(?:\uD83C[\uDFFB-\uDFFF]))|(?:\uD83C\uDFF3)\uFE0F?\u200D(?:\uD83C\uDF08)|(?:\uD83D\uDC69)\u200D(?:\uD83D\uDC67)|(?:\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3])|(?:\uD83D\uDC69)\u200D(?:\uD83D\uDC66)|(?:\uD83C\uDDF6)(?:\uD83C\uDDE6)|(?:\uD83C\uDDFD)(?:\uD83C\uDDF0)|(?:\uD83C\uDDF4)(?:\uD83C\uDDF2)|(?:\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C\uDDED)(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|(?:\uD83C\uDDEC)(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|(?:\uD83C\uDDEA)(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|(?:\uD83C\uDDE8)(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\uD83C\uDDF2)(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|(?:\uD83C\uDDF3)(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|(?:\uD83C\uDDFC)(?:\uD83C[\uDDEB\uDDF8])|(?:\uD83C\uDDFA)(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|(?:\uD83C\uDDF0)(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|(?:\uD83C\uDDEF)(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|(?:\uD83C\uDDF8)(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|(?:\uD83C\uDDEE)(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|(?:\uD83C\uDDFF)(?:\uD83C[\uDDE6\uDDF2\uDDFC])|(?:\uD83C\uDDEB)(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|(?:\uD83C\uDDF5)(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|(?:\uD83C\uDDE9)(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|(?:\uD83C\uDDF9)(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|(?:\uD83C\uDDE7)(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|[#\*0-9]\uFE0F?\u20E3|(?:\uD83C\uDDF1)(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|(?:\uD83C\uDDE6)(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|(?:\uD83C\uDDF7)(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|(?:\uD83C\uDDFB)(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|(?:\uD83C\uDDFE)(?:\uD83C[\uDDEA\uDDF9])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF9]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD70\uDD73-\uDD76\uDD7A\uDD7C-\uDDA2\uDDB0-\uDDB9\uDDC0-\uDDC2\uDDD0-\uDDFF])|(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF9]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD70\uDD73-\uDD76\uDD7A\uDD7C-\uDDA2\uDDB0-\uDDB9\uDDC0-\uDDC2\uDDD0-\uDDFF])\uFE0F?|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDD1-\uDDDD])/g,i=/\uFE0F?\uD83C[\uDFFB-\uDFFF]/,o={e29da4:/(\s|^)([0OО]:\))([\s\.,]|$)/g,f09f9887:/(\s|^)(;-\)+)([\s\.,]|$)/g,f09f9889:/(\s|^)([XХxх]-?D)([\s\.,]|$)/g,f09f9886:/(\s|^)(B-\))([\s\.,]|$)/g,f09f988e:/(\s|^)(3-\))([\s\.,]|$)/g,f09f988c:/(\s|^)(&gt;\()([\s\.,]|$)/g,f09f98a0:/(\s|^)(;[oоOО])([\s\.,]|$)/g,f09f98b0:/(\s|^)(8\|)([\s\.,]|$)/g,f09f98b3:/(\s|^)(8-?[oоOО])([\s\.,]|$)/g,f09f98b2:/(\s|^)(8-\))([\s\.,]|$)/g,f09f988d:/(\s|^)(:[XХ])([\s\.,]|$)/g,f09f98b7:/(\s|^)(:[oоOО])([\s\.,]|$)/g,f09f98a8:/(\s|^)(&lt;3)([\s\.,]|$)/g},a={f09f988a:/(:-\))([\s\.,]|$)/g,f09f9883:/(:-D)([\s\.,]|$)/g,f09f989c:/(;-[PР])([\s\.,]|$)/g,f09f988b:/(:-[pр])([\s\.,]|$)/g,f09f9892:/(:-\()([\s\.,]|$)/g,e298ba:/(:-?\])([\s\.,]|$)/g,f09f988f:/(;-\])([\s\.,]|$)/g,f09f9894:/(3-?\()([\s\.,]|$)/g,f09f98a2:/(:&#039;\()([\s\.,]|$)/g,f09f98ad:/(:_\()([\s\.,]|$)/g,f09f98a9:/(:\(\()([\s\.,]|$)/g,f09f9890:/(:\|)([\s\.,]|$)/g,f09f98a1:/(&gt;\(\()([\s\.,]|$)/g,f09f989a:/(:-\*)([\s\.,]|$)/g,f09f9888:/(\}:\))([\s\.,]|$)/g,f09f918d:/(:like:)([\s\.,]|$)/g,f09f918e:/(:dislike:)([\s\.,]|$)/g,e2989d:/(:up:)([\s\.,]|$)/g,e29c8c:/(:v:)([\s\.,]|$)/g,f09f918c:/(:ok:|:ок:)([\s\.,]|$)/g},u={e29da4:[0,"<3"],f09f988a:[1,":-)"],f09f9883:[2,":-D"],f09f9889:[3,";-)"],f09f9886:[4,"xD"],f09f989c:[5,";-P"],f09f988b:[6,":-p"],f09f988d:[7,"8-)"],f09f988e:[8,"B-)"],f09f9892:[9,":-("],f09f988f:[10,";-]"],f09f9894:[11,"3("],f09f98a2:[12,":'("],f09f98ad:[13,":_("],f09f98a9:[14,":(("],f09f98a8:[15,":o"],f09f9890:[16,":|"],f09f988c:[17,"3-)"],f09f98a0:[18,">("],f09f98a1:[19,">(("],f09f9887:[20,"O:)"],f09f98b0:[21,";o"],f09f98b3:[22,"8|"],f09f98b2:[23,"8o"],f09f98b7:[24,":X"],f09f989a:[25,":-*"],f09f9888:[26,"}:)"],f09f918d:[27,":like:"],f09f918e:[28,":dislike:"],e2989d:[29,":up:"],e29c8c:[30,":v:"],f09f918c:[31,":ok:"]}},98884:function(e,t,n){"use strict";n.d(t,{emojiToHTML:function(){return u}});var r=n(26271),i=n(24816),o=n(54259),a=n(49849);function u(e,t){if(r.browser.ipad||r.browser.iphone)return e;e=(e+"").replace(/&nbsp;/g," ").replace(/<br>/g,"\n");for(var n=0;n<2;n++)Object.keys(i.EMOJI_PREFIXED_REPLACES).forEach((t=>{e.replace(i.EMOJI_PREFIXED_REPLACES[t],((e,n,r,i)=>(n||"")+s(t)+(i||"")))}));return Object.keys(i.EMOJI_REPLACES).forEach((t=>{e=e.replace(i.EMOJI_REPLACES[t],((e,n,r)=>s(t)+(r||"")))})),e=e.replace(/\n/g,"<br>"),t&&(e=e.replace(/\uFE0F/g,"").replace((0,i.emojiRegex)(),c)),e}function s(e,t,n,i){return!n&&t?t:i?'<i class="emoji @'+e+'" emoji="'+e+'"'+(t?' title="'+t+'"':"")+"></i>":'<img class="emoji" src="/emoji/e/'+e+(window.devicePixelRatio>=2?"_2x":"")+'.png"'+(t?' alt="'+t+'"':"")+(r.browser.msie&&Number(r.browser.version)>8?' contenteditable="false"':"")+">"}function c(e){return s((0,o.emojiSymbolToByteHex)(e),(0,a.encodeHTMLEntities)(e),!0)}},54259:function(e,t,n){"use strict";n.d(t,{emojiSymbolToByteHex:function(){return i},emojiByteHexToSymbol:function(){return o},emojiRemoveSkinToneModifiers:function(){return a}});var r=n(24816);function i(e){return encodeURIComponent(e.replace(/\uFE0F/gi,"")).replace(/%/gi,"").toLowerCase()}function o(e){var t,n=e.length%2==1,r=n?e.slice(0,1):"",i=n?e.slice(1):e,o="";try{o=decodeURIComponent("%"+(t=i,t.split("").reduce(((e,t,n)=>e+t+((n+1)%2==0?" ":"")),"").trim().split(/\s+/)).join("%"))}catch(e){}return r+o}function a(e){return e.replace((0,r.emojiRegex)(),u)}function u(e){return e.replace(r.skinToneModifierRegex,"")}},49849:function(e,t,n){"use strict";n.d(t,{symbols:function(){return r},escape:function(){return i},encodeHTMLEntities:function(){return o},decodeHTMLEntities:function(){return a}});var r=[["&amp;","&"],["&lt;","<"],["&gt;",">"],["&quot;",'"']];function i(e){return r.reduce(((e,t)=>{var[n,r]=t;return e.replace(new RegExp(r,"ig"),n)}),e)}function o(e){return i(e).replace(/[\u00A0-\u9999<>\&]/gim,(e=>"&#"+e.charCodeAt(0)+";"))}function a(e){return r.reduce(((e,t)=>{var[n,r]=t;return e.replace(new RegExp(n,"ig"),r)}),e).replace(/&#(\d+);/g,((e,t)=>String.fromCodePoint(t)))}},51976:function(e,t,n){"use strict";n.d(t,{PINNED_CONVERSATION_BIT_MASK:function(){return r},MASS_MENTION_ALIASES:function(){return i},MASS_MENTION_REGEXP:function(){return o},VK_OFFICIAL_PEER_ID:function(){return a}});var r=112,i={all:["all","everyone","все"],online:["online","here","здесь","тут"]},o=new RegExp(['(?!,|;|:|\\.|\\s|<br ?/?>|"|\\(|\\)|\\[|\\]|!|\\?)',"(",[].concat(i.all).concat(i.online).map((e=>"@"+e+"|\\*"+e)).join("|"),")",'(?=$|,|;|:|\\.(?![a-z0-9_-])|\\s|<br ?/?>|"|\\(|\\)|\\[|\\]|!|\\?)'].join(""),"gi"),a=-22822305},65256:function(e,t,n){"use strict";n.d(t,{SAKIntegration:function(){return i}});var r=n(34028),i={isIntegrated:!1,origin:"",name:"",type:"",onMessage:new(n(61508).default),init(e){if(i.isIntegrated=!0,i.origin=function(e){var t=e.origin;if(!t)try{t=sessionStorage.getItem("_sak_embed_origin")}catch(e){}if(t)try{sessionStorage.setItem("_sak_embed_origin",t)}catch(e){}return t||""}(e),i.type=e.type,i.isNewMail=e.isNewMail,i._cleanUrl(),i.origin||window.parent!==window){var t=e.name||(i.isNewMail?"mvk_embedded_mail":"mvk_embedded_other");document.documentElement.style.setProperty("visibility","hidden","important"),i.name=t,i.embedded=new r.Embedded({name:t,target:window.parent,origin:i.origin,onMessage:(e,t)=>{i.onMessage.emit("embed",e,t),"click"===e&&i.doClick(t.selector)}}),i._ready=i.embedded.sendMessage("ready",{}).then((()=>{document.documentElement.classList.remove("vk_sak_embed_hidden"),document.documentElement.style.removeProperty("visibility")}))}else document.documentElement.classList.remove("vk_sak_embed_hidden")},sendMessage(e,t,n){if(void 0===n&&(n=""),i.isIntegrated)if(i._ready){if(!n||!i.name||i.name===n)return i._ready.then((()=>i.embedded.sendMessage(e,t)))}else console.error("SAKIntegration not ready")},doClick(e){if(e){var t=document.querySelector(e);t&&t.click()}},reauth:()=>i.embedded.sendMessage("sak:reauth",{}).catch((()=>({}))),_cleanUrl(){var e=location.search.slice(1).split("&").reduce(((e,t)=>(t.startsWith("_sak_embed")||e.push(t),e)),[]).join("&");history.replaceState(null,"",location.pathname+"?"+e+location.hash)}}},26271:function(e,t,n){"use strict";n.d(t,{browser:function(){return i}});n(55971),n(76567),n(68040),n(61540);var r=navigator.userAgent.toLowerCase(),i={version:(r.match(/.+(?:me|ox|on|rv|it|era|opr|ie|edge)[\/: ]([\d.]+)/)||[0,"0"])[1],opera:/opera/i.test(r)||/opr/i.test(r),vivaldi:/vivaldi/i.test(r),amigo:/amigo.*mrchrome soc/i.test(r),msie:/msie/i.test(r)&&!/opera/i.test(r)||/trident\//i.test(r)||/edge/i.test(r),msie6:/msie 6/i.test(r)&&!/opera/i.test(r),msie7:/msie 7/i.test(r)&&!/opera/i.test(r),msie8:/msie 8/i.test(r)&&!/opera/i.test(r),msie9:/msie 9/i.test(r)&&!/opera/i.test(r),msie_edge:/edge/i.test(r)&&!/opera/i.test(r),mozilla:/firefox/i.test(r),yabrowser:/yabrowser/i.test(r),whale:/whale/i.test(r),chrome:/chrome/i.test(r)&&!/edge/i.test(r),safari:!/chrome/i.test(r)&&/webkit|safari|khtml/i.test(r),iphone:/iphone/i.test(r),ipod:/ipod/i.test(r),iphone4:/iphone.*OS 4/i.test(r),ipod4:/ipod.*OS 4/i.test(r),ipad:/ipad/i.test(r),android:/android/i.test(r),bada:/bada/i.test(r),mobile:/iphone|ipod|ipad|opera mini|opera mobi|iemobile|android/i.test(r),msie_mobile:/iemobile/i.test(r),safari_mobile:/iphone|ipod|ipad/i.test(r),opera_mobile:/opera mini|opera mobi/i.test(r),opera_mini:/opera mini/i.test(r),mac:/mac/i.test(r),windows7:/windows nt 6.1/i.test(r),windowsVista:/windows nt 6.0/i.test(r),windowsXp:/windows nt (5.2|5.1)/i.test(r),search_bot:/(yandex|google|stackrambler|aport|slurp|msnbot|bingbot|twitterbot|ia_archiver|facebookexternalhit)/i.test(r),smart_tv:/smart-tv|smarttv/i.test(r)};window,"onwheel"in document.createElement("div")||void 0!==document.onmousewheel||i.mozilla,document.createElement("div"),navigator.credentials&&navigator.credentials.preventSilentAccess&&window.vk&&vk.cma},40906:function(e,t,n){"use strict";n.d(t,{isUndefined:function(){return i},isFunction:function(){return o},isFormData:function(){return a},isString:function(){return u},isArray:function(){return s},isObject:function(){return c},isEmpty:function(){return _},replaceEntities:function(){return m},vkNow:function(){return T},intval:function(){return w},each:function(){return S},vkImage:function(){return b},isRetina:function(){return I},rand:function(){return r},isHttpHref:function(){return C},isNumeric:function(){return l},irand:function(){return A},escapeAttr:function(){return p},escapeRE:function(){return d},escapeStr:function(){return D},htsc:function(){return f},copy:function(){return y},unescapeAttr:function(){return E},utf2win:function(){return h},srand:function(){return v},stripTags:function(){return g},isElement:function(){return O}});var r=(e,t)=>Math.random()*(t-e+1)+e,i=e=>void 0===e,o=e=>e&&"[object Function]"===Object.prototype.toString.call(e),a=e=>e&&"[object FormData]"===Object.prototype.toString.call(e),u=e=>"string"==typeof e,s=e=>"[object Array]"===Object.prototype.toString.call(e),c=e=>"[object Object]"===Object.prototype.toString.call(e),_=e=>{if(!c(e))return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},l=e=>!isNaN(parseFloat(e))&&isFinite(e)&&!Array.isArray(e),d=e=>e?e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1"):"",f=e=>e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/\'/g,"&#39;").replace(/%/g,"&#37;"),p=e=>e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/\'/g,"&#39;"),E=e=>e.replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#39;/g,"'"),m=e=>{var t=document.createElement("textarea");return t.innerHTML=(e||"").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),t.value},D=e=>e.replace(/\'/g,"\\'"),g=e=>e.replace(/<[^>]+>/g,""),v=()=>Math.random().toString(36).substr(2),A=(e,t)=>Math.floor(r(e,t)),h=e=>unescape(encodeURIComponent(e));function C(e){var t=(e+"").split(":"),n=t[1]&&t[0]?t[0]+":":location.protocol;return"http:"===n||"https:"===n}var T=()=>+new Date;function w(e){return!0===e?1:parseInt(e)||0}function S(e,t){if(!e)return e;if(c(e)||void 0===e.length){for(var n in e)if(e.hasOwnProperty(n)&&!1===t.call(e[n],n,e[n]))break}else for(var r=0,i=e.length;r<i;r++){var o=e[r];if(!1===t.call(o,r,o))break}return e}function y(e){return s(e)?e.concat([]):c(e)?Object.assign({},e):e}var b=()=>window.Image?new Image:document.createElement("img"),O=e=>"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName,I=()=>window.devicePixelRatio>=2},22463:function(e,t,n){"use strict";n.d(t,{log:function(){return o},error:function(){return a}});var r=n(19331);function i(){return window.console&&(0,r.partConfigEnabled)("js_console_logs")}function o(){i()&&window.console.log&&window.console.log(...arguments)}function a(){i()&&(window.console.error?window.console.error(...arguments):o(...arguments))}},68040:function(e,t,n){"use strict";n.d(t,{toQueryString:function(){return a}});var r=n(40906),i={},o=function(e){if(i[e])return e;try{return encodeURIComponent(e)}catch(e){return""}};function a(e,t){var n=[];for(var i in e)if(e.hasOwnProperty(i)&&null!=e[i]&&!(0,r.isFunction)(e[i]))if((0,r.isArray)(e[i]))for(var a=0,u=0,s=e[i].length;a<s;++a)null==e[i][a]||(0,r.isFunction)(e[i][a])||(n.push(o(i)+"["+u+"]="+o(e[i][a])),++u);else n.push(o(i)+"="+o(e[i]));return t||n.sort(),n.join("&")}},76567:function(e,t,n){"use strict";n.d(t,{getCookie:function(){return a},setCookie:function(){return s}});var r=n(19331),i=n(79957),o=n(45582);function a(e){return function(){window._cookies={};for(var e=document.cookie.split(";"),t=/^[\s]*([^\s]+?)$/i,n=0,r=e.length;n<r;n++){var i=e[n].split("=");2===i.length&&(_cookies[i[0].match(t)[1]]=unescape(i[1].match(t)?i[1].match(t)[1]:""))}}(),"https:"!==location.protocol&&(0,i.statlogsValueEvent)("read_unsecure_cookie",e,location.href),_cookies[e]}function u(e,t){var n=(0,r.getCookieGroups)(),i=function(){var e=a("remixcpl");if(!e)return[];var t=e.split(",");return t.forEach(((e,n)=>{t[n]=parseInt(e)})),t}(),u=e,s=null;if(!(0,r.partConfigEnabled)("need_check_allowed_cookie"))return!0;if(!isNaN(parseInt(t))&&parseInt(t)<0)return!0;"remix"===u.substr(0,5)&&(u=u.substr(5)),n.hasOwnProperty(e)?s=parseInt(n[e]):n.hasOwnProperty(u)?s=parseInt(n[u]):"q_"===u.substr(0,2)&&n.hasOwnProperty("q_")&&(s=parseInt(n.q_)),(null===s||isNaN(s))&&(0,o.logError)("Undefined cookie group for cookie "+e+" ("+u+")");return 1===s||!(isNaN(s)||!i.includes(s))}function s(e,t,n,i,o,a,s){if(void 0===o&&(o="None"),void 0===a&&(a=window.locDomain),void 0===s&&(s={}),!u(e,n))return!1;var c=e+"="+escape(t),_=s.withoutSubdomains?".":"",l="; path=/"+(a?"; domain="+_+a:""),d="https:"===location.protocol,f=!!i;(0,r.partConfigEnabled)("cookie_secure_default_true")&&(f=!1!==i);var p=d&&f?"; secure":"",E=f&&browser.chrome&&parseInt(browser.version)>=71&&(0,r.partConfigEnabled)("cookie_class_samesite")?"; SameSite="+o:"",m="";if(n){var D=new Date;D.setTime(D.getTime()+24*n*60*60*1e3),m="; expires="+D.toGMTString()}return document.cookie=c+m+l+E+p,!0}},55971:function(e,t,n){"use strict";function r(e){return void 0===e&&(e=window.browser),!(!e.mac||e.iphone||e.ipad||e.ipod||!(navigator.maxTouchPoints>1))}n.d(t,{isIPadOS:function(){return r},isDarkTheme:function(){return i},isLightTheme:function(){return o},isCSSVariablesSupported:function(){return a},isMatchMediaSupported:function(){return u},isFlexboxSupported:function(){return s},isAutoSchemesSupported:function(){return c},isSupportsSupported:function(){return _},isGridsSupported:function(){return l},isSVGSupported:function(){return d},isIntersectionObserverSupported:function(){return f},isMutationObserverSupported:function(){return p},isWebRTCCallsSupported:function(){return E},isJsModulesSupported:function(){return m}});var i=()=>Boolean(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches),o=()=>Boolean(window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches),a=()=>Boolean(window.CSS&&CSS.supports&&CSS.supports("color","var(--custom-property)")),u=()=>Boolean(window.matchMedia),s=()=>document.documentElement.classList.contains("vk_flex_yes"),c=()=>Boolean(window.matchMedia&&window.matchMedia("(prefers-color-scheme)").matches),_=()=>Boolean(window.CSS&&CSS.supports),l=()=>Boolean("string"==typeof document.createElement("div").style.grid),d=()=>Boolean(document.createElementNS)&&Boolean(document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect),f=()=>"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,p=()=>"MutationObserver"in window,E=()=>{if(window.navigator.userAgent.indexOf("Edge")>-1)return!1;try{return Boolean(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&window.RTCPeerConnection&&window.RTCIceCandidate&&window.RTCSessionDescription)}catch(e){return!1}},m=()=>!window.nomodules},61508:function(e,t,n){"use strict";var r=n(53349),i=n.n(r);window.EventEmitter=i(),t.default=i()},26330:function(e,t,n){"use strict";var r=n(22683);function i(e){try{r.vkLocalStorage.removeItem(e)}catch(e){}}t.default={checkVersion:function(){try{return void 0!==window.localStorage&&null!==window.localStorage&&void 0!==window.JSON}catch(e){return!1}},remove:i,get:function(e){try{return JSON.parse(r.vkLocalStorage.getItem(e))}catch(e){return!1}},set:function(e,t){i(e);try{return r.vkLocalStorage.setItem(e,JSON.stringify(t))}catch(e){return!1}}}},60847:function(e,t){"use strict";function n(){return navigator.connection||navigator.mozConnection||navigator.webkitConnection}function r(){var e=n();return e&&e.type||"unknown"}function i(){var e=n();return e&&e.effectiveType||"unknown"}t.default={getConnection:n,getConnectionType:r,getConnectionEffectiveType:i,getConnectionTypeID:function(){return{unknown:0,bluetooth:1,cellular:2,ethernet:3,none:4,wifi:5,wimax:6,other:7}[r()]||0},getConnectionEffectiveTypeID:function(){return{unknown:0,"slow-2g":1,"2g":2,"3g":3,"4g":4}[i()]||0}}},79957:function(e,t,n){"use strict";n.d(t,{addStatlogListener:function(){return _},statlogsValueEvent:function(){return l}});var r,i,o=n(76567),a=n(61540),u=n(40906),s=n(26330);(0,a.isMvk)()?(r="lock_m_stats_cookie_lock",i="remixmsts"):(r="lockkk_stats_cookie_lock",i="remixsts");var c=[],_=e=>c.push(e);function l(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var s;void 0!==e&&void 0!==t&&(c.forEach((n=>n(e,t,...r))),d((()=>{try{s=(s=JSON.parse((0,o.getCookie)(i))).data}catch(e){s=[]}s.push([Math.round(Date.now()/1e3),e,t].concat(r)),s=s.slice(-100);var n=Math.round((0,u.rand)(0,1e9));(0,o.setCookie)(i,JSON.stringify({data:s,uniqueId:n}),.01)})))}function d(e,t){if(s.default.checkVersion()){if(!0!==s.default.get(r)){s.default.set(r,!0);try{e()}catch(e){}return void s.default.set(r,!1)}t||setTimeout((()=>d(e,!0)),100)}else e()}},15893:function(e,t,n){"use strict";function r(e,t){var n,r,i=!1;return function o(){if(i)return n=arguments,void(r=this);e.apply(this,arguments),i=!0,setTimeout((function(){i=!1,n&&(o.apply(r,n),n=r=null)}),t)}}n.d(t,{throttle:function(){return r}})},19331:function(e,t,n){"use strict";n.d(t,{randEnabled:function(){return o},partConfigEnabled:function(){return a},getCookieGroups:function(){return u},calculateTimeOffsets:function(){return s}});var r=n(76567),i=n(40906);function o(e){return Math.random()<e}function a(e){var{pe:t={}}=window.vk||{};return!!t[e]}function u(){var{acl:e={}}=window.vk||{};return e}function s(){var e=window.vk.ts;if(e&&!window.browser.opera_mobile){var t=new Date,n=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds())/1e3-e;n-=10800,n=(n/=60).toFixed(0),(n*=60)<-55800?n+=86400:n>37800&&(n-=86400);var o=0,a=Math.abs(n);[-12,-11,-10,-9.5,-9,-8,-7,-6,-5,-4.5,-4,-3.5,-3,-2,-1,0,1,2,3,3.5,4,4.5,5,5.5,5.75,6,6.5,7,8,8.75,9,9.5,10,10.5,11,12,12.75,13,14].forEach((e=>{var t=Math.round(3600*(e-3)),r=Math.abs(n-t);r<a&&(a=r,o=t)}));var u=(0,r.getCookie)("remixdt");return void 0!==u&&(0,i.intval)(u)===o||(0,r.setCookie)("remixdt",o,365),o}return 0}},12449:function(e,t,n){"use strict";n.d(t,{COUNTERS_POS_NOTIFICATIONS:function(){return i},COUNTERS_POS_MESSAGES:function(){return o},COUNTERS_POS_APPS:function(){return a},Z_REGEXES:function(){return u},Z_PHOTO_REGEX:function(){return s},STATLOG_MEDIAVIEW_EVENT:function(){return c},DESKTOP_WIDTH:function(){return r.DESKTOP_WIDTH},TABLET_WIDTH:function(){return r.TABLET_WIDTH}});var r=n(53602),i=2,o=3,a=10,u={photo:/^photo((?:-?\d|external)+_\d+)(?:\/([a-z0-9_-]+(\/rev)?)?)?$/i,stories:/^story(-?\d+_\d+)(\/([a-z0-9_-]+))?(\/?[a-z0-9_:]+)?$/i,narratives:/^narrative(s)?(-?\d+)(?:_(\d+))?(?:_(\d+))?/i,doc:/^\/?doc(-?\d+)_(\d+)(\/?([a-z0-9_-]+))?$/i,question:/^question$/i,ask_question:/^ask_question(\d+)$/i},s=u.photo,c="mvk_mediaview_event"},62641:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{emojiToHTML:function(){return _mobile_emoji_html__WEBPACK_IMPORTED_MODULE_0__.emojiToHTML},isPinnedSortId:function(){return _shared_im_helpers__WEBPACK_IMPORTED_MODULE_3__.isPinnedSortId},isObject:function(){return isObject},mergeObjects:function(){return mergeObjects},classNames:function(){return classNames},arraySlice:function(){return arraySlice},mergeArrays:function(){return mergeArrays},concatValues:function(){return concatValues},getLang:function(){return getLang},partConfigEnabled:function(){return partConfigEnabled},getLangNumeric:function(){return getLangNumeric},langNumeric:function(){return langNumeric},stringifyJSON:function(){return stringifyJSON},wrapCommunityMailUrl:function(){return wrapCommunityMailUrl},mailReplaceMentions:function(){return mailReplaceMentions},mailReplaceDomainMentions:function(){return mailReplaceDomainMentions},mailWrapMention:function(){return mailWrapMention},wdToFlatArray:function(){return wdToFlatArray},fromCharCode:function(){return fromCharCode},timestamp:function(){return timestamp},getDayNumberFromUnixtime:function(){return getDayNumberFromUnixtime},getMonthNumberFromUnixtime:function(){return getMonthNumberFromUnixtime},formatDuration:function(){return formatDuration},toArray:function(){return toArray},arrayLength:function(){return arrayLength},isArray:function(){return isArray},arrayIncludes:function(){return arrayIncludes},inlineIconResolver:function(){return inlineIconResolver},isSAKIntegration:function(){return isSAKIntegration},isEduIntegration:function(){return isEduIntegration},isVKPayIntegration:function(){return isVKPayIntegration},langTag:function(){return langTag},arraySomeEqual:function(){return arraySomeEqual},preactCallback:function(){return preactCallback},getLangReplace:function(){return getLangReplace},winToUtf:function(){return winToUtf},getNumShort:function(){return getNumShort},formatPrice:function(){return formatPrice},getAvatarMode:function(){return getAvatarMode},getAvatarTextLength:function(){return getAvatarTextLength},convertToUtf:function(){return convertToUtf},convertToWin:function(){return convertToWin},mbSubstr:function(){return mbSubstr},decodeHTMLEntities:function(){return decodeHTMLEntities},cleanName:function(){return cleanName},stylesObjectToString:function(){return stylesObjectToString},parseHTMLAttributes:function(){return parseHTMLAttributes},getRandomId:function(){return getRandomId},isString:function(){return isString},toString:function(){return toString},toInt:function(){return toInt},isJSFunction:function(){return isJSFunction},isLiteModeEnabled:function(){return isLiteModeEnabled},getHostName:function(){return getHostName},getClientSizes:function(){return getClientSizes},isChatPeer:function(){return _mobile_lib_Mail__WEBPACK_IMPORTED_MODULE_1__.isChatPeer},isContactPeer:function(){return _mobile_lib_Mail__WEBPACK_IMPORTED_MODULE_1__.isContactPeer},isForwardedMessageId:function(){return _mobile_lib_Mail__WEBPACK_IMPORTED_MODULE_1__.isForwardedMessageId},extend:function(){return _mobile_lib_Utils__WEBPACK_IMPORTED_MODULE_2__.extend},makeUrl:function(){return _mobile_lib_Url__WEBPACK_IMPORTED_MODULE_4__.makeUrl},emitServerEvent:function(){return _state__WEBPACK_IMPORTED_MODULE_11__.emitServerEvent},getState:function(){return _state__WEBPACK_IMPORTED_MODULE_11__.getState},setState:function(){return _state__WEBPACK_IMPORTED_MODULE_11__.setState}});var tslib__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(79573),_mobile_emoji_html__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(63545),_mobile_lib_Mail__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(12344),_mobile_lib_Utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(20848),_shared_im_helpers__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(26338),_shared_helpers_html_entities__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(49849),_mobile_lib_Url__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(15247),_mobile_lib_Withdom__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(39871),_shared_lib_SAKIntegration__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(65256),_vkontakte_vkjs_lib_classNames__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(20904),_shared_lib_site__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(61540),_state__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(76772);function isObject(e){return(0,_mobile_lib_Utils__WEBPACK_IMPORTED_MODULE_2__.isObject)(e)}function isJS(){return!0}var log=console.log,mergeObjects=Object.assign,classNames=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return _vkontakte_vkjs_lib_classNames__WEBPACK_IMPORTED_MODULE_7__.classNames.apply(void 0,(0,tslib__WEBPACK_IMPORTED_MODULE_9__.__spreadArray)([],(0,tslib__WEBPACK_IMPORTED_MODULE_9__.__read)(e),!1))};function arraySlice(e,t,n){return e.slice(t,n)}function mergeArrays(e,t){return Array.isArray(e)&&Array.isArray(t)?e.concat(t):[]}function concatValues(e,t){return e+t}function isFinite(e){return window.isFinite(e)}function getLang(e,t){return window.getLang(e,t)}function partConfigEnabled(e){var t=(window.vk||{}).pe;return!!(void 0===t?{}:t)[e]}function getLangNumeric(e,t,n){return(0,_mobile_lib_Utils__WEBPACK_IMPORTED_MODULE_2__.langNumeric)(e,t,n)}function langNumeric(e,t,n){return void 0===n&&(n=!1),(0,_mobile_lib_Utils__WEBPACK_IMPORTED_MODULE_2__.langNumeric)(e,t,n)}function insertBetween(e,t){var n=[];return e.forEach((function(r,i){var o=e[i+1],a=e[i+2];r&&n.push(r),r&&(o||a)&&n.push(t)})),n}function stringifyJSON(e){return JSON.stringify(e)}function parseJSON(e){return JSON.parse(e)}function wrapCommunityMailUrl(e){return(0,_mobile_lib_Mail__WEBPACK_IMPORTED_MODULE_1__.wrapCommunityUrl)(e)}function mailReplaceMentions(e,t){return e.replace(_mobile_lib_Mail__WEBPACK_IMPORTED_MODULE_1__.MENTION_REGEXP,t)}function mailReplaceDomainMentions(e,t){return e.replace(_mobile_lib_Mail__WEBPACK_IMPORTED_MODULE_1__.MENTION_DOMAIN_REGEXP,t)}function mailWrapMention(e){return(0,_mobile_lib_Mail__WEBPACK_IMPORTED_MODULE_1__.wrapMention)(e)}function wdToFlatArray(e){return _mobile_lib_Withdom__WEBPACK_IMPORTED_MODULE_5__.default.toFlatArray(e).map(_mobile_lib_Withdom__WEBPACK_IMPORTED_MODULE_5__.default.innerItemToString)}function fromCharCode(e){return String.fromCharCode(e)}function timestamp(){return Date.now()/1e3}function getDayNumberFromUnixtime(e){return new Date(1e3*e).getDate()}function getMonthNumberFromUnixtime(e){return new Date(1e3*e).getMonth()+1}function formatDuration(e){if(!e)return"";var t=Math.floor(e/3600),n=Math.floor(e/60)%60,r=e%60;return r>=3600?(0,tslib__WEBPACK_IMPORTED_MODULE_9__.__spreadArray)([t],(0,tslib__WEBPACK_IMPORTED_MODULE_9__.__read)([n,r].map((function(e){return e<10?"0"+e:""+e}))),!1).join(":"):(0,tslib__WEBPACK_IMPORTED_MODULE_9__.__spreadArray)([n],(0,tslib__WEBPACK_IMPORTED_MODULE_9__.__read)([r].map((function(e){return e<10?"0"+e:""+e}))),!1).join(":")}function arrayUnique(e){return e.filter((function(e,t,n){return n.indexOf(e)===t}))}function arrayFlat(e,t){return e.flat(t)}function toArray(e){return[].slice.call(e)}function arrayLength(e){return e.length}function isArray(e){return Array.isArray(e)}function arrayIncludes(e,t){return e.includes(t)}function inlineIconResolver(e){return null}function isIconAlreadyInBundle(){return!1}function isSAKIntegration(){return _shared_lib_SAKIntegration__WEBPACK_IMPORTED_MODULE_6__.SAKIntegration.isIntegrated}function isEduIntegration(){return _shared_lib_SAKIntegration__WEBPACK_IMPORTED_MODULE_6__.SAKIntegration.isIntegrated&&"edu"===_shared_lib_SAKIntegration__WEBPACK_IMPORTED_MODULE_6__.SAKIntegration.type}function isVKPayIntegration(){return _shared_lib_SAKIntegration__WEBPACK_IMPORTED_MODULE_6__.SAKIntegration.isIntegrated&&"vkpay"===_shared_lib_SAKIntegration__WEBPACK_IMPORTED_MODULE_6__.SAKIntegration.type}function langTag(e,t,n,r){return void 0===r&&(r="tag"),n=(n=n.replace("{"+r+"}",e)).replace("{/"+r+"}",t)}function arraySomeEqual(e,t,n){var r,i;try{for(var o=(0,tslib__WEBPACK_IMPORTED_MODULE_9__.__values)(e),a=o.next();!a.done;a=o.next()){if(a.value[t]===n)return!0}}catch(e){r={error:e}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return!1}function preactCallbackKeywordsReplace(e,t,n){return e.map((function(e){return"event"===e?n:"this"===e?t:e}))}var evalCaller=function(code,context){return function(){code=code.replace(/function\s?\(/gim,(function(e,t){return"function f"+t+"("}));var result=eval("(function(event) { "+code+" }).call(this, event)");return code.includes("return")?result:void 0}.call(context)};function preactCallback(e){if(!e)return null;if((0,_mobile_lib_Utils__WEBPACK_IMPORTED_MODULE_2__.isFunction)(e))return e;if(isArray(e)){if((0,_mobile_lib_Utils__WEBPACK_IMPORTED_MODULE_2__.flatArray)(e).every((function(e){return!Boolean(e)})))return null;if(e.every(Array.isArray)){var t=e.map((function(e){return preactCallback(e[0])}));return function(e){var n=e.currentTarget;t.map((function(t){return t.call(n,e)}))}}}return function(t){var n=t.currentTarget;if(isString(e))return evalCaller(e,n);if(isArray(e)){var r=e[0],i=e.slice(1),o=preactCallbackKeywordsReplace(i,n,t);if((0,_mobile_lib_Utils__WEBPACK_IMPORTED_MODULE_2__.isFunction)(r))return r.apply(void 0,(0,tslib__WEBPACK_IMPORTED_MODULE_9__.__spreadArray)([],(0,tslib__WEBPACK_IMPORTED_MODULE_9__.__read)(o),!1));if(isString(r)){var a=i.reduce((function(e,t,n,r){return e+="event"!==t&&"this"!==t?"'"+t+"'":t,n!==r.length-1&&(e+=", "),e}),"").trim();return evalCaller(r+"("+a+");",n)}}}}function getLangReplace(e,t){for(var n in void 0===t&&(t={}),t)if(t.hasOwnProperty(n)){var r="{"+n+"}";e=e.replace(r,t[n])}return e}function winToUtf(e){return(0,_mobile_lib_Utils__WEBPACK_IMPORTED_MODULE_2__.winToUtf)(e)}function getNumShort(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0);var r=e.toString();(e>=1e4&&e<1e6?r=Math.floor(e/1e3)+"K":e>=1e6&&(r=Math.round(e/1e6)+"M"),t)&&(r=e<1e4?getLangNumeric(e,t,n):getLangNumeric(789,t).replace(new RegExp("789","g"),r));return r}function formatPrice(e,t){return langNumeric((e/1e3).toFixed(e%1e3==0?0:2),t,!0)}function getAvatarMode(e){return void 0===e&&(e={}),e.id&&e.name&&window.vk.liteMode.enabled?"text":"image"}function getAvatarTextLength(e){return void 0===e&&(e=1),e>0?2:1}function convertToUtf(e){return e}function convertToWin(e){return e}function mbSubstr(e,t,n,r){return e.substr(t,n)}function decodeHTMLEntities(e){return(0,_shared_helpers_html_entities__WEBPACK_IMPORTED_MODULE_10__.decodeHTMLEntities)(e)}function cleanName(e){return e}function stylesObjectToString(e){return Object.keys(e).map((function(t){return t+":"+e[t]+";"})).join("")}function parseHTMLAttributes(e){for(var t,n=/(\S+)=['"]?((?:(?!\/>|>|"|'|\s).)+)/gi,r={};t=n.exec(e);)r[t[1]]=t[2];return r}function getRandomId(e,t){void 0===e&&(e="r"),void 0===t&&(t=!0);var n=[e];return t&&n.push(Date.now()),n.push(Math.round(999999*Math.random())),n.join("-")}function isString(e){return"string"==typeof e}function toString(e){var t;return(null===(t=null==e?void 0:e.toString)||void 0===t?void 0:t.call(e))||""}function toInt(e){return parseInt(e,10)}function isJSFunction(e){return(0,_mobile_lib_Utils__WEBPACK_IMPORTED_MODULE_2__.isFunction)(e)}function isLiteModeEnabled(){return window.vk.liteMode.enabled}function getHostName(){return(0,_shared_lib_site__WEBPACK_IMPORTED_MODULE_8__.getHostName)()}function getClientSizes(){return{width:(0,_mobile_lib_Utils__WEBPACK_IMPORTED_MODULE_2__.getCw)(),height:(0,_mobile_lib_Utils__WEBPACK_IMPORTED_MODULE_2__.getCh)()}}},76772:function(e,t,n){"use strict";n.d(t,{getState:function(){return a},setState:function(){return u},emitServerEvent:function(){return c}});var r=n(79573),i=n(41313),o=n(34757);function a(e){return window.isomorphicState&&window.isomorphicState[e]||[]}function u(e,t){function n(e,t){(0,i.onIsomorphicStateUpdate)({key:e,value:t}),window.isomorphicState[e]=t}if(window.isomorphicState||(window.isomorphicState={}),"string"==typeof e)n(e,t);else{var r=e;Object.keys(r).forEach((function(e){n(e,r[e])}))}}function s(e,t){t&&0!==t.length?(0,o.addStatic)(t).then((function(){return(0,i.onIsomorphicStateUpdate)(e)})):(0,i.onIsomorphicStateUpdate)(e)}function c(e){e.forEach((function(e){var t=(0,r.__read)(e,4),n=t[0],i=t[1],o=t[2];t[3]?window.onDOMReady((function(){s({key:n,value:i},o)})):s({key:n,value:i},o)}))}},82842:function(e,t,n){"use strict";n.d(t,{PostsObserver:function(){return s}});var r=n(48640),i=n(71437),o=n(20848),a=n(78938);function u(e){return Boolean(1&e&&2&e)}var s=function(){function e(e){var t,n=this;this.onObservedEntriesChange=function(e,t){var n=[];e.forEach((function(e,s){var c=e.target.classList.contains("wall_item")||e.target.classList.contains("post_item")?e.target:(0,i.$)(".wall_item, .post_item",e.target),_=c.bits||0;if(!c.getAttribute("data-ignore"))if(u(+c.bits))t.unobserve(e.target);else{var l=c.getAttribute("data-clicked"),d=e.rootBounds||{height:Number((0,o.getCh)()),bottom:0,left:0,right:0,top:0,width:Number((0,o.getCw)()),x:0,y:0,toJSON:function(){}};if(l||1===e.intersectionRatio?_|=3:(_|=e.boundingClientRect.top>=d.top&&e.boundingClientRect.top<d.bottom?1:0,_|=e.boundingClientRect.bottom>=d.top&&e.boundingClientRect.bottom<d.bottom?2:0),u(_)){t.unobserve(e.target);var f=a.default.postsGetRaws(c,e.target);a.default.viewed(c),n.push(f),window.pStats.__debug&&(0,r.blinkItemColor)(c)}c.bits=_}})),a.default.seen(n)},this.observer=new IntersectionObserver(this.onObservedEntriesChange,{threshold:(void 0===t&&(t=20),new Array(t+1).fill(0).map((function(e,n){return n/t})))}),e.forEach((function(e){n.observer.observe(e)}))}return e.prototype.disconnect=function(){this.observer.disconnect()},e.prototype.onNewPosts=function(e){var t=this;window.pStats.__debug&&window.clog("[PostsObserver] "+e.length+" posts was handled"),e.forEach((function(e){u(+e.bits)||t.observer.observe(e)}))},e}()},82442:function(e,t,n){"use strict";n.d(t,{elem:function(){return o}});var r=n(18226),i=n(80580);function o(e){return e?(0,r.ceFromString)((0,i.html)(e)):""}},80580:function(e,t,n){"use strict";n.d(t,{wrap:function(){return s},render:function(){return c},html:function(){return _},getTag:function(){return l},getInnerString:function(){return d},isAttrHandler:function(){return f},getAttrsString:function(){return p},innerItemToString:function(){return E},prepareClass:function(){return m},prepareStyle:function(){return D},prepareHandler:function(){return g},prepareHandlerArg:function(){return v},prepareGenericAttr:function(){return A},isReservedKey:function(){return h},isSelfClosingTag:function(){return C},getEventName:function(){return T},isEvent:function(){return w},isFnGetter:function(){return y},isBool:function(){return b},isNumber:function(){return O},isString:function(){return I},isArray:function(){return M},isObject:function(){return P},isFunction:function(){return N},isNonEmptyString:function(){return R},alwaysArray:function(){return k},safeAttr:function(){return F},safeString:function(){return L},toFlatArray:function(){return B},flatten:function(){return U},safeGet:function(){return x}});var r=n(2947),i=n(42030),o=(r.render,["tag","inner","attrs","innerHTML","outerHTML","_","children"]),a=["area","base","br","col","command","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],u=["abort","auxclick","beforecopy","beforecut","beforepaste","blur","cancel","canplay","canplaythrough","change","click","close","contextmenu","copy","cuechange","cut","dblclick","drag","dragend","dragenter","dragleave","dragover","dragstart","drop","durationchange","emptied","ended","error","focus","gotpointercapture","input","invalid","keydown","keypress","keyup","load","loadeddata","loadedmetadata","loadstart","lostpointercapture","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","mousewheel","paste","pause","play","playing","pointercancel","pointerdown","pointerenter","pointerleave","pointermove","pointerout","pointerover","pointerup","progress","ratechange","reset","resize","scroll","search","seeked","seeking","select","selectstart","stalled","submit","suspend","timeupdate","toggle","touchcancel","touchend","touchmove","touchstart","volumechange","waiting","wheel"].map((function(e){return"on"+e}));function s(e){return e?{__raw__:e}:null}function c(e){return I(e)?e:_(e)}function _(e){if(I(e))return e?{__raw__:e}:null;if(M(e))return e.map(_).join("");if(!P(e))throw"Invalid input, object is expected";if("outerHTML"in e){if(I(t=e.outerHTML))return t;if(O(t))return t.toString();if(t)throw"Invalid outerHTML";return""}if("__raw__"in e){var t;if(I(t=e.__raw__))return t;if(O(t))return t.toString();if(t)throw"Invalid __raw__";return""}var n=l(e),r=d(e),i=p(e);return C(n)?"<"+n+i+" />":"<"+n+i+">"+r+"</"+n+">"}function l(e){if("tag"in e){var t=e.tag;if(I(t)&&/^[\w-]+$/.test(t))return t;throw"Invalid tag name"}return R(e.href)?"a":"div"}function d(e){if("innerHTML"in e){var t=e.innerHTML;if(I(t))return t;if(O(t))return t.toString();if(t)throw"Invalid innerHTML";return""}return"inner"in e?B(e.inner).map(E).join(""):"children"in e?B(e.children).map(E).join(""):""}function f(e,t){return w(e)&&(M(t)||y(t))}function p(e){var t="";P(e.attrs)&&Object.assign(e,e.attrs);var n={className:"class",htmlFor:"for"};for(var r in e)if(e.hasOwnProperty(r)){var i=S(r),o=r;if(n[r]&&(r=n[r]),i&&(r=T(r)),!h(r)){var a=e[r]||e[o];"class"===r?a=m(a):f(r,a)?a=g(a):a&&!i&&(a=A(a)),"style"===r&&(a=D(a));var u=L(r);!0===a?t+=" "+u:O(a)?t+=" "+u+'="'+a+'"':I(a)?t+=" "+u+'="'+L(a)+'"':a&&(a=a.__raw__?a.__raw__:A(a))&&(t+=" "+u+'="'+a+'"')}}return I(e.attrs)&&(t+=" "+F(e.attrs)),t}function E(e){return O(e)?e.toString():I(e)?L(e):P(e)?e.__raw__?e.__raw__:_(e):""}function m(e){return B(e).filter(R).join(" ").trim().replace(/\s+/g," ")}function D(e){return P(e)?Object.entries(e).map((function(e){var t=e[0],n=e[1];return(t=t.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()})))+":"+n})).join(";"):e}function g(e,t){void 0===t&&(t=!1);var n=k(e);if(!n.length)return"";var r=n[0];return I(r)?r+"("+n.slice(1).map((function(e){return v(e,t)})).join(", ")+")":e}function v(e,t){if(void 0===t&&(t=!1),O(e)||"this"===e||"event"===e||void 0===e)return e;var n=JSON.stringify(e);return t?n:L(n,!0)}function A(e){return b(e)||O(e)?e:e=I(e)?L(e):P(e)?e.__raw__:L(JSON.stringify(e),!0)}function h(e){return o.includes(e)}function C(e){return a.includes(e.toLowerCase())}function T(e){return(e=e.toLowerCase()).replace("unsafe","")}function w(e){return u.includes(e.toLowerCase())||S(e)}function S(e){return!!(e=e.toLowerCase()).endsWith("unsafe")&&w(T(e))}function y(e){return I(e)&&/^[\w.]+$/.test(e)}function b(e){return"boolean"==typeof e}function O(e){return"number"==typeof e&&!isNaN(e)}function I(e){return"string"==typeof e}function M(e){return Array.isArray(e)}function P(e){return"[object Object]"===Object.prototype.toString.call(e)}function N(e){return"[object Function]"==={}.toString.call(e)}function R(e){return!(!I(e)||!e)}function k(e){return M(e)?e:[e]}function F(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function L(e,t){return void 0===e&&(e=""),void 0===t&&(t=!1),t?(0,i.cleanInputValue)(e):(e=e.replace(/&(?!(#\d{0,4};|quot;|lt;|gt;|amp;))/g,"&amp;")).replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function B(e){return M(e)?U(e):[e]}function U(e){var t=[];return e.forEach((function(e){M(e)?t=t.concat(U(e)):t.push(e)})),t}function x(e,t){for(var n=t.split("."),r=n.length,i=e,o=0;o<r;o++)try{i=i[n[o]]}catch(e){return}return i}},24535:function(e,t,n){"use strict";n.d(t,{createElement:function(){return a},Fragment:function(){return u}});var r=n(79573),i=n(80580),o=n(77237);function a(e,t){var n=t.children;return delete t.children,(0,i.isFunction)(e)?e((0,r.__assign)((0,r.__assign)({},t),{inner:n})):(0,r.__assign)((0,r.__assign)({tag:e},t),{inner:n})}function u(e){return(0,o.getChildrenFromProps)(e,null)}},77237:function(e,t,n){"use strict";n.d(t,{getChildrenFromProps:function(){return o},getClassNameFromProps:function(){return a},processLegacyAttrs:function(){return u}});var r=n(80580),i=n(62641);function o(e,t){return t||e.inner}function a(e){return(0,i.classNames)((0,r.prepareClass)(e.className),(0,r.prepareClass)(e.class))}function u(e){return(0,r.getAttrsString)({attrs:e})}},39871:function(e,t,n){"use strict";n.d(t,{default:function(){return E},elem:function(){return a.elem},handle:function(){return i}});var r=n(80580);function i(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=(0,r.alwaysArray)(e),o=i[0];if(o){(0,r.isString)(o)||console.warn('Invalid handler "'+o+'"');var a=(0,r.safeGet)(window,o);if((0,r.isFunction)(a))return a.apply(null,i.slice(1).concat(t));console.warn("`"+o+"` is not a function")}}var o=n(24535),a=n(82442),u=n(79573),s=n(2947),c=n(20848),_=n(62641);function l(e,t){var n=document.createElement("div");return d(e,t,n),n.children[0]}function d(e,t,n){(0,s.render)(f(e,t),n)}function f(e,t){return p((function(t){return e(t)}))(t)}function p(e){return function(t){var n=(0,r.isFunction)(e)?e(t):e;if(!n)return null;if("string"==typeof n||"number"==typeof n)return n;if((0,r.isArray)(n))return n.map((function(e){return p(e)(e&&e.props)}));var i=n.children||n.inner;n.children=i?(0,r.isArray)(i)?i:[i]:null,delete n.inner,"string"==typeof n.attrs&&(n.attrs=(0,_.parseHTMLAttributes)(n.attrs)),n.attrs=n.attrs||{},(0,r.isArray)(n.children)&&(n.children=(0,c.flatArray)(n.children),n.children=n.children.map((function(e){return e&&e.__raw__?(0,s.createElement)("div",{dangerouslySetInnerHTML:{__html:e.__raw__}}):p(e)(e&&e.props)})));var o=(0,c.flatArray)([n.class,n.className]).reduce((function(e,t){return t&&e.push.apply(e,(0,u.__spreadArray)([],(0,u.__read)(t.split(" ").map((function(e){return e.trim()})).filter((function(e){return!!e}))),!1)),e}),[]),a=Object.assign({},n,{className:o.length?o.join(" "):null},n.attrs);return delete a.class,delete a.tag,delete a.attrs,Object.keys(a).forEach((function(e){var t=a[e],n=(0,r.getEventName)(e);(0,r.isEvent)(e)&&(n!==e&&(delete a[e],e=n),a[e]=(0,_.preactCallback)(t),a["preacted-"+n]=!0),null!==t&&"object"==typeof t&&t.__raw__&&(a[e]=t.__raw__)})),(0,s.createElement)(n.tag||"div",a,n.children)}}var E={wrap:r.wrap,isFunction:r.isFunction,_preact:p,alwaysArray:r.alwaysArray,createElephizeElement:o.createElement,elem:a.elem,flatten:r.flatten,getAttrsString:r.getAttrsString,getInnerString:r.getInnerString,getTag:r.getTag,handle:i,handle2:function(e,t){var n=Array.prototype.slice.call(arguments,2),i=e[0];if(i){(0,r.isString)(i)||console.warn('Invalid handler "'+i+'"');var o=(0,r.safeGet)(window,i);if((0,r.isFunction)(o)){for(var a=e.slice(1),u=0,s=a.length;u<s;u++)if("event"===a[u]){a[u]=t;break}o.apply(null,a.concat(n))}else console.warn("`"+i+"` is not a function")}},html:r.html,hydrate:function(e,t,n){return(0,s.hydrate)((0,s.createElement)(e,t),n)},innerItemToString:r.innerItemToString,isArray:r.isArray,isAttrHandler:r.isAttrHandler,isBool:r.isBool,isEvent:r.isEvent,isFnGetter:r.isFnGetter,isNonEmptyString:r.isNonEmptyString,isNumber:r.isNumber,isObject:r.isObject,isReservedKey:r.isReservedKey,isSelfClosingTag:r.isSelfClosingTag,isString:r.isString,mountPreactComponent:function(e,t,n){n&&(n.innerHTML="",(0,s.render)((0,s.createElement)(e,t),n))},mountPreactTemplate:d,preact:f,preactElem:l,preactElemFromTemplate:function(e){return l((function(){return e}),{})},prepareClass:r.prepareClass,prepareGenericAttr:r.prepareGenericAttr,prepareHandler:r.prepareHandler,prepareHandlerArg:r.prepareHandlerArg,prepareStyle:r.prepareStyle,render:r.render,safeAttr:r.safeAttr,safeGet:r.safeGet,safeString:r.safeString,toFlatArray:r.toFlatArray}},18226:function(e,t,n){"use strict";n.d(t,{scrollTo:function(){return i},ceFromString:function(){return o},onElementRemove:function(){return s}});n(79573);var r=n(20848);function i(e,t){var n=e.toFixed(),i=function(){window.pageYOffset.toFixed()===n&&((0,r.removeEvent)(window,"scroll",i),t())};(0,r.addEvent)(window,"scroll",i),i(),window.scrollTo({top:e,behavior:"smooth"})}function o(e){var t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild}var a=new Map,u=new Set;function s(e,t){e&&(a.set(e,t),u.add(e))}},59374:function(e,t,n){"use strict";var r;n.d(t,{AvailableHelpHints:function(){return r}}),function(e){e.ACCOUNT_HINT_MVK_VIDEO_FILTERS="mvk:video_filters",e.ACCOUNT_HINT_NARRATIVES_ADD_TOOLTIP="narratives:add_tooltip",e.ACCOUNT_HINT_MVK_STORIES_ARCHIVE_PRIVACY_HINT="mvk:stories_archive:privacy_hint",e.ACCOUNT_HINT_MVK_STORIES_ARCHIVE_ACTIONS_HINT="mvk:stories_archive:actions_hint",e.ACCOUNT_HINT_FRIENDS_BEST_FRIENDS_POSTING="friends:best_friends_posting",e.ACCOUNT_HINT_MINI_APPS_BUTTON_MVK_PROFILE="mini_apps:button_mvk_profile",e.ACCOUNT_HINT_MINI_APPS_BUTTON_MVK_APP_MENU="mini_apps:button_mvk_app_menu",e.ACCOUNT_HINT_MINI_APPS_COUNTER_TOGGLE_IN_ACTION_MENU="mini_apps:counter_toggle_in_action_menu",e.ACCOUNT_HINT_MINI_APPS_COUNTER_TOGGLE_IN_ACTION_MENU_INTRO="mini_apps:counter_toggle_in_action_menu_intro",e.ACCOUNT_HINT_QUESTIONS_PROFILE_HINT="questions:profile_hint",e.ACCOUNT_HINT_MINI_APPS_OPEN_CATALOG_WITH_BADGES="mini_apps:open_catalog_with_badges",e.ACCOUNT_HINT_MINI_APPS_CATALOG_SECTION_WITH_BADGES="mini_apps:catalog_section_with_badges",e.ACCOUNT_HINT_SUPERAPP_RECOMMEND_ACTION_IN_MENU="superapp:recommend_action_in_menu",e.ACCOUNT_HINT_SUPERAPP_SHOW_RECOMMEND_ACTION="superapp:show_recommend_action",e.ACCOUNT_HINT_MVK_MOVE_RECOMMENDATION_HINT="mvk:move_recommendation_hint"}(r||(r={}))},532:function(e,t,n){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=[],r=e;return r.forEach((function(e){if(e)switch(typeof e){case"string":n.push(e);break;case"object":if(Array.isArray(e))e.forEach((function(e){return n.push(e)}));else Object.keys(e).forEach((function(t){e[t]&&n.push(t)}));break;default:n.push(""+e)}})),n.join(" ")}n.d(t,{classNames:function(){return r}})},41313:function(e,t,n){"use strict";n.d(t,{onIsomorphicStateUpdate:function(){return i},createServerStore:function(){return o},onServerEvent:function(){return a},createStoreStateMapper:function(){return u},predicateSampleSource:function(){return s}});var r=n(72864),i=(0,r.createEvent)();function o(e,t){var n=(0,r.createStore)(t),i=a(e);return i.watch((function(){return delete window.isomorphicState[e]})),n.on(i,(function(e,t){return t.value})),n}function a(e){var t=(0,r.createEvent)();return(0,r.guard)({source:i,filter:function(t){return t.key===e},target:t}),t.map((function(e){return e.value}))}function u(e,t){e.watch((function(e){e&&Object.keys(e).forEach((function(n){var r;null===(r=t[n])||void 0===r||r.call(t,e[n])}))}))}var s=function(e,t){return[e,t]}},53602:function(e,t,n){"use strict";n.d(t,{DESKTOP_WIDTH:function(){return a},TABLET_WIDTH:function(){return u},LAYOUT:function(){return s},getCurrentLayout:function(){return _},onLayoutChange:function(){return l}});var r=n(20848),i=n(15893),o=n(75105),a=882,u=620,s={MOBILE:1,TABLET:2,DESKTOP:3},c=s.MOBILE;function _(){return c}var l=(0,o.default)();var d=(0,i.throttle)((function(){var e,t=c;e=(0,r.getCw)(),t!==(c=e<u?s.MOBILE:e>=a?s.DESKTOP:s.TABLET)&&l(c)}),250);(0,r.addEvent)(window,"resize",d,{passive:!0}),d()},24661:function(e,t,n){"use strict";n.d(t,{toggleLayer:function(){return i},openActionMenu:function(){return o},likeMediaViewPhoto:function(){return a},shareMediaViewPhoto:function(){return u},onActionClick:function(){return s},openTag:function(){return c},openReplies:function(){return _},setZUrl:function(){return l},$isOpen:function(){return d}});var r=(0,n(72864).createDomain)("PHOTO/MEDIAVIEW"),i=r.createEvent("toggleLayer"),o=r.createEvent("openActionMenu"),a=r.createEvent("likeMediaViewPhoto"),u=r.createEvent("shareMediaViewPhoto"),s=r.createEvent("onActionClick"),c=r.createEvent("openTag"),_=r.createEvent("openReplies"),l=r.createEvent("setZUrl"),d=r.createStore(!1,{name:"isOpen"})},68673:function(e,t,n){"use strict";n.d(t,{Btn:function(){return p},setDisabled:function(){return d},setLoading:function(){return l}});var r=n(39871),i=n(80580),o=n(81290),a="Btn_loading",u="Btn_theme_secondary",s="Btn__loader",c="Btn__loader--white",_={loader:"."+s},l=function(e,t,n){if(void 0===n&&(n=""),e){var r=e.classList.contains(a);if(t){if(r)return;var l=e.classList.contains(u),d=e.classList.contains(c),f=!n&&l?"white":n,p=(0,i.html)((0,o.default)({mix:s,white:"white"===f||d,large:!0,spinner:"white"!==f}));e.classList.add(a),e.insertAdjacentHTML("afterbegin",p)}else{if(!r)return;var E=e.querySelector(_.loader);e.classList.remove(a),E&&E.remove()}}},d=function(e,t){void 0===t&&(t=!0),e instanceof HTMLAnchorElement||(e.disabled=t)},f=function(e,t,n){e.preventDefault(),(0,r.handle)(n,{$btn:t})},p={className:"Btn",setDisabled:d,setLoading:l};p._onClick=f},54958:function(e,t,n){"use strict";n.d(t,{Btn:function(){return l}});var r=n(79573),i=n(50805),o=n(95309),a=n(80580),u=n(62641),s=n(532),c=n(77237),_=n(52650);function l(e){var t;void 0===e&&(e={});var n=e.url,l=e.is_icon,d=e.use_native_onclick,f=e.icon,p=e.tag,E=e.before,m=e.after,D=e.role,g=e.theme;E=E||null,m=m||null,p=p||"button",D=D||"button",g=g||"regular";var v=e.on_click||e.onClick||e.onclick,A=e.children,h=(0,c.getChildrenFromProps)(e,A);(0,u.isArray)(h)&&1===h.length&&(0,u.isString)(h[0])&&(h=h[0]);var C=(0,s.classNames)((0,c.getClassNameFromProps)(e),e.mix,"Btn","Btn_theme_"+g,((t={})["Btn_size_"+e.size]=e.size,t.Btn_stretch=e.stretch,t.Btn_flex=!(!E&&!m),t.Btn_loading=e.isLoading,t.Btn_icon=l,t)),T=e.hide?"; display: none;":"",w=e.style?e.style+T:T,S=null;e.isLoading&&(S=(0,i.jsx)(o.Loading,{mix:"Btn__loader",white:"secondary"===g,large:!0,spinner:e.spinner||"white"!==g},void 0));var y=(0,i.jsx)(i.Fragment,{},void 0);y=l?(0,i.jsxs)(i.Fragment,{children:[S,h]},void 0):(0,i.jsxs)(i.Fragment,{children:[S,f?(0,i.jsx)("div",(0,r.__assign)({className:"Btn__icon"},{children:f}),void 0):null,(0,i.jsx)("div",(0,r.__assign)({className:"Btn__text"},{children:h}),void 0)]},void 0);var b=(0,i.jsxs)(i.Fragment,{children:[E,y,m]},void 0),O={className:C,style:w,attrs:(0,c.processLegacyAttrs)(e.attrs),"aria-label":e["aria-label"]},I=e.is_submit?"submit":null,M=e.type||I;return(0,u.isJSFunction)(v)?n?(0,i.jsx)("a",(0,r.__assign)({},O,{href:n,target:e.open_in_new_tab?"_blank":e.target,role:D,onClick:v},{children:b}),void 0):(0,i.jsx)(_.CustomTag,(0,r.__assign)({},O,{tag:p,disabled:e.disabled,type:M||void 0,onClick:v},{children:b}),void 0):(v&&!d?v=(0,a.prepareHandler)(["Btn._onClick","event","this",v]):(0,a.isAttrHandler)("onClick",v)&&(v=(0,a.prepareHandler)(v,!0)),v=(0,u.toString)(v),n?(0,i.jsx)("a",(0,r.__assign)({},O,{href:n,target:e.open_in_new_tab?"_blank":e.target,role:D,onClickUnsafe:v},{children:b}),void 0):(0,i.jsx)(_.CustomTag,(0,r.__assign)({},O,{tag:p,disabled:e.disabled,type:M||void 0,onClickUnsafe:v},{children:b}),void 0))}},52650:function(e,t,n){"use strict";n.d(t,{CustomTag:function(){return i}});var r=n(77237);function i(e){var t=e.children,n=(0,r.getChildrenFromProps)(e,t),i=e;return i.tag=e.tag||"div",i.children=n,i}},95309:function(e,t,n){"use strict";n.d(t,{Loading:function(){return s}});var r=n(79573),i=n(50805),o=n(36461),a=n(532),u=n(77237);function s(e){var t;void 0===e&&(e={});var n=(0,u.getClassNameFromProps)(e)||e.mix,s=(0,a.classNames)(((t={})[n]=!0,t.Loading=!0,t.Loading_white=e.white,t.Loading_large=e.large,t.Loading_spinner=e.spinner,t));return e.spinner?(0,i.jsx)("div",(0,r.__assign)({className:s},{children:(0,i.jsx)(o.Icon16Spinner,{},void 0)}),void 0):(0,i.jsx)("div",(0,r.__assign)({className:s},{children:(0,i.jsx)("div",(0,r.__assign)({className:"Loading__items"},{children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"Loading__item Loading__item_0"},void 0),(0,i.jsx)("div",{className:"Loading__item Loading__item_1"},void 0),(0,i.jsx)("div",{className:"Loading__item Loading__item_2"},void 0)]},void 0)}),void 0)}),void 0)}},81290:function(e,t,n){"use strict";n.d(t,{Loading:function(){return r.Loading}});var r=n(95309);t.default=r.Loading,window.Loading=r.Loading},16603:function(e,t,n){"use strict";n.d(t,{SVGIcon:function(){return a}});var r=n(50805),i=n(62641),o=n(38200);function a(e){(0,i.inlineIconResolver)("");var t=null;return t=(0,i.isObject)(e)&&(0,i.isObject)(e.icon)?e.icon:e,(0,i.isObject)(t)||(t={name:e,icon:""}),(0,r.jsx)(o.SVGIconHTML,{name:null==t?void 0:t.name,icon:null==t?void 0:t.icon},void 0)}},38200:function(e,t,n){"use strict";n.d(t,{SVGIconHTML:function(){return s}});var r=n(79573),i=n(50805),o=n(62641),a=n(532),u=n(80580);function s(e){var t,n=e.name,s=e.icon,c=(0,a.classNames)(((t={svgIcon:!0})["svgIcon-"+n]=!0,t));return(0,i.jsx)("div",(0,r.__assign)({"aria-hidden":"true",className:c},{children:(0,u.wrap)((0,o.decodeHTMLEntities)(s))}),void 0)}},69663:function(e,t,n){"use strict";n.d(t,{setHelpHintShown:function(){return a},closeByHintId:function(){return s}});var r=n(71437),i=n(20848);function o(e,t){var n=e.target;return n&&n.classList.contains(t)?n:n.closest("."+t)}function a(e){if(!e)return!1;s(e)}function u(e){if(!e)return!1;if(e.classList.contains("Tooltip_onboarding")){var t=e.getAttribute("tooltip-id");t&&window.helpHints.hide(t)}return(0,i.re)(e),!0}function s(e){var t=function(e){return e?(0,r.$)('.Tooltip[tooltip-id="'+e+'"]'):null}(e);return u(t)}function c(e){var t=o(e,"Tooltip");if(t){if(o(e,"Tooltip--interactive")){var n=!!o(e,"Tooltip__rightBtn--close");if(!!!o(e,"Tooltip__bottomBtn--close")&&!n)return}e.preventDefault(),e.stopPropagation(),u(t)}}function _(e){if(e.target){if(o(e,"Tooltip--interactive"))return void e.stopPropagation();o(e,"Tooltip")&&e.stopPropagation()}var t=(0,r.$$)(".Tooltip_closeOnOverlayClick");null==t||t.forEach(u)}window.onDOMReady((function(){var e={capture:!0};window.addEventListener("click",c,e),window.addEventListener("touchend",c,e),window.addEventListener("touchcancel",c,e);var t={passive:!0,capture:!0};window.addEventListener("mousedown",_,t),window.addEventListener("click",_,t)}))},3616:function(e,t,n){"use strict";var r=n(79573),i=n(50805),o=n(62641),a=n(77237),u=n(36461),s=n(54958);t.default=function(e){var t,n,c,_=e.mode,l=void 0===_?"default":_,d=e.onboarding,f=void 0!==d&&d,p=e.closeOnOverlayClick,E=void 0!==p&&p,m=e.showCloseBtn,D=void 0!==m&&m,g=e.pos,v=void 0===g?"":g,A=e.theme,h=void 0===A?"":A,C=e.style,T=void 0===C?"":C,w=e.textAlign,S=void 0===w?"":w,y=e.onclick,b=void 0===y?"":y,O=e.button,I=void 0===O?null:O,M=e.children,P=(0,a.getChildrenFromProps)(e,M),N=(0,o.classNames)("Tooltip","Tooltip--"+l,(0,a.getClassNameFromProps)(e),((t={})["Tooltip__pos--"+v]=!!v,t["Tooltip__theme--"+h]=!!h,t.Tooltip_onboarding=f,t.Tooltip_closeOnOverlayClick=E,t)),R=(0,o.classNames)("Tooltip__inner",((n={})["Tooltip__innerPos--"+v]=!!v,n["Tooltip__innerTheme--"+h]=!!h,n["Tooltip__inner--textAlignCenter"]="center"===S,n)),k=(0,o.classNames)("Tooltip__bottomBtn--close",((c={})["Tooltip__bottomBtn--"+h]=!!h,c));return(0,i.jsx)("div",(0,r.__assign)({className:N,"tooltip-id":e["tooltip-id"]||"",style:T,onClick:b},{children:(0,i.jsxs)("div",(0,r.__assign)({className:R},{children:[(0,i.jsxs)("div",(0,r.__assign)({className:"Tooltip__body"},{children:[(0,i.jsx)("div",(0,r.__assign)({className:"Tooltip__children"},{children:P}),void 0),(0,i.jsx)("div",(0,r.__assign)({className:"Tooltip__rightBtn"},{children:D?(0,i.jsx)(s.Btn,(0,r.__assign)({className:"Tooltip__rightBtn--close",is_icon:!0,theme:"none"},{children:(0,i.jsx)(u.Icon24Dismiss,{},void 0)}),void 0):null}),void 0)]}),void 0),(0,i.jsx)("div",(0,r.__assign)({className:"Tooltip__footer"},{children:I&&I.show&&I.inner?(0,i.jsx)(s.Btn,(0,r.__assign)({theme:"muted",stretch:!0,use_native_onclick:!0,className:k,url:I.href||void 0},{children:I.inner}),void 0):null}),void 0)]}),void 0)}),void 0)}},95574:function(e,t,n){"use strict";n.d(t,{init:function(){return A},tq:function(){return C}});var r,i=n(79573),o=n(53349),a=n.n(o);!function(e){e.EV_GC_START="ev_gc_start",e.EV_GC_END="ev_gc_end",e.EV_PAUSED="ev_paused",e.EV_RESTARTED="ev_restarted",e.EV_NEW_HANDLER="ev_new_handler",e.EV_RM_HANDLER="ev_rm_handler",e.EV_TASK_START="ev_task_start"}(r||(r={}));var u=function(){function e(e){var t=this;void 0===e&&(e=function(){}),this._errorHandler=e,this._timerInterval=15,this._handlers=Object.create(null),this._emitter=new(a()),this._q=[],this.destroy=function(){t.pause(),clearInterval(t._gcTimer)},this.pause=function(){t._timer&&(clearTimeout(t._timer),t._timer=void 0,t._emitter.emit(r.EV_PAUSED))},this.restart=function(){t._timer||(t._next(),t._emitter.emit(r.EV_RESTARTED))},this.push=function(e){t._q.push(e),t.restart()},this.setHandler=function(e,n,i){void 0===i&&(i=!1),n.once=i,t._handlers[e]=n,t._emitter.emit(r.EV_NEW_HANDLER,e)},this.removeHandler=function(e){delete t._handlers[e],t._emitter.emit(r.EV_RM_HANDLER,e)},this._next()}return Object.defineProperty(e.prototype,"events",{get:function(){return this._emitter},enumerable:!1,configurable:!0}),e.migrate=function(t,n){void 0===n&&(n=function(){});var r=new e(n);return r.pause(),t&&t.destroy&&t._handlers&&t._q&&(t.destroy(),Object.keys(t._handlers).forEach((function(e){var n=t._handlers[e];r.setHandler(e,n,n.once)})),t._q.forEach((function(e){return r.push(e)}))),r.restart(),r},e.prototype.setupGc=function(t){this._gcTimer&&clearInterval(this._gcTimer),this._gcTimer=setInterval(this._gcTask.bind(this),t||e._gcDefaultInterval)},e.prototype._next=function(e){void 0===e&&(e=!1),this._timer=setTimeout(this._processNext.bind(this),e?0:this._timerInterval)},e.prototype._gcTask=function(){this.pause(),this._emitter.emit(r.EV_GC_START);var e=this._q.filter((function(e){return e.postponed}));this._q=this._q.filter((function(e){return!e.postponed})),this._emitter.emit(r.EV_GC_END,e),this.restart()},e.prototype._processNext=function(){var e=this,t=(0,i.__read)(this._q.splice(0,1),1)[0];if(t){var n,o=this._handlers[t.selector];if((null==o?void 0:o.once)&&this.removeHandler(t.selector),!o)return t.postponed||(t.postponed=!0),this._q.push(t),void(this._timer&&this._next());this._emitter.emit(r.EV_TASK_START,t.selector),window._tqVerbose&&console.info("Running evbus task",t.selector);try{n=Promise.resolve(o(t))}catch(e){n=Promise.reject(e)}n.then((function(){e._next(!0)}),(function(n){e._errorHandler&&e._errorHandler(t,n),e._next(!0)}))}else this.pause()},e._gcDefaultInterval=5e3,e}(),s={click:1,mouseover:1,mouseout:1,keyup:1,keydown:1,change:1,paste:1},c=["focus","mouseenter","mouseleave"],_=function(e){return function(t){var n;if(t.type===e&&t.target&&e&&(n=t.target.nodeType===Node.TEXT_NODE?t.target.parentNode:t.target,r=n,!Object.keys(r).some((function(e){return e.startsWith("_react")||e.startsWith("__react")}))&&n.dataset)){var r,i=n.dataset["task"+(e.toUpperCase()[0]+e.slice(1))];if(!i){if("click"!==t.type)return;var o=n.closest("[data-task-click]");if(!o)return;n=o,i=o.dataset["task"+(e.toUpperCase()[0]+e.slice(1))]}if(i){if(n.dataset.prevent&&t instanceof MouseEvent&&"A"===n.tagName){var a=n.hasAttribute("href"),u=t.ctrlKey||t.metaKey;if(a&&u)return}if(T().push({selector:i,payload:{target:n,dataAttrs:n.dataset,event:t},postponed:!1,createTime:Date.now()}),n.dataset.prevent)return 2&Number(n.dataset.prevent)&&t.stopPropagation(),t.preventDefault(),!1}}}},l=function(e){if(e.matches("[data-exec]")){var t=e.dataset.exec||"{}";e.removeAttribute("data-exec"),function(e,t){var n={};try{n=JSON.parse(e)}catch(t){console.error("Failed to parse JSON: ",e)}for(var r in n)n.hasOwnProperty(r)&&w().push({selector:r,payload:{target:t,data:n[r]},postponed:!1,createTime:Date.now()})}(t,e)}},d=function(e){var t,n,r,o=function(t){var n="data-task-"+t;if(e.hasAttribute(n)){var i=null!==(r=e.getAttribute(n))&&void 0!==r?r:"";e.removeAttribute(n),e.addEventListener(t,(function(t){var n=T()._handlers[i];Promise.resolve(null).then((function(){return null==n?void 0:n({selector:i,payload:{dataAttrs:e.dataset,target:e,event:t},postponed:!1,createTime:Date.now()})})).catch((function(e){return console.error(e)}))}),{passive:!0})}};try{for(var a=(0,i.__values)(c),u=a.next();!u.done;u=a.next()){o(u.value)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},f=function(e){var t,n,r,o,a,u;void 0===e&&(e=document);try{for(var s=(0,i.__values)(e.querySelectorAll("[data-exec]")),_=s.next();!_.done;_=s.next()){((g=_.value)instanceof HTMLElement||g instanceof SVGElement)&&l(g)}}catch(e){t={error:e}}finally{try{_&&!_.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}try{for(var f=(0,i.__values)(c),p=f.next();!p.done;p=f.next()){var E=p.value;try{for(var m=(a=void 0,(0,i.__values)(e.querySelectorAll("[data-task-"+E+"]"))),D=m.next();!D.done;D=m.next()){var g;((g=D.value)instanceof HTMLElement||g instanceof SVGElement)&&d(g)}}catch(e){a={error:e}}finally{try{D&&!D.done&&(u=m.return)&&u.call(m)}finally{if(a)throw a.error}}}}catch(e){r={error:e}}finally{try{p&&!p.done&&(o=f.return)&&o.call(f)}finally{if(r)throw r.error}}},p=n(45582),E=function(e,t){var n={message:"Task execution error",data:{taskName:e.selector,type:void 0===e.payload.dataAttrs?"startup_task":"interactive_task",params:JSON.stringify(void 0===e.payload.dataAttrs?e.payload.data:e.payload.dataAttrs)}};(0,p.logError)(t,{environment:"task_queue",breadcrumb:n}),console.error(t)},m=function(){if(!document.head)throw new Error("Document must be loaded before queue init");return document.head},D=function(e){document.addEventListener("DOMContentLoaded",e,{passive:!0}),"interactive"!==document.readyState&&"complete"!==document.readyState||e()},g=function(){return D((function(){!function(e,t){for(var n in t)t.hasOwnProperty(n)&&e.removeEventListener(n,t[n])}(document.body,m()._tqhl),m()._tqhl=function(e){var t={};for(var n in s)if(s.hasOwnProperty(n)){var r=_(n);e.addEventListener(n,r),t[n]=r}return t}(document.body)}))},v=function(){var e=m();e._tqs=new u(E),e._tqi=new u(E),g(),e._tq={setInteractiveHandler:function(t,n,r){return void 0===r&&(r=!1),e._tqi.setHandler(t,n,r)},setStartupHandler:function(t,n,r){void 0===r&&(r=!1),e._tqs.setHandler(t,n,r),D((function(){e._tqs.setupGc(),e._tqs.restart()}))}},D((function(){e._tqi.setupGc(),window._obs=new MutationObserver((function(e){var t,n,r,o;try{for(var a=(0,i.__values)(e),u=a.next();!u.done;u=a.next()){var s=u.value;try{for(var c=(r=void 0,(0,i.__values)(s.addedNodes)),_=c.next();!_.done;_=c.next()){var p=_.value;(p instanceof HTMLElement||p instanceof SVGElement)&&(l(p),d(p),f(p))}}catch(e){r={error:e}}finally{try{_&&!_.done&&(o=c.return)&&o.call(c)}finally{if(r)throw r.error}}}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}})),window._obs.observe(document,{subtree:!0,childList:!0,attributes:!0}),f(document)}))},A=function(){var e=m();m()._tq?(e._tqi=u.migrate(e._tqi,E),e._tqs=u.migrate(e._tqs,E),g()):v()},h=function(e){return function(){var t=m();if(!t["_"+e])throw new Error(e+" not initialized");return t["_"+e]}},C=h("tq"),T=h("tqi"),w=h("tqs")},26338:function(e,t,n){"use strict";n.d(t,{convertKludgesToAttaches:function(){return d},isUserPeer:function(){return f},isChatPeer:function(){return p},isMarusiaPeer:function(){return E},isPinnedSortId:function(){return m},isOnboardingFindFriendsLink:function(){return D}});var r=n(79573),i=n(40906),o=n(51976),a=n(61540),u=n(48743);function s(e,t){void 0===t&&(t=[]);var n=(0,r.__read)(e.split("_"),2);return[n[0],n[1],t]}function c(e,t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=0),i>50)return[[],e.length];for(var o=[],a="";n<e.length;){var u=e[n];if("id"===u)a=t[n];else if(","===u&&a)o.push(s(a)),a="";else if("("===u){var _=(0,r.__read)(c(e,t,n+1,i+1),2),l=_[0];n=_[1],o.push(s(a,l)),a=""}else if(")"===u)return""!==a&&o.push(s(a)),[o,n];n++}return a&&o.push(s(a)),[o,n]}var _={};function l(e){if(_[e])return _[e];for(var t=e?e.length:0,n=[],i=[],o="",a=0;a<t;a++){var u=e[a],s=u.charCodeAt(0);s>=48&&s<=57||"_"===u||"-"===u?o+=u:"("!==u&&")"!==u&&":"!==u&&","!==u||(""!==o&&(i.push(o),n.push("id"),o=""),i.push(u),n.push(u))}o.length>0&&(i.push(o),n.push("id"));var l=(0,r.__read)(c(n,i),1)[0];return Object.keys(_).length>300&&(_={}),_[e]=l,l}function d(e,t){var n=[];e.fwd_count?n.push({type:"mail",id:-t,object:{fwd_count:e.fwd_count}}):e.fwd&&n.push({type:"mail",id:-t,object:{fwd_count:l(e.fwd).length}});for(var r=1;e["attach"+r+"_type"];++r)switch(e["attach"+r+"_type"]){case"call":n.push({type:e["attach"+r+"_type"],id:e["attach"+r],initiatorId:(0,i.intval)(e["attach"+r+"_call_initiator_id"]),state:e["attach"+r+"_call_state"],duration:(0,i.intval)(e["attach"+r+"_call_duration"]),receiverId:(0,i.intval)(e["attach"+r+"_call_receiver_id"])});break;case"doc":if("audiomsg"===e["attach"+r+"_kind"]){var o=e.attachments?JSON.parse(e.attachments)[0]:{};n.push({type:e["attach"+r+"_type"],kind:"audio_message",id:e["attach"+r],audio_message:o.audio_message});break}default:n.push({type:e["attach"+r+"_type"],id:e["attach"+r],kind:e["attach"+r+"_kind"],productId:e["attach"+r+"_product_id"]})}return e.geo&&n.push({type:"geo",id:e.geo}),n}function f(e){return u.Ranges.isUserPeerTransitional(e)}function p(e){return u.Ranges.isChatOrChannelPeer(e)}function E(e){return-194070336===e}function m(e){return e>0&&(e|o.PINNED_CONVERSATION_BIT_MASK)===o.PINNED_CONVERSATION_BIT_MASK}function D(e){return new RegExp("(^(https?:\\/\\/)?([a-z0-9_\\-.]+\\.)?"+a.VK_SITE_REGEX_SOURCE_UNSAFE+")?\\/onboarding_find_friends").test(decodeURIComponent(e))}},11417:function(e,t,n){"use strict";n.d(t,{ColorSchemeMode:function(){return r},ColorSchemeName:function(){return i},ColorScheme:function(){return _},colorScheme:function(){return c}});var r,i,o,a=n(76567),u=n(61540),s=n(79957);!function(e){e.Light="light",e.Dark="dark",e.Auto="auto"}(r||(r={})),function(e){e.Dark="space_gray",e.Light="bright_light",e.WebDark="vkcom_dark",e.WebLight="vkcom_light"}(i||(i={})),function(e){e.Dark="#222222",e.Light="#ffffff"}(o||(o={}));var c,_=function(){function e(){this.currentMode="",this.subscribers=[],this.initSubscribers=[],this.isExecuted=!1,this.isModeSavingAllowed=!0,this.isSchemeSavingAllowed=!0}return e.prototype.init=function(t){var n=this;this.isExecuted||(this.schemesMap=t.schemesMap,this.setMode(t.mode),this.initSubscribers.forEach((function(e){e()})),(0,s.statlogsValueEvent)("web_dark_theme",this.getMode(),this.getScheme(),Number(this.isDarkScheme())),e.isSchemesAutoSwitchingSupported()&&(window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(function(e){n.currentMode===r.Auto&&n.setScheme(e.matches)})),this.isExecuted=!0))},e.prototype.setScheme=function(t){var n,r;e.isSchemesSupported()&&(this.applyScheme(document.body,t?i.Dark:i.Light),this.currentIsDark=t,null===(n=document.querySelector("meta[name=theme-color]"))||void 0===n||n.setAttribute("content",t?o.Dark:o.Light),null===(r=document.querySelector("meta[name=color-scheme]"))||void 0===r||r.setAttribute("content",t?"dark":"light"),this.isSchemeSavingAllowed&&(0,a.setCookie)("remixdark_color_scheme",Number(t),365),this.subscribers.forEach((function(e){e()})))},e.prototype.isDarkScheme=function(){return this.currentIsDark},e.prototype.getMode=function(){return this.currentMode},e.prototype.setMode=function(t){this.currentMode=t;var n=!1;switch(t){case r.Light:n=!1;break;case r.Dark:n=!0;break;case r.Auto:if(e.isSchemesAutoSwitchingSupported())n=window.matchMedia("(prefers-color-scheme: dark)").matches}this.setScheme(n),this.isModeSavingAllowed&&(0,a.setCookie)("remixcolor_scheme_mode",t,365)},e.prototype.getScheme=function(){return(0,u.isMvk)()?this.getMVKScheme():this.getWebScheme()},e.prototype.getMVKScheme=function(){return this.isDarkScheme()?i.Dark:i.Light},e.prototype.getWebScheme=function(){return this.isDarkScheme()?i.WebDark:i.WebLight},e.prototype.applyScheme=function(e,t){var n,r=(null===(n=this.schemesMap)||void 0===n?void 0:n[t])||t;e.setAttribute("scheme",r)},e.prototype.subscribe=function(e){var t=this;return this.subscribers.push(e),function(){t.subscribers=t.subscribers.filter((function(t){return e!==t}))}},e.prototype.onInit=function(e){var t=this;return this.initSubscribers.push(e),function(){t.initSubscribers=t.initSubscribers.filter((function(t){return e!==t}))}},e.isSchemesSupported=function(){return(!(0,u.isMvk)()||window.isNewMail)&&window.CSS&&CSS.supports&&CSS.supports("color","var(--custom-property)")},e.isSchemesAutoSwitchingSupported=function(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme)").matches},e}();c=window.colorScheme?window.colorScheme:new _,window.colorScheme=c,window.isSchemesSupported=_.isSchemesSupported.bind(null)},30104:function(e,t,n){"use strict";function r(e){var t=e.getBoundingClientRect();return{left:t.left,top:t.top}}function i(){var e=document.documentElement;return{width:e.clientWidth,height:e.clientHeight}}function o(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;return n&&r?{width:n,height:r}:{width:e.offsetWidth,height:e.offsetHeight}}n.d(t,{getElementOffset:function(){return r},getViewportSize:function(){return i},getElementSize:function(){return o},findChildOrSelf:function(){return a}});function a(e,t){return e.matches(t)?e:e.querySelector(t)}},78276:function(e,t,n){"use strict";n.d(t,{isStuckError:function(){return E},pruneRequestFromStuckErrors:function(){return m}});var r,i,o=n(79573),a=n(19331),u=n(43672),s=n(45611),c="mvk"===(null===(i=null===(r=window.vk)||void 0===r?void 0:r.statsMeta)||void 0===i?void 0:i.platform)&&(0,a.partConfigEnabled)("mute_mvk_err_peaks"),_=n(23229),l=10,d=c&&_(l),f=c&&_(l,5e3),p=function(e){var t=e.value,n=e.stacktrace,r=e.file,i=e.page;return[t,n.join(""),r,i].join("_")},E=function(e){if(!c||!f||!d)return!1;var t=p(e),n=(0,o.__read)([d.get(t)||0,f.get(t)||0],2),r=n[0],i=n[1];return d.set(t,++r),f.set(t,++i),i>=l||r>=50},m=c?function(e){var t,n,r=Date.now(),i="jsErrorLogs",a=(0,u.getWebStatsStringValue)(i,e);if(((null===(t=a.match(new RegExp("},{","g")))||void 0===t?void 0:t.length)||0)<l)return e;try{n=JSON.parse(a)}catch(e){(0,s.logProcessingTime)(1,"dedupe-fail")}if(!n)return e;var c=Object.values(n.reduce((function(e,t){var n,r=p(t),i=e[r]||[];return(0,o.__assign)((0,o.__assign)({},e),((n={})[r]=i.length<l?i.concat(t):i,n))}),{})),_=e.replace('"jsErrorLogs":'+a,'"jsErrorLogs":'+JSON.stringify([].concat.apply([],c))),d=Date.now()-r;return d>16&&(0,s.logProcessingTime)(d,"dedupe"),_}:function(e){return e}},45582:function(e,t,n){"use strict";function r(e,t){var n=e.exception&&e.exception.values[0]||{type:"Message",value:e.message+i(e),stacktrace:e.stacktrace||{frames:[]}};"Error"===n.type&&n.value.startsWith("Non-Error exception captured with keys:")&&(n.value+=i(e)),!n.value&&e.message&&(n.value=e.message);var r=n.type,u=n.value,s=n.stacktrace,c=window.location,_=c.origin,l=c.protocol,d=c.hostname,f=c.port,p=c.href;f=f?":"+f:"",_=_||l+"//"+d+f;var E=e.environment,m=e.transaction,D=e.breadcrumbs;return{id:e.event_id,module:E||t(m,s,u),type:r,value:u,file:m,breadcrumbs:o(D),stacktrace:a(s,_),page:p,release:window.vk.rv,time:window.vk.ts+Math.floor(((new Date).getTime()-window.vk.started)/1e3)}}function i(e){return e.extra&&e.extra.__serialized__?"\n"+JSON.stringify(e.extra.__serialized__).slice(0,500):""}function o(e){if(!e||!e.values||0===e.values.length)return"";var t=e.values[0],n=t.data,r=t.category,i=t.message;return"xhr"===r?n.method+":"+n.status_code+":"+n.url:"custom"===r?i+":"+JSON.stringify(n):""}function a(e,t){var n=[];return e.frames.forEach((function(e,r){0===r&&(e.filename.includes("raven_logger.js")||e.filename.includes("raven.js"))||n.push(e.filename.replace(t,"")+":"+e.lineno+":"+e.colno+":"+e.function)})),n}n.d(t,{getRavenXhrTransport:function(){return c},logError:function(){return d},logEvalError:function(){return f},prepareError:function(){return r}});var u=n(71516),s=n(78276),c=function(e){return function(t){var n=t.data,r=t.onSuccess,i=e(n);!(0,s.isStuckError)(i)&&(0,u.saveJsErrorLogs)(i),r()}},_=n(45185),l=n(9509);function d(e,t){if(void 0===t&&(t={}),null===window||void 0===window?void 0:window.Raven){var n=t.breadcrumb,r=t.environment;n&&window.Raven.captureBreadcrumb({message:n.message,category:l.customBreadcrumbCategory,data:n.data}),r?window.Raven.captureException(e,{environment:r}):window.Raven.captureException(e),function(e,t){var n=void 0===t?{}:t,r=n.breadcrumb,i=n.environment,o=n.hasDummyStacktrace,a=(0,_.getGlobalObject)();if(null==a?void 0:a.Sentry)o&&"object"==typeof e&&(null==e?void 0:e.stack)&&delete e.stack,a.Sentry.captureException(e,(function(e){var t,n,o=i||(null===(n=a.cur)||void 0===n?void 0:n.module);return o&&e.setTags(((t={module:o})[l.PROTECTED_MODULE_NAME_TAG]=!0,t)),r&&e.addBreadcrumb({message:r.message,category:l.customBreadcrumbCategory,data:r.data}),e}))}(e,t)}}function f(e,t){window.Raven&&(t&&t.length>2e3&&(t=t.slice(0,1e3)+"..."+t.slice(-1e3)),e.message+=": "+t,d(e))}},25781:function(e,t,n){"use strict";n.d(t,{isVKSiteHostnameSameSubdomainForNav:function(){return E},maybeStripVKSiteURLOriginAnySubdomain:function(){return m},toMaybeVKSiteURLRelativePath:function(){return f}});var r=n(61540);function i(){return location.hostname}var o=n(79573),a=new RegExp("^(([a-zA-Z0-9\\.\\_\\-]+)\\.)?("+r.VK_HOST_REGEX_UNSAFE.source+")$");function u(e){var t=e.match(a);if(t){var n=(0,o.__read)(t,4),r=n[2];return{baseDomain:n[3],subDomain:r}}}function s(e,t){return!(!r.VK_DOMAIN_REGEX.test(e)||!r.VK_DOMAIN_REGEX.test(t))&&function(e,t){var n,r,i=null===(n=u(e))||void 0===n?void 0:n.subDomain,o=null===(r=u(t))||void 0===r?void 0:r.subDomain;return i===o}(e,t)}function c(e,t){var n=d(e);return!!n&&(!(!t||!s(function(){var e=i(),t=u(e);if(!t)return e;return t.baseDomain}(),n.url.hostname))||s(i(),n.url.hostname))}function _(e){var t=function(e){var t,n=d(e);if(n)return null===(t=u(n.url.hostname))||void 0===t?void 0:t.baseDomain}(e);return void 0!==t&&r.VK_POSSIBLE_SITE_HOSTS.includes(t)}function l(e){return _(e)}function d(e){if(r.VK_URL_REGEX_STRICT.test(e))try{return{url:new URL(e)}}catch(e){console.error(e)}}function f(e,t){return p(e,"/",t)}function p(e,t,n){void 0===n&&(n={});var i=n.allowAnySubdomainAsCurrent,o=void 0!==i&&i,a=n.allowWebBaseDomainAsCurrent,u=void 0!==a&&a,s=o?function(e){return l(e)}(e):function(e,t){return!!l(e)&&c(e,t)}(e,u),_=function(e){return!/^https?:\/\//i.test(e)}(e)||s;if(!_)return e;var d=new RegExp("("+r.VK_ORIGIN_PREFIX_REGEX.source+")?/?");return e.replace(new RegExp(d),t)}function E(e){return function(e){return r.VK_DOMAIN_REGEX.test(e)}(e)&&s(i(),e)}function m(e){if(l(e))return f(e,{allowAnySubdomainAsCurrent:!0})}},9509:function(e,t,n){"use strict";n.d(t,{CustomSentryErrorTypes:function(){return r},moduleDetectionConfig:function(){return o},commonIgnoreErrors:function(){return a},PROTECTED_MODULE_NAME_TAG:function(){return u},customBreadcrumbCategory:function(){return s},anonymousName:function(){return c},nativeCode:function(){return _},extensionPrefixes:function(){return l},Error:function(){return d},TypeError:function(){return f},SyntaxError:function(){return p}});var r,i=n(56001);!function(e){e.ERROR_OF_EXTENSION="ErrorOfExtension",e.KNOWN_ISSUE="KnownIssue"}(r||(r={}));var o={some:{videoplayer:function(e){return null==e?void 0:e.some((function(e){return"dist/videoplayer_v2"===e.module}))}},includes:{im:"web/imn",messenger:"bundles/fastchat_reforged",audioplayer:"bundles/audioplayer",videoplayer:"dist/videoplayer",stories:"web/stories",notifier:"web/notifier",articles:"web/article",market:"web/market",calls:"web/calls"}},a=[/^AbortError:/],u="__protectedModuleName",s="custom",c=(0,i.getFunctionName)(void 0),_="[native code]",l=["chrome","moz","safari","safari-web"].map((function(e){return e+"-extension://"})),d="Error",f="TypeError",p="SyntaxError"},61540:function(e,t,n){"use strict";n.d(t,{VK_POSSIBLE_SITE_HOSTS:function(){return o},VK_SITE_REGEX_SOURCE_UNSAFE:function(){return u},VK_HOST_REGEX_UNSAFE:function(){return s},VK_DOMAIN_REGEX:function(){return _},VK_ORIGIN_REGEX:function(){return l},VK_ORIGIN_REGEX_STRICT:function(){return d},VK_ORIGIN_PREFIX_REGEX:function(){return f},VK_URL_REGEX:function(){return p},VK_URL_REGEX_STRICT:function(){return E},isMvk:function(){return m},getHostName:function(){return D},getVideoDuration:function(){return g},getMediaBlob:function(){return v},getBlobType:function(){return A},noop:function(){return h},getAverageRGB:function(){return C},loadVideo:function(){return T},getPhotoFromVideo:function(){return w},loadImage:function(){return S},loadImages:function(){return y},loadFontFacePromise:function(){return O}});var r=n(79573),i=n(40906),o=["vk.com","vk.ru",D()].filter((function(e,t,n){return n.indexOf(e)===t})),a=o.concat(["vkontakte.ru","vk.me","userapi.com"]),u=(0,i.escapeRE)(D()),s=new RegExp("("+a.map(i.escapeRE).join("|")+")"),c=(new RegExp(a.map(i.escapeRE).join("|")),new RegExp("^"+s.source+"$"),new RegExp("([a-zA-Z0-9\\.\\_\\-]+\\.)?"+s.source)),_=new RegExp("^"+c.source+"$"),l=new RegExp("^(https?:\\/\\/)?"+c.source+"$"),d=new RegExp("^(https?:\\/\\/)"+c.source+"$"),f=new RegExp("^(https?:\\/\\/)"+c.source),p=new RegExp("^(https?:\\/\\/)?"+c.source+"($|\\/(.*))"),E=new RegExp("^(https?:\\/\\/)"+c.source+"($|\\/(.*))");function m(){return!!window.isMVK}function D(){var e;return(null===(e=("undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).vk)||void 0===e?void 0:e.__domain)||"vk.com"}function g(e){return void 0===e&&(e=""),new Promise((function(t,n){var r=document.createElement("video");r.addEventListener("loadedmetadata",(function(){return t(r.duration)}),{once:!0}),r.addEventListener("error",n,{once:!0}),r.crossOrigin="anonymous",r.preload="metadata",r.src=e}))}function v(e){return new Promise((function(t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="blob",r.onload=function(){if(404===r.response.status)return n();t(r.response)},r.onerror=n,r.send()}))}function A(e){try{return e.type.split("/").splice(-1)[0]}catch(e){return null}}var h=function(){};function C(e,t,n,r,i){void 0===t&&(t=0),void 0===n&&(n=0);var o,a={r:0,g:0,b:0};r=r||e.canvas.width,i=i||e.canvas.height;try{o=e.getImageData(t,n,r,i)}catch(e){return a}for(var u=-4,s=0;(u+=20)<o.data.length;)++s,a.r+=o.data[u],a.g+=o.data[u+1],a.b+=o.data[u+2];return a.r=~~(a.r/s),a.g=~~(a.g/s),a.b=~~(a.b/s),a}function T(e){return new Promise((function(t,n){var r=document.createElement("video");r.muted=!0,r.autoplay=!0,r.addEventListener("canplay",(function(){r.pause(),t(r)}),{once:!0}),r.addEventListener("error",n,{once:!0}),r.crossOrigin="anonymous",r.src=e}))}function w(e,t){void 0===t&&(t=[0]);var n=[];return new Promise((function(r,i){var o=document.createElement("canvas"),a=o.getContext("2d"),u=e.videoWidth,s=e.videoHeight;o.width=u,o.height=s,function c(_){var l=e.currentTime;e.addEventListener("seeked",(function(){null==a||a.drawImage(e,0,0,u,s,0,0,u,s),e.currentTime=l,S(o.toDataURL("image/jpeg",1)).then((function(i){n.push(i),_>=t.length-1?(e.src="",r(n)):c(_+1)})).catch(i)}),{once:!0}),e.currentTime=-1===t[_]?e.duration:t[_]}(0)}))}function S(e){return new Promise((function(t,n){var r=new Image;r.crossOrigin=e.startsWith("data:")?null:"Anonymous",r.onerror=function(){return n(new Error("Failed to load image's URL: "+e))},r.onload=function(){return t(r)},r.src=e}))}var y=function(e){return new Promise((function(t){var n=e.map((function(e){return S(e)}));Promise.all(n).then((function(e){return t(e)})).catch((function(){}))}))};function b(e,t){var n,r,i,o,a,u,s,c,_={normal:"400",500:"500",600:"600",bold:"700"},l={tolerance:2,delay:100,glyphs:"",success:function(){},error:function(){},timeout:5e3,weight:"400",style:"normal"},d={display:"block","font-size":"48px","line-height":"normal","font-variant":"normal","white-space":"nowrap",position:"absolute",visibility:"hidden",top:"-9999px",left:"-9999px",width:"auto",height:"auto",margin:"0",padding:"0"};function f(e){var t=[];return each(e,(function(e,n){t.push(e+":"+n)})),t.join(";")}function p(e,t,n){return Math.abs(e.width-t.offsetWidth)>n||Math.abs(e.height-t.offsetHeight)>n}function E(){o||(utilsNode.appendChild(a),o=!0,i={sansSerif:{width:s.offsetWidth,height:s.offsetHeight},serif:{width:u.offsetWidth,height:u.offsetHeight}},browser.opera&&!browser.chrome?(s.style.fontFamily='"'+e+'", sans-serif',u.style.fontFamily='"'+e+'", serif'):(setStyle(s,"font-family",'"'+e+'", sans-serif'),setStyle(u,"font-family",'"'+e+'", serif'))),o&&i&&(p(i.sansSerif,s,t.tolerance)||p(i.serif,u,t.tolerance))?(re(a),t.success()):(new Date).getTime()-r.getTime()>t.timeout?(re(a),t.error()):!o&&"requestAnimationFrame"in window?window.requestAnimationFrame(E):window.setTimeout(E,t.delay)}for(var m in l)t.hasOwnProperty(m)||(t[m]=l[m]);d["font-weight"]=t.weight,d["font-style"]=t.style,!t.glyphs&&"fonts"in document?(t.timeout&&(n=setTimeout((function(){t.error()}),t.timeout)),function(n){each(null===document||void 0===document?void 0:document.fonts,(function(r){r.family.toLowerCase()===e.toLowerCase()&&(_[r.weight]||r.weight)===""+t.weight&&r.style===t.style&&r.load().then((function(){t.success(),clearTimeout(n)}))}))}(n)):(c="AxmTYklsjo190QW"+t.glyphs,r=new Date,a=ce("div"),s=ce("div",{innerHTML:c}),u=ce("div",{innerHTML:c}),s.setAttribute("style",f(extend({"font-family":"sans-serif"},d))),u.setAttribute("style",f(extend({"font-family":"serif"},d))),a.appendChild(s),a.appendChild(u),E())}function O(e,t){return new Promise((function(n,i){b(e,(0,r.__assign)((0,r.__assign)({},t),{glyphs:"",success:function(){var e=function(){n(),(null==t?void 0:t.success)&&t.success()};browser.safari?setTimeout(e,150):e()},error:function(){i(),(null==t?void 0:t.error)&&t.error()}}))}))}},22683:function(e,t,n){"use strict";n.d(t,{vkLocalStorage:function(){return _},vkSessionStorage:function(){return d}});var r,i=function(){function e(){var e=this;this.data={},this.getItem=function(t){return e.data.hasOwnProperty(t)?e.data[t]:null},this.keys=function(){return Object.keys(e.data)}}return e.prototype.setItem=function(e,t){this.data[e]=String(t)},e.prototype.removeItem=function(e){delete this.data[e]},e.prototype.clear=function(){this.data={}},Object.defineProperty(e.prototype,"length",{get:function(){return Object.keys(this.data).length},enumerable:!1,configurable:!0}),e.prototype.key=function(e){return Object.keys(this.data)[e]},e}(),o="vk-ls-dummy",a=Math.random().toString();function u(e){var t=!1;try{var n=window[e];n.setItem(o,a),t=a===n.getItem(o),n.removeItem(o)}catch(e){return!1}return t}function s(){return r||(r=u("localStorage")?window.localStorage:new i)}var c,_={setItem:function(e,t){return s().setItem(e,t)},getItem:function(e){return s().getItem(e)},removeItem:function(e){return s().removeItem(e)},clear:function(){return s().clear()},length:function(){return s().length},key:function(e){return s().key(e)},keys:function(){var e=s();return e instanceof i?e.keys():Object.keys(e)},getPrefixedKeys:function(e){return _.keys().filter((function(t){return t.startsWith(e)}))}};function l(){return c||(c=u("sessionStorage")?window.sessionStorage:new i)}var d={setItem:function(e,t){return l().setItem(e,t)},getItem:function(e){return l().getItem(e)},removeItem:function(e){return l().removeItem(e)},clear:function(){return l().clear()},length:function(){return l().length},key:function(e){return l().key(e)},keys:function(){var e=l();return e instanceof i?e.keys():Object.keys(e)},getPrefixedKeys:function(e){return d.keys().filter((function(t){return t.startsWith(e)}))}}},42030:function(e,t,n){"use strict";function r(e){void 0===e&&(e="");var t={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","\t":" ","\n":"\t","\r":"","\\":"&#092;","!":"&#33;","'":"&#39;",$:"&#036;"},n=new RegExp(Object.keys(t).join("|"),"g");return e.replace(n,(function(e){return t[e]||""})).replace(/&(?:amp;)*#0*(?:1[01]|9|32|160|173)(?:[^0-9]|$)/g," ").replace(/&(?:amp;)*#0*823[2-68];?/g," ").replace(/\xe2\x80[\xa8-\xad]/g," ").replace(/[\x00\x01\x02\x07\x08\x0b-\x1f]/g," ").replace(/&amp;#([0-9]+);/g,"&#$1;").replace(/\xe2\x80\x8e/g," ")}n.d(t,{cleanInputValue:function(){return r}})},71516:function(e,t,n){"use strict";n.d(t,{saveJsErrorLogs:function(){return r.saveJsErrorLogs},saveStatlogEvents:function(){return r.saveStatlogEvents},saveNetworkStats:function(){return r.saveNetworkStats},saveProductionStats:function(){return r.saveProductionStats}});var r=n(76957)},45611:function(e,t,n){"use strict";n.d(t,{MAX_BODY_SIZE:function(){return u},concatJSONS:function(){return c},appendStatsMeta:function(){return _},makeWebStatsRequest:function(){return l},logProcessingTime:function(){return d}});var r=n(79573),i=n(79957),o=n(78276),a=n(61540),u=1.8*Math.pow(10,6),s=function(e){return e.startsWith("{")&&e.endsWith("}")},c=function(e,t){return[e,t].every(s)?e.slice(0,-1)+","+t.substring(1):"{}"},_=function(e,t){var n=window.vk,i=n.id,o=n.statsMeta,a=o.st,u=o.platform,_=(0,r.__rest)(o,["st","platform"]);return c(JSON.stringify({id:i,st:a,platform:u,attempt:e,signTime:_.time,sign:_.hash}),s(t)?t:"{}")},l=function(e,t){return e=e||window.vk.wsTransport+"/web-stats/"+(window.vk.statsMeta.st?"s":"p"),new Promise((function(n,r){var i=new XMLHttpRequest;i.open("POST",e),e.includes("tau."+(0,a.getHostName)())&&(i.withCredentials=!0),i.onload=function(){return this.status>=200&&this.status<300?n(i.response):r({status:this.status,statusText:i.statusText})},i.onerror=function(){return r({status:this.status,statusText:i.statusText})},i.setRequestHeader("Content-Type","application/json;charset=UTF-8"),i.send((0,o.pruneRequestFromStuckErrors)("string"==typeof t?t:JSON.stringify(t)))}))};function d(e,t,n){(0,i.statlogsValueEvent)("web_stats_batching_time",e,window.vk.statsMeta.platform,t,n)}},76957:function(e,t,n){"use strict";n.d(t,{pullFromWebStats:function(){return O},saveJsErrorLogs:function(){return M},saveNetworkStats:function(){return R},saveProductionStats:function(){return N},saveStatlogEvents:function(){return P},saveStoryViewBaseStats:function(){return k},saveStoryViewStats:function(){return F},saveWebPerfStats:function(){return L}});var r,i=n(79573),o=n(43672),a=n(55695),u=n(19331),s=n(45611),c=6e4,_=12e4,l=1;function d(e){return!!(0,u.partConfigEnabled)("web_stats_send_on_events_limit")&&(1===l&&(0,o.getWebStatsItemsCount)(e)>300)}function f(e){var t=+new Date,n=(0,o.getLastSendTime)();0===n&&(n=t,(0,o.setLastSendTime)(n));var i,s=t-n,l=s/1e3,f=d(e);(0,a.logWebStatsEvent)("saveStats",{nowMs:t,lastTransferTimeMs:n,timePassed:l+"s",statsData:e}),(0,u.partConfigEnabled)("web_stats_debounce")?((0,o.serializeDataToLs)(e),i=function(e,t){return t?0:0===e||e>c?3e3:_}(s,f),window.clearTimeout(r),r=window.setTimeout((function(){return(0,o.writeLocked)((function(){var e=(0,o.fetchDataFromLs)().webStatsData,t=+new Date;E(e),(0,o.clearLsData)(),(0,o.setLastSendTime)(t)}))}),i)):s>c||f?(E(e),(0,o.clearLsData)(),(0,o.setLastSendTime)(t)):((0,o.serializeDataToLs)(e),window.setTimeout(p,_))}function p(){(0,o.writeLocked)((function(){var e=(0,o.fetchDataFromLs)(),t=e.webStatsData;e.isEmpty||f(t)}))}function E(e){(0,a.logWebStatsEvent)("send",e);var t=window.vk,n=t.id,r=t.wsTransport,u=t.statsMeta,c=r+(window.vk&&window.vk.statsMeta&&window.vk.statsMeta.st?"/web-stats/s":"/web-stats/p"),_=(0,i.__assign)((0,i.__assign)({},e),{id:n,st:u.st,platform:u.platform,signTime:u.time,sign:u.hash,attempt:l});(0,s.makeWebStatsRequest)(c,_).then((function(e){(0,a.logWebStatsEvent)("sendStats success",e),l=1})).catch((function(t){return l++,(0,o.writeLocked)((function(){(0,a.logWebStatsEvent)("sendStats try",l),f(e)})),(0,a.logWebStatsEvent)("sendStats error",t),!0})),(0,o.setLastSendTime)(+new Date)}var m,D=n(61540),g=n(78276),v=function(e){var t=Date.now(),n=function(e){return"{"+(null==e?void 0:e.map((function(e){var t=(0,i.__read)(e,2);return'"'+t[0]+'":'+t[1]})).join(","))+"}"},r=(0,i.__read)(Object.keys((0,o.getEmptyStatsData)()).reduce((function(t,n){var r=(0,o.getWebStatsStringValue)(n,e);return"[]"===r?t:(0,i.__spreadArray)((0,i.__spreadArray)([],(0,i.__read)(t),!1),[[n,r]],!1)}),[]).sort((function(e,t){var n=(0,i.__read)(e,2)[1];return(0,i.__read)(t,2)[1].length-n.length})).reduce((function(e,t){var r=(0,i.__read)(e,2),o=r[0],a=r[1],u=(0,i.__read)(t,2),c=u[0],_=u[1],l=[[c,_]];return _.length+n(o).length<s.MAX_BODY_SIZE?[o.concat(l),a]:[o,a.concat(l)]}),[[],[]]),2),a=r[0],u=r[1],c=n(a);if((0,s.logProcessingTime)(Date.now()-t,"chunk"),Date.now()-t<500&&u[0]&&c.length<.1*s.MAX_BODY_SIZE){var _=Date.now();try{var l=function(e,t){var n=(0,i.__read)(t,2),r=n[0],o=n[1],a='{"'+r+'":['+JSON.parse(o).reduce((function(t,n,r){return t.length<s.MAX_BODY_SIZE-e.length?t+(0===r?"":",")+JSON.stringify(n):t}),"")+"]}";return"{}"===e?a:(0,s.concatJSONS)(e,a)||e}(c,u.reverse()[0]);return(0,s.logProcessingTime)(Date.now()-_,"batch"),l}catch(e){return(0,s.logProcessingTime)(Date.now()-_,"batch-fail"),""}}return c},A=1e4,h=0,C=function(){return h*A},T=function(){return!(Date.now()-(0,o.getLastSendTime)()>45e3+C())},w=function(){return m=void 0},S=function(){!0!==m&&(clearTimeout(m),m=window.setTimeout((function(){var e=(0,o.getWebStatDataLs)();w(),e.length>o.emptyStatsDataLs.length&&y(e)}),Math.max(A,(0,o.getLastSendTime)()+45e3-Date.now()+C())))};function y(e,t){var n=e.length>=s.MAX_BODY_SIZE,r=(null==t?void 0:t.force)||n;return!r&&(m||T()||e.length<=o.emptyStatsDataLs.length)?((0,a.logWebStatsEvent)("WebStats delayed.",m),S()):(m=!0,function(e,t){var n=function(t){return setTimeout((function(){return e()}),t)};return(null==t?void 0:t.force)?n(0):window.requestIdleCallback((function(){return n(A)}),{timeout:5e3})}((function(){var e=(0,o.getWebStatDataLs)();if(r||!0===m&&!T()&&e.length>o.emptyStatsDataLs.length)return(0,o.setLastSendTime)(),function(e){var t=window.vk.wsTransport+"/web-stats/"+(window.vk.statsMeta.st?"s":"p"),n=e.length>s.MAX_BODY_SIZE,r=n?v(e):e,i=!1;if(!r)return w(),(0,o.clearLsData)();var a=new XMLHttpRequest;a.withCredentials=t.includes("tau."+(0,D.getHostName)()),a.onreadystatechange=function(){if(a.readyState===XMLHttpRequest.DONE){var t=Date.now();a.status<500&&(n&&200===a.status?Object.keys((0,o.getEmptyStatsData)()).forEach((function(e){return O(e,r)})):(0,o.clearLsData)(),h=0,i=!0),(n||400===a.status)&&(0,s.logProcessingTime)(Date.now()-t,(n?"prune":"clean")+(400===a.status?"-fail":""),(e.length>>>20)+"M "+(r.length>>>20)+"M"),w(),S()}},a.onerror=function(){return!i&&(0,o.clearLsData)()},a.open("POST",t,!0),a.setRequestHeader("Content-Type","application/json;charset=UTF-8"),a.send((0,g.pruneRequestFromStuckErrors)((0,s.appendStatsMeta)(++h,r)))}(e);clearTimeout(Number(m)),w(),S()}),(0,i.__assign)((0,i.__assign)({},t),{force:r})))}var b=n(22683),O=function(e,t){var n=(0,o.getWebStatsStringValue)(e,t);if("[]"!==n){var r=(0,o.getWebStatDataLs)().replace(n.slice(1,-1),"").replace(/\[\,/,"[");(0,o.writeLocked)((function(){return b.vkLocalStorage.setItem(o.lsDataKey,r)}))}},I=function(e,t,n,r){if((0,u.partConfigEnabled)("batchify_web_stats")){var i=function(e,t){var n=(0,o.getWebStatsStringValue)(e);return(0,o.getWebStatDataLs)().replace('"'+e+'":'+n,'"'+e+'":'+n.replace(/]$/,("[]"===n?"":",")+JSON.stringify(t)+"]"))}(t,n);(0,o.writeLocked)((function(){return b.vkLocalStorage.setItem(o.lsDataKey,i)})),y(i,r)}else(0,o.writeLocked)((function(){var e=(0,o.fetchDataFromLs)().webStatsData;e[t].push(n),f(e)}));(0,a.logWebStatsEvent)(e,n)},M=function(e){return I("saveJsErrorLogs","jsErrorLogs",e)},P=function(e){var t=e.name,n=e.value,r=e.keys,o=void 0===r?[]:r,a=(0,i.__spreadArray)([Math.round(Number(Date.now())/1e3),t,n],(0,i.__read)(o),!1);return(0,u.partConfigEnabled)("web_stats_transport_debugger")&&console.log("Data was transformed!"),I("saveStatlogEvents","statlogEvents",a)},N=function(e,t){return I("saveProductionStats","productionStats",e,t)},R=function(e){return I("saveNetworkStats","networkStats",e)},k=function(e){return I("saveStoryViewStats","storyViewStats",e)},F=function(e){return k(e)},L=function(e){return I("saveWebPerfStats","webPerfStats",e)}},55695:function(e,t,n){"use strict";n.d(t,{logWebStatsEvent:function(){return i}});var r=n(19331);function i(e,t){(0,r.partConfigEnabled)("web_stats_transport_debugger")&&console.log("[new transport debug] "+e,t)}},43672:function(e,t,n){"use strict";n.d(t,{lsDataKey:function(){return a},getEmptyStatsData:function(){return c},emptyStatsDataLs:function(){return _},writeLocked:function(){return l},getWebStatDataLs:function(){return d},serializeDataToLs:function(){return f},getWebStatsStringValue:function(){return p},fetchDataFromLs:function(){return E},clearLsData:function(){return m},setLastSendTime:function(){return D},getLastSendTime:function(){return g},getWebStatsItemsCount:function(){return v}});var r=n(22683),i=n(55695),o=(0,n(61540).isMvk)()?"mvk":"web",a="XHR_STATS_TRANSPORT_DATA_"+o,u="XHR_STATS_TRANSPORT_META_"+o,s="XHR_STATS_TRANSPORT_DATA_LOCK_"+o,c=function(){return{jsErrorLogs:[],statlogEvents:[],productionStats:[],storyViewStats:[],networkStats:[],customStats:[],webPerfStats:[]}},_=JSON.stringify(c());function l(e){if("locked"!==r.vkSessionStorage.getItem(s)){(0,i.logWebStatsEvent)("writeLocked","lock"),r.vkSessionStorage.setItem(s,"locked");try{e()}catch(e){}return(0,i.logWebStatsEvent)("writeLocked","free"),void r.vkSessionStorage.setItem(s,"free")}setTimeout((function(){return l(e)}),100)}var d=function(){return r.vkLocalStorage.getItem(a)||_},f=function(e){return r.vkLocalStorage.setItem(a,JSON.stringify(e))},p=function(e,t){var n;void 0===t&&(t=d());var r,i=Object.keys(c()).filter((function(t){return t!==e})).join("|"),o=(null===(n=null==t?void 0:t.match(new RegExp('"'+e+'":(\\[.*?\\])(?:,"('+i+')":\\[|}$)')))||void 0===n?void 0:n[1])||"";return(r=o).startsWith("[")&&r.endsWith("]")?o:"[]"};function E(){var e,t=!0;try{var n=d();if(!n)throw new Error("empty data");e=c();var r=JSON.parse(n);Object.keys(e).forEach((function(n){Array.isArray(r[n])&&(t=!1,e[n]=r[n])}))}catch(t){e=c()}return{webStatsData:e,isEmpty:t}}function m(e){e&&(0,i.logWebStatsEvent)("WebStats cleared. "+(e?"Reason: LS is broken.":""),e),l((function(){return r.vkLocalStorage.setItem(a,"")}))}function D(e){void 0===e&&(e=Number(new Date)),r.vkSessionStorage.setItem(u,e.toString())}function g(){return parseInt(""+(r.vkSessionStorage.getItem(u)||0))}function v(e){return Object.values(e).reduce((function(e,t){return e+=t.length}),0)}},49410:function(e,t,n){"use strict";n.d(t,{WEB_VITALS_RAND_ENABLED_FOR:function(){return s},NAV_TIME_RAND_ENABLED_FOR:function(){return c},WEB_VITALS_THROTTLE_FOR:function(){return _},NAV_TIME_THROTTLE_FOR:function(){return l},MAX_THROTTLE_PERIOD:function(){return d},IGNORED_MODULES:function(){return f},getWebVitalsTimeOf:function(){return p}});var r=n(79573),i=(0,n(61540).isMvk)(),o=Object.entries((0,r.__assign)({apps:.5,game:.5,mini_app:.5,audio:.2,board:.5,feed:i?.01:.005,friends:.3,groups_list:.3,photos:.3,video:.2,wall:.1},i?{activation:.1,article_webview:.1,group:.05,"i-oauth":.05,join:.25,like:.5,login:.2,mail:.02,menu:.05,notifications:.3,recommended:.3,search:.4}:{ads:.5,groups:.1,im:.025,public:.07})).reduce((function(e,t){var n,i,o=(0,r.__read)(t,2),a=o[0],u=o[1];return{RAND_ENABLED_OF:(0,r.__assign)((0,r.__assign)({},e.RAND_ENABLED_OF),(n={},n[a]=u,n)),THROTTLE_PERIOD_OF:(0,r.__assign)((0,r.__assign)({},e.THROTTLE_PERIOD_OF),(i={},i[a]=288e5,i))}}),{RAND_ENABLED_OF:{},THROTTLE_PERIOD_OF:{}}),a=o.RAND_ENABLED_OF,u=o.THROTTLE_PERIOD_OF,s=(0,r.__assign)((0,r.__assign)((0,r.__assign)({},a),i?{payments:.2}:{}),{pages:i?.02:.5,profile:i?.03:.01}),c=(0,r.__assign)((0,r.__assign)((0,r.__assign)({},a),i?{index:.05}:{groups_list:.15}),{audio:.15,bookmarks:.3,feed:.15,friends:.15,profile:.02,video:i?.01:.2}),_=(0,r.__assign)({},u),l=(0,r.__assign)({},u),d=Math.max.apply(Math,(0,r.__spreadArray)([],(0,r.__read)(Object.values(u)),!1)),f=["app","docs","wall_donut","unknown","invite","wall_archive","support","helpdesk","abuse","noSpam","sf"],p=function(e,t){var n="poor"===e;return"perfect"===e&&"CLS"!==t?16:{FID:n?300:100,LCP:n?4e3:2500,CLS:n?.25:.1,TTFB:n?600:200,FCP:n?3e3:1800}[t]}},74181:function(e,t,n){"use strict";n.d(t,{metricOnCoolDown:function(){return d},updateMetricTimestamp:function(){return f},pruneMetricTimestamps:function(){return p},shouldBeMeasured:function(){return E}});var r=n(22683),i=n(49410),o=n(19331),a=n(61540),u=n(49846),s=(0,a.isMvk)()?"MVK":"WEB",c="PERF_METRICS_TIMESTAMPS_"+s,_=u.navigationStat.getModule,l=function(){var e={};try{e=JSON.parse(r.vkLocalStorage.getItem(c)||"{}")}catch(e){}return e},d=function(e,t){var n,r=_();return((null===(n=l()[r])||void 0===n?void 0:n[t])||0)+e[r]>=Date.now()},f=function(e){var t=_(),n=Date.now(),i=l();i[t]||(i[t]={}),i[t][e]=n,i.updatedAt=n,r.vkLocalStorage.setItem(c,JSON.stringify(i))},p=function(){return window.requestIdleCallback((function(){var e,t,n=["WEB_VITALS_TIMESTAMPS_"+s,"NAV_DURATION_TIMESTAMPS_"+s],o=Number(null===(t=null===(e=r.vkLocalStorage.getItem(c))||void 0===e?void 0:e.match(/"updatedAt":([0-9]+)/))||void 0===t?void 0:t[1]);!isNaN(o)&&Date.now()>o+i.MAX_THROTTLE_PERIOD&&(r.vkLocalStorage.removeItem(c),n.forEach((function(e){return r.vkLocalStorage.removeItem(e)})))}),{timeout:5e3})},E=function(e){var t=_(),n=e[t]||1;return!i.IGNORED_MODULES.includes(t)&&(0,o.randEnabled)(n)}},49846:function(e,t,n){"use strict";n.d(t,{NavigationProductionStatEventTypes:function(){return r.NavigationProductionStatEventTypes},navigationStat:function(){return o}});var r=n(79654),i=new r.ProductionStatCollector,o=new r.NavigationStatCollector(i)},16426:function(e,t,n){"use strict";n.d(t,{ModuleNavigationStatMarks:function(){return s},ModuleNavigationStatCollector:function(){return c}});var r=n(62148),i=n(60847),o=n(49846),a=n(49410),u=n(74181),s={web2:{PERF_MARK:"__navmark",PERF_MEASURE:"__navmeasure"},mvk:{PERF_MARK:"__navmark_mvk",PERF_MEASURE:"__navmeasure_mvk"}},c=function(){function e(e){this.LS_ALREADY_PRUNED=!1,this.moduleNavigationStatCollector=e}return e.clearPerformanceMeasures=function(e){var t=s[e],n=t.PERF_MARK,r=t.PERF_MEASURE;"performance"in window&&(window.performance.clearMeasures(r),window.performance.clearMarks(n))},e.prototype.logEvent=function(){var t,n,c,_,l,d="mvk"===(null===(c=null===(n=window.vk)||void 0===n?void 0:n.statsMeta)||void 0===c?void 0:c.platform)?"mvk":"web2",f=i.default.getConnectionEffectiveType();try{var p=s[d],E=p.PERF_MARK,m=p.PERF_MEASURE;window.performance.measure(m,E),l=null===(_=window.performance.getEntriesByType("measure").find((function(e){return e.name===m})))||void 0===_?void 0:_.duration}catch(e){}if(e.clearPerformanceMeasures(d),l&&(0,u.shouldBeMeasured)(a.NAV_TIME_RAND_ENABLED_FOR)&&!(0,u.metricOnCoolDown)(a.NAV_TIME_THROTTLE_FOR,e.PERF_METRIC_NAME))return(0,u.updateMetricTimestamp)(e.PERF_METRIC_NAME),this.moduleNavigationStatCollector.logEvent(((t={network_type:"UNKNOWN",network_effective_type:f,type:r.NetworkStatEventTypes.TYPE_MODULE_NAVIGATION_STATS_ITEM})[r.NetworkStatEventTypes.TYPE_MODULE_NAVIGATION_STATS_ITEM]={module:o.navigationStat.getModule(),value:Math.round(l).toString()},t));this.LS_ALREADY_PRUNED||(this.LS_ALREADY_PRUNED=!0,(0,u.pruneMetricTimestamps)())},e.PERF_METRIC_NAME="NAV",e}()},62148:function(e,t,n){"use strict";var r,i;n.d(t,{NetworkStatEventTypes:function(){return r},AudioNetworkType:function(){return i}}),function(e){e.TYPE_NETWORK_AUDIO_ITEM="type_network_audio_item",e.TYPE_MODULE_NAVIGATION_STATS_ITEM="type_module_navigation_stats_item"}(r||(r={})),function(e){e.FRAGMENT_LOADED="fragment_loaded",e.FRAGMENT_STALLED="fragment_stalled"}(i||(i={}))},79654:function(e,t,n){"use strict";n.d(t,{ActionStatCollector:function(){return w},ClickStatCollector:function(){return S},EventScreens:function(){return r.EventScreens},NavigationProductionStatEventTypes:function(){return r.NavigationProductionStatEventTypes},NavigationStatCollector:function(){return A},ProductionStatCollector:function(){return T},RegistrationFieldItemNames:function(){return r.RegistrationFieldItemNames},RegistrationItemEventTypes:function(){return r.RegistrationItemEventTypes},RegistrationItemStatCollector:function(){return b},ViewStatCollector:function(){return y},adMiniAppsEventItemStat:function(){return P},bridgeEventItemStat:function(){return M},easterEggsItemStat:function(){return I},marketingTransitionItemStat:function(){return O},profileActionButtonCollector:function(){return R},vkAppsActionMenuItemStat:function(){return N}});var r=n(40517),i=n(76567),o=function(){function e(){this.productStatCollector=new T,this.actionStatCollector=new w(this.productStatCollector)}return e.prototype.logEvent=function(e,t,n,o){var a;void 0===o&&(o="");var u={campaign:e,source:n,event:t,unauth_id:(0,i.getCookie)("remixstid")};o&&(u.url=o);var s=((a={type:r.ActionProductionStatEventTypes.TYPE_MARKETING_TRANSITION_ITEM})[r.ActionProductionStatEventTypes.TYPE_MARKETING_TRANSITION_ITEM]=u,a);this.actionStatCollector.logEvent(s)},e}(),a=function(){function e(){this.productStatCollector=new T,this.actionStatCollector=new w(this.productStatCollector)}return e.prototype.logEvent=function(e,t,n,i){var o,a={webview_url:e,mini_app_id:t,event:n,error:i},u=((o={type:r.ActionProductionStatEventTypes.TYPE_BRIDGE_EVENT_ITEM})[r.ActionProductionStatEventTypes.TYPE_BRIDGE_EVENT_ITEM]=a,o);this.actionStatCollector.logEvent(u)},e}(),u=function(){function e(){this.productStatCollector=new T,this.actionStatCollector=new w(this.productStatCollector)}return e.prototype.logEvent=function(e,t,n,i){var o,a={egg_id:e,egg_event_id:t,position_id:n,event_type:i},u=((o={type:r.ActionProductionStatEventTypes.TYPE_EASTER_EGGS_ITEM})[r.ActionProductionStatEventTypes.TYPE_EASTER_EGGS_ITEM]=a,o);this.actionStatCollector.logEvent(u)},e}(),s=function(){function e(){this.productStatCollector=new T,this.clickStatCollector=new S(this.productStatCollector)}return e.prototype.logEvent=function(e,t,n){var i,o={type:n},a=((i={type:r.ClickProductionStatEventTypes.TYPE_MINI_APP_ITEM})[r.ClickProductionStatEventTypes.TYPE_MINI_APP_ITEM]=o,i),u={type:t,id:e};this.clickStatCollector.logEvent(a,u)},e}(),c=n(79573),_=function(){function e(){this.productStatCollector=new T,this.viewStatCollector=new y(this.productStatCollector)}return e.prototype.logEvent=function(e,t,n,i){var o;void 0===n&&(n=""),void 0===i&&(i="");var a=(0,c.__assign)((0,c.__assign)({},e),t),u=((o={type:r.ViewProductionStatEventTypes.TYPE_MINI_APPS_VIEW_ITEM})[r.ViewProductionStatEventTypes.TYPE_MINI_APPS_VIEW_ITEM]=a,o.start_view=n,o.end_view=i,o);this.viewStatCollector.logEvent(u,e)},e}(),l=function(){function e(){this.lastNavEventId=0,this.productionStatCollector=new T}return e.prototype.logEvent=function(e,t){var n,i,o=this.productionStatCollector.getBaseEvent(),a=(0,c.__assign)((0,c.__assign)({},o),((n={screen:"main",prev_nav_id:this.lastNavEventId,prev_event_id:o.prev_id||0,type:r.ProductionStatEventTypes.TYPE_ACTION})[r.ProductionStatEventTypes.TYPE_ACTION]=((i={type:r.ActionProductionStatEventTypes.TYPE_VK_CONNECT_NAVIGATION_ITEM})[r.ActionProductionStatEventTypes.TYPE_VK_CONNECT_NAVIGATION_ITEM]=e,i),n));this.lastNavEventId=a.id,this.productionStatCollector.logEvent(a,t)},e.prototype.logServiceNavigationOpen=function(e){this.logEvent({event_type:r.IVkConnectNavigationItemEventType.SERVICE_NAVIGATION_OPEN,fields:e})},e.prototype.logServiceNavigationClose=function(e){this.logEvent({event_type:r.IVkConnectNavigationItemEventType.SERVICE_NAVIGATION_CLOSE,fields:e})},e.prototype.logServiceNavigationClick=function(e,t,n){this.logEvent({event_type:r.IVkConnectNavigationItemEventType.SERVICE_NAVIGATION_CLICK,fields:[{name:e,str_value:t,int_value:n}]})},e.prototype.logAccountActionsOpen=function(t){var n={event_type:r.IVkConnectNavigationItemEventType.POPUP_OPEN};e.addFlowTypeIfFeatureExists(n,t),this.logEvent(n)},e.prototype.logAccountActionsClose=function(t){var n={event_type:r.IVkConnectNavigationItemEventType.POPUP_CLOSE};e.addFlowTypeIfFeatureExists(n,t),this.logEvent(n)},e.prototype.logAccountActionsEnterLk=function(t,n){void 0===t&&(t="account_actions");var i={event_type:r.IVkConnectNavigationItemEventType.CLICK_ENTER_LK,flow_service:t};e.addFlowTypeIfFeatureExists(i,n),this.logEvent(i)},e.prototype.logAccountActionsVkPay=function(e){void 0===e&&(e="account_actions"),this.logEvent({event_type:r.IVkConnectNavigationItemEventType.CLICK_VK_PAY,flow_service:e})},e.prototype.logAccountActionsVkCombo=function(e){void 0===e&&(e="account_actions"),this.logEvent({event_type:r.IVkConnectNavigationItemEventType.CLICK_VK_COMBO,flow_service:e})},e.addFlowTypeIfFeatureExists=function(e,t){t&&Object.assign(e,{flow_type:t})},e}(),d=function(){function e(){this.productStatCollector=new T,this.actionStatCollector=new w(this.productStatCollector)}return e.prototype.logEvent=function(e,t){var n,i={mini_app_id:e,event:t},o=((n={type:r.ActionProductionStatEventTypes.TYPE_AD_MINI_APPS_EVENT_ITEM})[r.ActionProductionStatEventTypes.TYPE_AD_MINI_APPS_EVENT_ITEM]=i,n);this.actionStatCollector.logEvent(o)},e}(),f=function(){function e(){this.productStatCollector=new T,this.actionStatCollector=new w(this.productStatCollector)}return e.prototype.logEvent=function(e,t){var n,i={app_id:e,event_name:t},o=((n={type:r.ActionProductionStatEventTypes.TYPE_GAMES_JS_SDK_ITEM})[r.ActionProductionStatEventTypes.TYPE_GAMES_JS_SDK_ITEM]=i,n);this.actionStatCollector.logEvent(o)},e}(),p=function(){function e(){this.productionStatCollector=new T,this.actionStatCollector=new w(this.productionStatCollector),this.navigationStatCollector=new A(this.productionStatCollector)}return e.prototype.sendNavEvent=function(e){var t,n=((t={type:r.NavigationProductionStatEventTypes.TYPE_SERVICES_MAP_NAVGO,screen:"uslugi",subtype:r.NavigationProductionStatEventTypes.GO})[r.NavigationProductionStatEventTypes.TYPE_SERVICES_MAP_NAVGO]=e,t);this.navigationStatCollector.logEvent(n)},e.prototype.sendActionEvent=function(e){var t,n=((t={type:r.ActionProductionStatEventTypes.TYPE_SERVICES_MAP_ITEM})[r.ActionProductionStatEventTypes.TYPE_SERVICES_MAP_ITEM]=e,t);this.actionStatCollector.logEvent(n)},e}(),E=function(){function e(){this.productStatCollector=new T,this.clickStatCollector=new S(this.productStatCollector)}return e.prototype.logEvent=function(e,t){var n,i={type:e},o=((n={type:r.ClickProductionStatEventTypes.TYPE_PROFILE_ACTION_BUTTON_ITEM})[r.ClickProductionStatEventTypes.TYPE_PROFILE_ACTION_BUTTON_ITEM]=i,n);this.clickStatCollector.logEvent(o,{id:t,type:r.EventItemType.MINI_APP})},e}(),m=n(45582),D=n(19331),g=n(22683),v="STATS_NAVIGATION_SCREEN",A=function(){function e(e){this.ProductionStatCollector=e,this.tabId=this.ProductionStatCollector.getIntId()%128}return e.prototype.logEvent=function(e){var t,n=(0,c.__assign)((0,c.__assign)({},this.ProductionStatCollector.getBaseEvent()),((t={type:r.ProductionStatEventTypes.TYPE_NAVGO})[r.ProductionStatEventTypes.TYPE_NAVGO]=e,t));return this.ProductionStatCollector.logEvent(n),{statEvent:n}},e.prototype.getEventTabOpen=function(e){return{subtype:r.NavigationProductionStatEventTypes.TAB_OPEN,tab_id:this.tabId,screen:e}},e.prototype.getEventMove=function(e,t){var n,i,o=this.lastStatEvents,a=this.lastNavEvents;return o&&a?(a.subtype===r.NavigationProductionStatEventTypes.TAB_OPEN?n=a.screen:(n=a.screen_to,i=a.screen),{prev_navgo_id:o.id,subtype:t,screen:n,screen_to:e,screen_prev:i,prev_navgo_timestamp:o.timestamp,tab_id:this.tabId}):((0,m.logError)(new Error("NavigationStatCollector: previous event not found.")),null)},e.prototype.addStatEvent=function(e,t){if(void 0===t&&(t=r.NavigationProductionStatEventTypes.GO),(0,D.partConfigEnabled)("navigation_timespent")){var n;if(t===r.NavigationProductionStatEventTypes.TAB_OPEN)n=this.getEventTabOpen(e);else{var i=this.getEventMove(e,t);if(!i)return;!function(e){g.vkSessionStorage.setItem(v,e)}(i.screen),n=i}var o=this.logEvent(n).statEvent;this.lastStatEvents=o,this.lastNavEvents=n}},e.prototype.getModule=function(){var e,t;return null!==(t=null===(e=window.cur)||void 0===e?void 0:e.module)&&void 0!==t?t:"unknown"},e}(),h=n(22463),C=n(71516),T=function(){function e(){this.DEBUG=!1}return e.prototype.getCurrentTime=function(e){void 0===e&&(e=!0);var t=Date.now().toString(10);return e?t+"000":t},e.prototype.getIntId=function(){return Math.floor(Math.random()*e.MAX_INT32)},e.prototype.logEvent=function(e,t){this.DEBUG&&(0,h.log)(e),e.type&&e[e.type]?((0,C.saveProductionStats)(e,t),this.lastEvent=e):(0,m.logError)(new Error("ProductionStatCollector: invalid event."))},e.prototype.getLastEvent=function(){return this.lastEvent},e.prototype.getBaseEvent=function(){var e;return{id:this.getIntId(),prev_id:null===(e=this.lastEvent)||void 0===e?void 0:e.id,timestamp:this.getCurrentTime(),url:window.location.href}},e.MAX_INT32=2147483647,e}(),w=function(){function e(e){this.productionStatCollector=e}return e.prototype.logEvent=function(e,t){var n,i=(0,c.__assign)((0,c.__assign)({},this.productionStatCollector.getBaseEvent()),((n={type:r.ProductionStatEventTypes.TYPE_ACTION})[r.ProductionStatEventTypes.TYPE_ACTION]=e,n));this.productionStatCollector.logEvent(i,t)},e}(),S=function(){function e(e){this.productionStatCollector=e}return e.prototype.logEvent=function(e,t){var n,i=(0,c.__assign)((0,c.__assign)({},this.productionStatCollector.getBaseEvent()),((n={type:r.ProductionStatEventTypes.TYPE_CLICK})[r.ProductionStatEventTypes.TYPE_CLICK]=(0,c.__assign)({item:t},e),n));this.productionStatCollector.logEvent(i)},e}(),y=function(){function e(e){this.productionStatCollector=e}return e.prototype.logEvent=function(e,t){var n,i=(0,c.__assign)((0,c.__assign)({},this.productionStatCollector.getBaseEvent()),((n={type:r.ProductionStatEventTypes.TYPE_VIEW})[r.ProductionStatEventTypes.TYPE_VIEW]=(0,c.__assign)({item:t},e),n));this.productionStatCollector.logEvent(i)},e}(),b=function(){function e(e){this.actionStatCollector=e,this.fields={}}return e.prototype.logFieldInteraction=function(e,t,n){void 0===n&&(n=!1),[r.RegistrationFieldItemNames.PASSWORD,r.RegistrationFieldItemNames.SMS_CODE,r.RegistrationFieldItemNames.RULES_ACCEPT].includes(e)&&(t=t?"1":"0");var i=n?"0":this.actionStatCollector.productionStatCollector.getCurrentTime(!1),o=this.fields[e];o?(o.value=t,o.end_interaction_time=i):this.fields[e]={name:e,value:t,start_interaction_time:i,end_interaction_time:i}},e.prototype.getFieldInteractions=function(){return Object.values(this.fields)},e.prototype.resetFieldInteractions=function(){var e,t;try{for(var n=(0,c.__values)(Object.getOwnPropertyNames(this.fields)),r=n.next();!r.done;r=n.next()){var i=r.value;delete this.fields[i]}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},e.prototype.logEvent=function(e,t,n,o){var a,u;if((0,D.partConfigEnabled)("registration_item_stat")){var s={event_type:e,screen:t,unauth_id:null!==(u=(0,i.getCookie)("remixstlid"))&&void 0!==u?u:(0,i.getCookie)("remixstid"),sid:(0,i.getCookie)("remixnreg_sid")};[r.RegistrationItemEventTypes.SCREEN_PROCEED,r.RegistrationItemEventTypes.SCREEN_SKIP,r.RegistrationItemEventTypes.SCREEN_RETURN,r.RegistrationItemEventTypes.INCORRECT_SMS_CODE].includes(e)&&(s.screen_to=n,s.fields=this.getFieldInteractions(),this.resetFieldInteractions()),e!==r.RegistrationItemEventTypes.SELECT_COUNTRY_DONE&&e!==r.RegistrationItemEventTypes.PROCEED_OTHER_COUNTRY_CODE||!this.fields[r.RegistrationFieldItemNames.SELECT_COUNTRY_NAME]||(s.fields=this.getFieldInteractions().filter((function(e){return e.name===r.RegistrationFieldItemNames.SELECT_COUNTRY_NAME})),delete this.fields[r.RegistrationFieldItemNames.SELECT_COUNTRY_NAME]);var c=((a={type:r.ActionProductionStatEventTypes.TYPE_REGISTRATION_ITEM})[r.ActionProductionStatEventTypes.TYPE_REGISTRATION_ITEM]=s,a);this.actionStatCollector.logEvent(c,o)}},e}(),O=new o,I=new u,M=new a,P=new d,N=new s,R=(new _,new l,new f,new p,new E)},40517:function(e,t,n){"use strict";var r,i,o,a,u,s,c,_,l,d,f,p,E,m,D,g,v,A,h,C,T,w,S,y,b,O;n.d(t,{EventScreens:function(){return r},ProductionStatEventTypes:function(){return o},NavigationProductionStatEventTypes:function(){return a},YoulaEventTypes:function(){return u},ActionProductionStatEventTypes:function(){return s},ClickProductionStatEventTypes:function(){return c},ViewProductionStatEventTypes:function(){return _},MarketEventTypes:function(){return d},EventItemType:function(){return p},RegistrationItemEventTypes:function(){return m},RegistrationFieldItemNames:function(){return D},MarketingTransitionItemCampaignType:function(){return g},MarketingTransitionItemEventType:function(){return v},MarketingTransitionItemSourceType:function(){return A},VkAppActionMenuActionType:function(){return C},IEasterEggsItemEventType:function(){return S},IVkConnectNavigationItemEventType:function(){return y},GamesPromoBannerEventType:function(){return b},ProfileActionButtonEventType:function(){return O}}),function(e){e.NOWHERE="nowhere",e.OTHER="other",e.START="start",e.START_BOX="start_box",e.START_PROCEED_AS="start_proceed_as",e.REGISTRATION_COMPLETE="registration_complete",e.REGISTRATION_COUNTRY="registration_country",e.REGISTRATION_PHONE="registration_phone",e.REGISTRATION_PHONE_VERIFY="registration_phone_verify",e.REGISTRATION_PASSWORD="registration_password",e.REGISTRATION_EDUCATION="registration_education",e.REGISTRATION_EMAIL="registration_email",e.REGISTRATION_EMAIL_EXPLANATION="registration_email_explanation",e.REGISTRATION_NAME="registration_name",e.REGISTRATION_INVITE_CONFIRM="registration_invite_confirm",e.REGISTRATION_LIST_FRIENDS_FACEBOOK="registration_list_friends_facebook",e.PHONE_2FA_VERIFY="phone_2fa_verify",e.OAUTH_FB="oauth_fb",e.FACEBOOK_REGISTRATION_FAILED="facebook_registration_failed"}(r||(r={})),function(e){e.REGISTERED_VIA_FB="1"}(i||(i={})),function(e){e.TYPE_NAVGO="type_navgo",e.TYPE_ACTION="type_action",e.TYPE_CLICK="type_click",e.TYPE_VIEW="type_view"}(o||(o={})),function(e){e.GO="go",e.BACK="back",e.TAB_OPEN="tab_open"}(a||(a={})),function(e){e.TYPE_DONUT_DESCRIPTION_NAV_ITEM="type_donut_description_nav_item",e.TYPE_MARKET_NAVGO="type_market_navgo",e.TYPE_YOULA_SNIPPET_NAVGO="type_youla_snippet_navgo",e.TYPE_STUDIO_NAVGO="type_studio_navgo",e.TYPE_SERVICES_MAP_NAVGO="type_services_map_navgo",e.TYPE_MARUSIA_NAVGO="type_marusia_navgo"}(a||(a={})),function(e){e.TYPE_YOULA_SNIPPET_ITEM="type_youla_snippet_item",e.TYPE_YOULA_TRANSITION_TO_ITEM="type_youla_transition_to_item",e.TYPE_YOULA_IM="type_youla_im"}(u||(u={})),function(e){e.TYPE_REGISTRATION_ITEM="type_registration_item",e.TYPE_MARKETING_TRANSITION_ITEM="type_marketing_transition_item",e.TYPE_DONUT_PAYMENT_ITEM="type_donut_payment_item",e.TYPE_CALL_ITEM="type_voip_call_item",e.TYPE_BRIDGE_EVENT_ITEM="type_bridge_event_item",e.TYPE_AD_MINI_APPS_EVENT_ITEM="type_ad_mini_apps_event_item",e.TYPE_EASTER_EGGS_ITEM="type_easter_eggs_item",e.TYPE_VK_CONNECT_NAVIGATION_ITEM="type_vk_connect_navigation_item",e.TYPE_GAMES_JS_SDK_ITEM="type_games_js_sdk_item",e.TYPE_SERVICES_MAP_ITEM="type_services_map_item"}(s||(s={})),function(e){e.TYPE_MARKET_CLICK="type_market_click",e.TYPE_WORKI_CLICK="type_worki_click",e.TYPE_CATALOG_BANNER_ITEM="type_catalog_banner_item",e.TYPE_MINI_APP_ITEM="type_mini_app_item",e.TYPE_MESSAGING_CONTACT_RECOMMENDATIONS_ITEM="type_messaging_contact_recommendations_item",e.TYPE_STUDIO_PERIOD_SELECT="type_studio_period_select",e.TYPE_QUESTION_ITEM="type_question_item",e.TYPE_PROFILE_ACTION_BUTTON_ITEM="type_profile_action_button_item"}(c||(c={})),function(e){e.TYPE_CATALOG_BANNER_ITEM="type_catalog_banner_item",e.TYPE_MARKET_VIEW="type_market_view",e.TYPE_MINI_APPS_VIEW_ITEM="type_mini_app_view_item"}(_||(_={})),function(e){e.MARKETPLACE="marketplace",e.MARKETPLACE_BLOCK="marketplace_block",e.MARKETPLACE_SEARCH="marketplace_search"}(l||(l={})),function(e){e.TYPE_MARKET_ORDERS_ITEM="type_market_orders_item",e.TYPE_MARKET_CARTS_ITEM="type_market_carts_item",e.TYPE_MARKET_GOODS_ITEM="type_market_item",e.TYPE_MARKET_MARKETPLACE_ITEM="type_market_marketplace_item",e.TYPE_MARKET_ADD_ITEM_TO_BOOKMARKS="type_market_add_item_to_bookmarks"}(d||(d={})),function(e){e.CATALOG_PROMO_BANNER_VIEWED="catalog_promo_banner_viewed"}(f||(f={})),function(e){e.ARTICLE="article",e.GROUP="group",e.PHOTO="photo",e.POST="post",e.STORY="story",e.USER="user",e.BROWSER="browser",e.NARRATIVE="narrative",e.MINI_APP="mini_app",e.GAME="game",e.VIDEO="video",e.MARKET_ITEM="market_item",e.MARKET_ITEM_ALBUM="market_item_album",e.MARKET_ORDER="market_order",e.CATALOG_BANNER="catalog_banner",e.AUDIO_FULLSCREEN_BANNER="audio_fullscreen_banner",e.WORKI_SNIPPET="worki_snippet",e.MINI_APPS_CATALOG_BANNER_VIEWED="catalog_promo_banner_viewed",e.MINI_APPS_CATALOG_BANNER="catalog_promo_banner",e.TYPE_MESSAGING_CONTACT_RECOMMENDATIONS_ITEM="type_messaging_contact_recommendations_item",e.STUDIO="studio",e.OPEN_CATALOG_ECO_MENU="open_catalog_eco_menu",e.QUESTION="question"}(p||(p={})),function(e){e.SWITCH_ITEM_VARIANT_1="switch_item_variant_1",e.SWITCH_ITEM_VARIANT_2="switch_item_variant_2",e.OPEN_WIKI="open_wiki"}(E||(E={})),function(e){e.SCREEN_PROCEED="screen_proceed",e.SCREEN_SKIP="screen_skip",e.SCREEN_RETURN="screen_return",e.COMMON_SERVER_ERROR="common_server_error",e.RESEND_SMS_CODE="resend_sms_code",e.RESEND_SMS_CODE_FAILED="resend_sms_code_failed",e.INCORRECT_SMS_CODE="incorrect_sms_code",e.INCORRECT_PASSWORD="incorrect_password",e.INCORRECT_NAME="incorrect_name",e.INCORRECT_CAPTCHA="incorrect_captcha",e.INCORRECT_PHONE_NUMBER="incorrect_phone_number",e.INCORRECT_BDAY="incorrect_bday",e.INCORRECT_SEX="incorrect_sex",e.INCORRECT_EMAIL="incorrect_email",e.EXISTING_EMAIL="existing_email",e.INCORRECT_EDUCATION="incorrect_education",e.SUCCESS_2FA="success_2fa",e.LOGIN_TAP="login_tap",e.PASSWORD_TAP="passw_tap",e.START_REG_TAP="start_reg_tap",e.FIRST_COUNTRY="first_country",e.FIRST_EDUCATION="first_education",e.FIRST_EMAIL="first_email",e.FIRST_FRIEND_ASK="first_friend_ask",e.SELECT_COUNTRY="select_country",e.SELECT_COUNTRY_DONE="select_country_done",e.INPUT_NUMBER_INTERACTION="input_number_interaction",e.INPUT_CODE_INTERACTION="input_code_interaction",e.PROCEED_OTHER_COUNTRY_CODE="proceed_other_country_code",e.INPUT_PHONE="input_phone",e.INPUT_EMAIL="input_email"}(m||(m={})),function(e){e.PHONE_COUNTRY="phone_country",e.PHONE_NUMBER="phone_number",e.COUNTRY="country",e.CITY="city",e.EMAIL="email",e.UNIVERSITY="university",e.FACULTY="faculty",e.SCHOOL="school",e.CHAIR="chair",e.YEAR_FROM="year_from",e.YEAR_TO="year_to",e.CLASS="class",e.EDU_FORM="edu_form",e.EDU_STATUS="edu_status",e.GRADUATION="graduation",e.SPECIALIZATION="specialization",e.RULES_ACCEPT="rules_accept",e.SMS_CODE="sms_code",e.FIRST_NAME="first_name",e.LAST_NAME="last_name",e.SEX="sex",e.BDAY="bday",e.PASSWORD="password",e.FACEBOOK_REGISTRATION="facebook_registration",e.FRIEND_ASK="friend_ask",e.VERIFICATION_TYPE="verification_type",e.SELECT_COUNTRY_NAME="select_country_name"}(D||(D={})),function(e){e.UNAUTH_BOTTOM_BANNER="unauth_bottom_banner",e.UNAUTH_ACTION_BOX="unauth_action_box"}(g||(g={})),function(e){e.OPEN="open",e.CLOSE="close",e.CLICK_SIGN_UP="click_sign_up",e.CLICK_SIGN_IN="click_sign_in",e.CLICK_OPEN_IN_APP="click_open_in_app"}(v||(v={})),function(e){e.LIKE="like",e.SHARE="share",e.MORE="more"}(A||(A={})),function(e){e.INIT="games_js_sdk_init"}(h||(h={})),function(e){e.ACTION_MENU_SHARE="action_menu_share",e.ACTION_MENU_ADD_TO_FAVOURITES="action_menu_add_to_favourites",e.ACTION_MENU_REMOVE_FROM_FAVOURITES="action_menu_remove_from_favourites",e.ACTION_MENU_ENABLE_NOTIFICATIONS="action_menu_enable_notifications",e.ACTION_MENU_DISABLE_NOTIFICATIONS="action_menu_disable_notifications",e.ACTION_MENU_ALL_APPS="action_menu_all_apps",e.ACTION_MENU_ALL_GAMES="action_menu_all_games",e.ACTION_MENU_COPY="action_menu_copy",e.ACTION_MENU_DELETE="action_menu_delete",e.ACTION_MENU_RECOMMEND="action_menu_recommend",e.ACTION_MENU_UNRECOMMEND="action_menu_unrecommend"}(C||(C={})),function(e){e.CLICK_GAME_CARD="cloud_games_game_click",e.CLICK_DOWNLOAD_GAME="cloud_games_client_download",e.OPEN_SECTION="cloud_games_section_open"}(T||(T={})),function(e){e.SHOW="notifications_request_sent",e.CLOSE="notifications_request_close",e.TIMEOUT_CLOSE="notifications_request_timeout",e.SETTING_OPEN="notifications_request_settings_open"}(w||(w={})),function(e){e.EGG_SHOW="egg_show",e.POPUP_SHOW="popup_show",e.POPUP_ACTION="popup_action"}(S||(S={})),function(e){e.CLICK_ENTER_LK="click_enter_lk",e.CLICK_VK_PAY="click_vk_pay",e.CLICK_VK_COMBO="click_vk_combo",e.POPUP_OPEN="popup_open",e.POPUP_CLOSE="popup_close",e.SERVICE_NAVIGATION_CLICK="service_navigation_click",e.SERVICE_NAVIGATION_OPEN="service_navigation_open",e.SERVICE_NAVIGATION_CLOSE="service_navigation_close"}(y||(y={})),function(e){e.CLICK="promo_banner_click"}(b||(b={})),function(e){e.LAUNCH_THIRD_PARTY_APP="launch_third_party_app"}(O||(O={}))},48743:function(e,t,n){"use strict";n.d(t,{Ranges:function(){return s}});var r=2e9,i=16e6,o=16000599,a=1698e4,u=16999999,s=Object.freeze({EMAIL_PEER_ID_OFFSET:-2e9,EXTERNAL_USER_ID_OFFSET:-19e8,APP_DOMAIN_ID_OFFSET:-1e9,CONTACT_PEER_ID_OFFSET:19e8,CHAT_PEER_ID_OFFSET:2e9,isCommunityPeer:function(e){return c(e,s.APP_DOMAIN_ID_OFFSET,0)},isUserPeer:function(e){return c(e,0,s.CONTACT_PEER_ID_OFFSET)},isRealOwner:function(e){return s.isCommunityPeer(e)||s.isUserPeer(e)},isUMA:function(e){return s.isUMAReleaseOwner(e)||s.isUMAAlbumOwner(e)},isUMAAlbumOwner:function(e){return _(e,-2000999999,-2e9)},isUMAReleaseOwner:function(e){return _(e,-2002e6,-2001e6)},isFakeWallAudioOwner:function(e){return _(e,2e9,2000512e3)},isEmailPeer:function(e){return e<s.EMAIL_PEER_ID_OFFSET},isUserPeerTransitional:function(e){s.isUserPeer(e);var t=c(e,0,s.CHAT_PEER_ID_OFFSET);return t},isOwnerIdTransitional:function(e){return e>0?s.isUserPeerTransitional(e):s.isCommunityPeer(e)},isContactPeer:function(e){return c(e,s.CONTACT_PEER_ID_OFFSET,s.CHAT_PEER_ID_OFFSET)},convertContactIdToPeerId:function(e){return e+s.CONTACT_PEER_ID_OFFSET},convertPeerIdToContactId:function(e){return e-s.CONTACT_PEER_ID_OFFSET},isChatOrChannelPeer:function(e){var t=s.CHAT_PEER_ID_OFFSET+1e8;return c(e,s.CHAT_PEER_ID_OFFSET,t)||e===t},convertChatPeerIdToChatId:function(e){return e-s.CHAT_PEER_ID_OFFSET},convertChatIdToChatPeerId:function(e){return e+s.CHAT_PEER_ID_OFFSET},convertEmailPeerIdToChatId:function(e){return-e-s.CHAT_PEER_ID_OFFSET},isAppDomain:function(e){return c(e,s.EMAIL_PEER_ID_OFFSET,s.APP_DOMAIN_ID_OFFSET)},convertPeerIdToAppId:function(e){return-e+s.APP_DOMAIN_ID_OFFSET},convertAppIdToPeerId:function(e){return s.APP_DOMAIN_ID_OFFSET-e},isUnauthLongId:function(e){return _(e,9e18,90000001e11)||s.isUnauthLongIdOld(e)},isUnauthLongIdOld:function(e){return _(e,10000000001,11e10)},isFakeDocOwner:function(e){return _(e,r,2000063999)},getFirstFakeOwnerId:function(){return r},getRandomFirstFakeOwnerId:function(){return l(r,2000064e3)},isAdsVideoOwner:function(e){return _(e,i,o)},getRandomAdsVideoOwner:function(){return l(i,o)},isAdsPhotoOwner:function(e){return _(e,a,u)},getRandomAdsPhotoOwner:function(){return l(a,u)},isZeroOwner:function(e){return 0===e},convertEmailIdToEmailPeerId:function(e){return-e+s.EMAIL_PEER_ID_OFFSET},isExternalUserDeprecated:function(e){s.isExternalUser(e);var t=c(e,s.EMAIL_PEER_ID_OFFSET,s.APP_DOMAIN_ID_OFFSET);return t},isExternalUser:function(e){return c(e,s.EMAIL_PEER_ID_OFFSET,s.EXTERNAL_USER_ID_OFFSET)}});function c(e,t,n){return t<e&&e<n}function _(e,t,n){return t<=e&&e<=n}function l(e,t){return e+Math.floor(Math.random()*(t-e))}}}]);