(self.webpackChunkvk=self.webpackChunkvk||[]).push([[5456],{4077:function(e){!function(t){var n="function",o="undefined",a=[],r=typeof t!==o&&!t.AndroidBridge&&!t.webkit,i=r?"message":"VKWebAppEvent";typeof t!==o&&(t.CustomEvent||function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}e.prototype=t.Event.prototype,t.CustomEvent=e}(),t.addEventListener(i,(function(){var e=Array.prototype.slice.call(arguments),t=a.slice();r?t.forEach((function(t){t({detail:e[0].data})})):t.forEach((function(t){t.apply(null,e)}))}))),e.exports={send:function(e,a){a||(a={});var r=typeof t!==o,i=r&&t.AndroidBridge,l=r&&t.webkit&&t.webkit.messageHandlers,s=!i&&!l;i&&typeof i[e]==n&&i[e](JSON.stringify(a)),l&&l[e]&&typeof l[e].postMessage==n&&l[e].postMessage(a),s&&parent.postMessage({handler:e,params:a,type:"vk-connect"},"*")},subscribe:function(e){a.push(e)},unsubscribe:function(e){var t=a.indexOf(e);t>-1&&a.splice(t,1)},supports:function(e){var a=typeof t!==o,r=a&&t.AndroidBridge,i=a&&t.webkit&&t.webkit.messageHandlers;return!(!r||typeof r[e]!=n)||(!(!i||!i[e]||typeof i[e].postMessage!=n)||!(i||r||!~["VKWebAppGetAuthToken","VKWebAppCallAPIMethod","VKWebAppGetGeodata","VKWebAppGetUserInfo","VKWebAppGetPhoneNumber","VKWebAppGetClientVersion","VKWebAppOpenPayForm","VKWebAppShare","VKWebAppAllowNotifications","VKWebAppDenyNotifications","VKWebAppShowWallPostBox","VKWebAppGetEmail","VKWebAppAllowMessagesFromGroup","VKWebAppJoinGroup","VKWebAppOpenApp","VKWebAppSetLocation","VKWebAppScroll","VKWebAppResizeWindow"].indexOf(e)))}}}(window)},67350:function(e,t,n){"use strict";n.d(t,{SizeType:function(){return o},ViewWidth:function(){return a},ViewHeight:function(){return r},AdaptivityContext:function(){return s}});var o,a,r,i=n(56769),l=n(11449);!function(e){e.COMPACT="compact",e.REGULAR="regular"}(o||(o={})),function(e){e[e.SMALL_MOBILE=1]="SMALL_MOBILE",e[e.MOBILE=2]="MOBILE",e[e.SMALL_TABLET=3]="SMALL_TABLET",e[e.TABLET=4]="TABLET",e[e.DESKTOP=5]="DESKTOP"}(a||(a={})),function(e){e[e.EXTRA_SMALL=1]="EXTRA_SMALL",e[e.SMALL=2]="SMALL",e[e.MEDIUM=3]="MEDIUM"}(r||(r={}));var s=i.createContext({sizeX:o.COMPACT,sizeY:o.REGULAR,hasMouse:l.hasMouse,deviceHasHover:l.hasHover,viewWidth:0,viewHeight:0})},11189:function(e,t,n){"use strict";n.d(t,{AppRootContext:function(){return o}});var o=n(56769).createContext({portalRoot:null})},9681:function(e,t,n){"use strict";n.d(t,{AppRootPortal:function(){return c}});var o=n(2113),a=n(56769),r=n(93176),i=n(11189),l=n(4645),s=n(62657),c=function(e){var t,n=e.children,c=e.className,u=e.forcePortal,d=a.useContext(i.AppRootContext),f=d.portalRoot,p=d.mode,v=a.useContext(s.AppearanceProviderContext);return u=null!==(t=u)&&void 0!==t?t:"full"!==p,f&&u?(0,r.createPortal)((0,o.createScopedElement)(l.AppearanceProvider,{appearance:v},(0,o.createScopedElement)("div",{className:c},n)),f):(0,o.createScopedElement)(a.Fragment,null,n)}},4645:function(e,t,n){"use strict";n.d(t,{generateVKUITokensClassName:function(){return u},AppearanceProvider:function(){return d}});var o=n(2113),a=n(56769),r=n(62657),i=n(89319),l=n(37734),s=n(30089),c=n(68575),u=function(e,t){var n;switch(e){case c.Platform.ANDROID:n="vkBase";break;case c.Platform.IOS:n="vkIOS";break;case c.Platform.VKCOM:n="vkCom";break;default:n=e}return"vkui--".concat(n,"--").concat(t)},d=function(e){var t=e.children,n=e.appearance,c=void 0===n?"light":n,d=(0,s.usePlatform)(),f=(0,i.getScheme)({platform:d,appearance:c});return(0,o.createScopedElement)(r.AppearanceProviderContext.Provider,{value:c},a.Children.map(t,(function(e){return a.isValidElement(e)?a.cloneElement(e,{className:(0,l.classNamesString)(e.props.className,"vkui".concat(f),u(d,c))}):e})))}},62657:function(e,t,n){"use strict";n.d(t,{AppearanceProviderContext:function(){return r}});var o=n(56769),a=n(68),r=o.createContext(a.Appearance.LIGHT)},33575:function(e,t,n){"use strict";n.d(t,{WebviewType:function(){return o},ConfigProviderContext:function(){return s}});var o,a=n(56769),r=n(54509),i=n.n(r),l=n(68575);!function(e){e.VKAPPS="vkapps",e.INTERNAL="internal"}(o||(o={}));var s=a.createContext({webviewType:o.VKAPPS,isWebView:i().isWebView(),transitionMotionEnabled:!0,platform:(0,l.platform)(),hasNewTokens:!1})},56812:function(e,t,n){"use strict";n.d(t,{Popper:function(){return S}});var o=n(92384),a=n(23300),r=n(60100),i=n(51014),l=n(47030),s=n(2113),c=n(56769),u=n(73930),d=n(9681),f=n(30089),p=n(70290),v=n(49658),m=n(3573),h=["targetRef","children","getRef","placement","onPlacementChange","arrow","arrowClassName","sameWidth","offsetDistance","offsetSkidding","forcePortal","style","customModifiers"],S=function(e){var t,n=e.targetRef,S=e.children,g=e.getRef,C=e.placement,E=void 0===C?"bottom-start":C,k=e.onPlacementChange,b=e.arrow,y=e.arrowClassName,w=e.sameWidth,_=e.offsetDistance,R=void 0===_?8:_,M=e.offsetSkidding,P=void 0===M?0:M,A=e.forcePortal,O=void 0===A||A,T=e.style,x=e.customModifiers,N=void 0===x?[]:x,I=(0,l.default)(e,h),D=c.useState(null),L=(0,i.default)(D,2),H=L[0],B=L[1],z=c.useState(0),W=(0,i.default)(z,2),V=W[0],Y=W[1],F=(0,f.usePlatform)(),X=(0,v.useExternRef)(g,B),K=c.useMemo((function(){var e=[{name:"preventOverflow",options:{mainAxis:!1}},{name:"offset",options:{offset:[b?P-V:P,b?R+8:R]}},{name:"flip"}];if(b&&e.push({name:"arrow",options:{padding:8}}),w){e.push({name:"sameWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;t.styles.popper.width="".concat(t.rects.reference.width,"px")},effect:function(e){var t=e.state;t.elements.popper.style.width="".concat(t.elements.reference.offsetWidth,"px")}})}return e.push.apply(e,(0,r.default)(N)),e}),[b,w,V,P,R,N]),G=(0,u.usePopper)(n.current,H,{placement:E,modifiers:K}),j=G.styles,U=G.state,q=G.attributes,J=null==U?void 0:U.placement,Q=!!J&&J.includes("-");(0,m.useIsomorphicLayoutEffect)((function(){if(b&&Q){var e,t,o,a=null!=J&&J.startsWith("bottom")||null!=J&&J.startsWith("top")?"vertical":"horizontal",r="vertical"===a?20:8;(null!==(e="vertical"===a?null===(t=n.current)||void 0===t?void 0:t.offsetWidth:null===(o=n.current)||void 0===o?void 0:o.offsetHeight)&&void 0!==e?e:0)<r+16&&Y(8+r/2)}else Y(0)}),[b,Q]),c.useEffect((function(){J&&k&&k({placement:J})}),[k,J]);var Z=(0,s.createScopedElement)("div",(0,o.default)({},I,q.popper,{vkuiClass:(0,p.getClassName)("Popper",F),ref:X,style:(0,a.default)((0,a.default)((0,a.default)({},T),j.popper),{},{minWidth:w?null===(t=n.current)||void 0===t?void 0:t.scrollWidth:void 0})}),b&&(0,s.createScopedElement)("div",(0,o.default)({},q.arrow,{vkuiClass:"Popper__arrow","data-popper-arrow":!0,style:j.arrow}),(0,s.createScopedElement)("svg",{vkuiClass:"Popper__arrow-in",className:y,width:"20",height:"8",viewBox:"0 0 20 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,s.createScopedElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 0C13 0 15.9999 8 20 8H0C3.9749 8 7 0 10 0Z",fill:"currentColor"}))),(0,s.createScopedElement)("div",{vkuiClass:"Popper__content"},S));return(0,s.createScopedElement)(d.AppRootPortal,{forcePortal:O,vkuiClass:"PopperPortal"},Z)}},49760:function(e,t,n){"use strict";n.d(t,{TextTooltip:function(){return w}});var o=n(92384),a=n(47030),r=n(2113),i=n(56769),l=n(51014),s=n(56812),c=n(29649),u=n(59524),d=n(64478),f=n(49658),p=n(68714),v=function(e){return"string"==typeof e.type},m=((0,p.warnOnce)("usePatchChildrenRef"),n(3573)),h=["getRef","content","children","onShownChange","shown","showDelay","hideDelay"],S=function(e){var t=e.getRef,n=e.content,p=e.children,S=e.onShownChange,g=e.shown,C=e.showDelay,E=void 0===C?150:C,k=e.hideDelay,b=void 0===k?150:k,y=(0,a.default)(e,h),w=i.useState(g||!1),_=(0,l.default)(w,2),R=_[0],M=_[1],P="boolean"==typeof g?g:R,A=function(e){"boolean"!=typeof g&&M(e),"function"==typeof S&&S(e)},O=(0,u.useTimeout)((function(){A(!0)}),E),T=(0,u.useTimeout)((function(){A(!1)}),b),x=function(e){var t=i.isValidElement(e)&&(v(e)?e.ref:e.props.getRootRef),n=(0,f.useExternRef)(t);return i.useEffect((function(){n.current}),[null==e?void 0:e.type,n]),[n,i.isValidElement(e)?i.cloneElement(e,(0,d.default)({},v(e)?"ref":"getRootRef",n)):e]}(p),N=(0,l.default)(x,2),I=N[0],D=N[1],L=function(){O.clear(),T.set()},H=(0,c.useEventListener)("pointerenter",(function(){T.clear(),O.set()})),B=(0,c.useEventListener)("pointerleave",L);return(0,m.useIsomorphicLayoutEffect)((function(){I.current&&(H.add(I.current),B.add(I.current))}),[]),(0,r.createScopedElement)(i.Fragment,null,D,P&&(0,r.createScopedElement)(s.Popper,(0,o.default)({},y,{onMouseOver:T.clear,onMouseOut:L,getRef:t,targetRef:I}),n))},g=n(70290),C=n(30089),E=n(70471),k=n(97284),b=n(85354),y=["children","text","header"],w=function(e){var t=e.children,n=e.text,l=e.header,s=(0,a.default)(e,y),c=(0,C.usePlatform)();return(0,r.createScopedElement)(S,(0,o.default)({vkuiClass:(0,g.getClassName)("TextTooltip",c),arrow:!0,arrowClassName:(0,b.prefixClass)("TextTooltip__arrow"),content:(0,r.createScopedElement)(i.Fragment,null,(0,E.hasReactNode)(l)&&(0,r.createScopedElement)(k.Subhead,{Component:"span",weight:"2",vkuiClass:"TextTooltip__header"},l),(0,E.hasReactNode)(n)&&(0,r.createScopedElement)(k.Subhead,{Component:"span",vkuiClass:"TextTooltip__text"},n))},s),t)}},97284:function(e,t,n){"use strict";n.d(t,{Subhead:function(){return u}});var o=n(92384),a=n(47030),r=n(2113),i=n(37734),l=n(68714),s=n(215),c=["children","weight","Component"],u=((0,l.warnOnce)("Subhead"),function(e){var t=e.children,n=e.weight,l=e.Component,u=void 0===l?"h5":l,d=(0,a.default)(e,c),f=(0,s.useAdaptivity)().sizeY;return(0,r.createScopedElement)(u,(0,o.default)({},d,{vkuiClass:(0,i.classNames)("Subhead","Subhead--sizeY-".concat(f),n&&"Subhead--w-".concat(n))}),t)})},70290:function(e,t,n){"use strict";n.d(t,{getClassName:function(){return a}});var o=n(68575);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,o.platform)();return"".concat(e," ").concat(e,"--").concat(t)}},89319:function(e,t,n){"use strict";n.d(t,{getScheme:function(){return r}});var o=n(68575),a=n(68);function r(e){var t=e.platform;switch(e.appearance){case"dark":return t===o.VKCOM?a.Scheme.VKCOM_DARK:a.Scheme.SPACE_GRAY;case"light":return t===o.VKCOM?a.Scheme.VKCOM_LIGHT:a.Scheme.BRIGHT_LIGHT}}},68:function(e,t,n){"use strict";n.d(t,{Scheme:function(){return o},Appearance:function(){return a},normalizeScheme:function(){return s}});var o,a,r=n(68575),i=n(68714),l=n(89319);!function(e){e.DEPRECATED_CLIENT_LIGHT="client_light",e.DEPRECATED_CLIENT_DARK="client_dark",e.VKCOM="vkcom",e.BRIGHT_LIGHT="bright_light",e.SPACE_GRAY="space_gray",e.VKCOM_LIGHT="vkcom_light",e.VKCOM_DARK="vkcom_dark"}(o||(o={})),function(e){e.DARK="dark",e.LIGHT="light"}(a||(a={}));(0,i.warnOnce)("scheme");function s(e){var t=e.platform,n=e.scheme,a=e.appearance;if(a)return(0,l.getScheme)({platform:t,appearance:a});if("inherit"===n)return n;if(n===o.VKCOM)return o.VKCOM_LIGHT;if(t===r.VKCOM&&(n===o.BRIGHT_LIGHT||n===o.SPACE_GRAY))return o.VKCOM_LIGHT;switch(n){case o.DEPRECATED_CLIENT_LIGHT:return o.BRIGHT_LIGHT;case o.DEPRECATED_CLIENT_DARK:return o.SPACE_GRAY;default:return n}}},215:function(e,t,n){"use strict";n.d(t,{useAdaptivity:function(){return l},useAdaptivityIsDesktop:function(){return s}});var o=n(56769),a=n(67350),r=n(30089),i=n(68575),l=function(){return o.useContext(a.AdaptivityContext)},s=function(){var e=(0,r.usePlatform)(),t=l(),n=t.viewWidth,o=t.viewHeight,s=t.hasMouse;return n>=a.ViewWidth.SMALL_TABLET&&(s||o>=a.ViewHeight.MEDIUM)||e===i.VKCOM}},29649:function(e,t,n){"use strict";n.d(t,{useEventListener:function(){return s}});var o=n(23300),a=n(56769),r=n(70471),i=n(11449),l=n(3573);function s(e,t,n){var s=a.useRef(t);(0,l.useIsomorphicLayoutEffect)((function(){s.current=t}),[t]);var c=a.useCallback((function(e){return s.current&&s.current(e)}),[]),u=a.useRef(r.noop),d=a.useCallback((function(){u.current(),u.current=r.noop}),[]),f=a.useCallback((function(t){if(i.canUseDOM&&(d(),t)){var a=(0,o.default)({},n);t.addEventListener(e,c,a),u.current=function(){return t.removeEventListener(e,c,a)}}}),[n,c,e,d]);return a.useEffect((function(){return d}),[d]),{add:f,remove:d}}},49658:function(e,t,n){"use strict";n.d(t,{useExternRef:function(){return r}});var o=n(56769),a=n(70471);function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=o.useRef(null);return o.useMemo((function(){return{get current(){return r.current},set current(e){r.current=e,t.forEach((function(t){t&&(0,a.setRef)(e,t)}))}}}),t)}},30089:function(e,t,n){"use strict";n.d(t,{usePlatform:function(){return i}});var o=n(56769),a=n(34488),r=n(33575);function i(){var e=o.useContext(a.SSRContext),t=o.useContext(r.ConfigProviderContext).platform;return e.platform||t}},59524:function(e,t,n){"use strict";n.d(t,{useTimeout:function(){return i}});var o=n(56769),a=n(3573),r=n(11449);function i(e,t){var n=o.useRef({cb:e,duration:t});(0,a.useIsomorphicLayoutEffect)((function(){n.current.cb=e,n.current.duration=t}),[e,t]);var i=o.useRef(),l=o.useCallback((function(){r.canUseDOM&&null!=i&&i.current&&clearTimeout(i.current)}),[]),s=o.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.current.duration;l(),r.canUseDOM&&(i.current=setTimeout((function(){var e=n.current.cb;"function"==typeof e&&e()}),e))}),[l]);return(0,a.useIsomorphicLayoutEffect)((function(){return l}),[]),{set:s,clear:l}}},85438:function(e,t,n){"use strict";n.d(t,{ActionSheet:function(){return $t},ActionSheetItem:function(){return on},AdaptivityProvider:function(){return hr},Alert:function(){return Yt},AppRoot:function(){return pr},Avatar:function(){return Ao},Button:function(){return At},Caption:function(){return St},Card:function(){return zn},CardScroll:function(){return Vn},Cell:function(){return ko},CellButton:function(){return Gn},Checkbox:function(){return ja},ConfigProvider:function(){return kr},CustomSelectOption:function(){return qa},Div:function(){return Qa},Footer:function(){return Do},FormItem:function(){return xa},FormLayout:function(){return Oa},Gallery:function(){return Fo},Gradient:function(){return eo},Group:function(){return Zn},Header:function(){return Jn},Headline:function(){return _t},HorizontalCell:function(){return No},HorizontalScroll:function(){return ft},IconButton:function(){return Hn},Input:function(){return Ha},Link:function(){return fa},List:function(){return oo},ModalCard:function(){return Dn},ModalPage:function(){return Mn},ModalPageHeader:function(){return An},ModalRoot:function(){return wn},ModalRootContext:function(){return Ue},Panel:function(){return he},PanelHeader:function(){return et},PanelHeaderBack:function(){return lr},PanelHeaderButton:function(){return Ye},PanelHeaderClose:function(){return nr},PanelSpinner:function(){return $a},Placeholder:function(){return Ma},Platform:function(){return y.Platform},Progress:function(){return Ko},PullToRefresh:function(){return ua},Radio:function(){return Ya},RichCell:function(){return _o},Search:function(){return Qo},Separator:function(){return je},SimpleCell:function(){return Xn},SizeType:function(){return fe.SizeType},Snackbar:function(){return sn},Spacing:function(){return Qe},Spinner:function(){return yt},SplitLayout:function(){return rt},Subhead:function(){return mt.Subhead},Tabs:function(){return ea},TabsItem:function(){return na},Tappable:function(){return Ie},Text:function(){return He},Title:function(){return ze},Tooltip:function(){return Ea},TooltipContainer:function(){return de},UsersStack:function(){return _a},View:function(){return le},ViewWidth:function(){return fe.ViewWidth},WebviewType:function(){return H.WebviewType},classNames:function(){return C.classNamesString},useAdaptivity:function(){return De.useAdaptivity}});var o=n(11449);if(o.canUseDOM){var a=Element.prototype;a.matches||(a.matches=a.matchesSelector||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector),a.closest||(a.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}return null})}Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),o=n.length>>>0;if(0===o)return!1;var a,r,i=0|t,l=Math.max(i>=0?i:o-Math.abs(i),0);for(;l<o;){if((a=n[l])===(r=e)||"number"==typeof a&&"number"==typeof r&&isNaN(a)&&isNaN(r))return!0;l++}return!1}}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("callback must be a function");for(var t=Object(this),n=t.length>>>0,o=arguments[1],a=0;a<n;a++){var r=t[a];if(e.call(o,r,a,t))return r}}}),String.prototype.padStart||(String.prototype.padStart=function(e,t){return e>>=0,t=String(t||" "),this.length>e?String(this):((e-=this.length)>t.length&&(t+=t.repeat(e/t.length)),t.slice(0,e)+String(this))});var r=n(92384),i=n(47030),l=n(37743),s=n(77992);function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var p=n(14780);function v(e,t){if(t&&("object"===(0,p.default)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=f(e);if(t){var a=f(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return v(this,n)}}var h=n(64478),S=n(2113),g=n(56769),C=n(37734),E=Boolean(o.canUseDOM&&window.__isVkuiTesting),k={supported:!1},b={supported:!1,name:null};o.canUseDOM&&!E&&(("undefined"!=typeof AnimationEvent||"undefined"!=typeof WebKitAnimationEvent)&&(k.supported=!0),"undefined"!=typeof TransitionEvent?(b.supported=!0,b.name="transitionend"):"undefined"!=typeof WebKitTransitionEvent&&(b.supported=!0,b.name="webkitTransitionEnd"));var y=n(68575),w=n(23300),_=function(e){return null!=e.clientX?e.clientX:e.changedTouches&&e.changedTouches[0].clientX},R=function(e){return null!=e.clientY?e.clientY:e.changedTouches&&e.changedTouches[0].clientY},M=function(){return o.canUseDOM&&"ontouchstart"in window};function P(){return M()?["touchstart","touchmove","touchend","touchcancel"]:["mousedown","mousemove","mouseup","mouseleave"]}function A(e,t,n,o){if(o||e<0)return e;var a=e*n;return a*t/(a+t)}var O=n(21609),T=n(49658),x=n(29649),N=n(3573),I=["onStart","onStartX","onStartY","onMove","onMoveX","onMoveY","onLeave","onEnter","onEnd","onEndX","onEndY","onClickCapture","usePointerHover","slideThreshold","useCapture","Component","getRootRef","noSlideClick","stopPropagation"],D=function(e){var t=e.onStart,n=e.onStartX,o=e.onStartY,a=e.onMove,l=e.onMoveX,s=e.onMoveY,c=e.onLeave,u=e.onEnter,d=e.onEnd,f=e.onEndX,p=e.onEndY,v=e.onClickCapture,m=e.usePointerHover,h=e.slideThreshold,C=void 0===h?5:h,E=e.useCapture,k=void 0!==E&&E,b=e.Component,y=void 0===b?"div":b,A=e.getRootRef,D=e.noSlideClick,L=void 0!==D&&D,H=e.stopPropagation,B=void 0!==H&&H,z=(0,i.default)(e,I),W=(0,O.useDOM)().document,V=g.useMemo(P,[]),Y=g.useRef(!1),F=g.useRef(null),X=function(e,t){B&&e.stopPropagation(),t.forEach((function(t){var n,o,a,r=Date.now()-(null!==(n=null===(o=F.current)||void 0===o||null===(a=o.startT)||void 0===a?void 0:a.getTime())&&void 0!==n?n:0);t&&t((0,w.default)((0,w.default)({},F.current),{},{duration:r,originalEvent:e}))}))},K=(0,x.useEventListener)(m?"pointerenter":"mouseenter",u),G=(0,x.useEventListener)(m?"pointerleave":"mouseleave",c),j=(0,x.useEventListener)(V[0],(function(e){var a,r,i;F.current=(a=_(e),r=R(e),{startX:a,startY:r,startT:new Date,duration:0,isPressed:!0,isY:!1,isX:!1,isSlideX:!1,isSlideY:!1,isSlide:!1,shiftX:0,shiftY:0,shiftXAbs:0,shiftYAbs:0}),X(e,[t,n,o]),(i=M()?e.target:W)&&Q.forEach((function(e){return e.add(i)}))}),{capture:k,passive:!1}),U=(0,T.useExternRef)(A);function q(e){var t,n=null!==(t=F.current)&&void 0!==t?t:{},o=n.isPressed,a=n.isSlide,r=n.isSlideX,i=n.isSlideY;o&&X(e,[d,i&&p,r&&f]),Y.current=Boolean(a),F.current={},M()&&c&&c(e),Q.forEach((function(e){return e.remove()}))}(0,N.useIsomorphicLayoutEffect)((function(){var e=U.current;e&&(K.add(e),G.add(e),j.add(e))}),[y]);var J={capture:k,passive:!1},Q=[(0,x.useEventListener)(V[1],(function(e){var t,n=null!==(t=F.current)&&void 0!==t?t:{},o=n.isPressed,r=n.isX,i=n.isY,c=n.startX,u=void 0===c?0:c,d=n.startY,f=void 0===d?0:d;if(o){var p,v=_(e)-u,m=R(e)-f,h=Math.abs(v),S=Math.abs(m);if(e.touches&&e.touches.length>1)return q(e);if(!r&&!i){var g=h>=C&&h>S,E=S>=C&&S>h,k=g&&(!!l||!!a),b=E&&(!!s||!!a);Object.assign(F.current,{isY:E,isX:g,isSlideX:k,isSlideY:b,isSlide:k||b})}null!==(p=F.current)&&void 0!==p&&p.isSlide&&(Object.assign(F.current,{shiftX:v,shiftY:m,shiftXAbs:h,shiftYAbs:S}),X(e,[a,F.current.isSlideX&&l,F.current.isSlideY&&s]))}}),J),(0,x.useEventListener)(V[2],q,J),(0,x.useEventListener)(V[3],q,J)];return(0,S.createScopedElement)(y,(0,r.default)({},z,{onDragStart:function(e){var t=e.target;"A"!==t.tagName&&"IMG"!==t.tagName||e.preventDefault()},onClickCapture:function(e){if(!Y.current)return v&&v(e);e.target.closest("a")&&e.preventDefault(),L?e.stopPropagation():v&&v(e),Y.current=!1},ref:U}))};var L=n(34488),H=n(33575);function B(e){return function(t){var n=g.useContext(L.SSRContext),o=g.useContext(H.ConfigProviderContext).platform;return(0,S.createScopedElement)(e,(0,r.default)({},t,{platform:n.platform||o}))}}function z(e,t,n){return function(o){var a=g.useContext(t);return(0,S.createScopedElement)(e,(0,r.default)({},o,(0,h.default)({},n,a)))}}var W=n(51014),V=n(70471),Y=function(e,t,n){return Math.max(t,Math.min(e,n))};var F=function(e){Object.assign(e.style,{position:"",top:"",left:"",right:"",overflowY:"",overflowX:""})},X=g.createContext({getScroll:function(){return{x:0,y:0}},scrollTo:V.noop,isScrollLock:!1,enableScrollLock:V.noop,disableScrollLock:V.noop}),K=function(){return g.useContext(X)},G=function(e){var t=e.children,n=(0,O.useDOM)(),o=n.window,a=n.document,r=g.useState(!1),i=(0,W.default)(r,2),l=i[0],s=i[1],c=g.useRef(new Set),u=g.useCallback((function(){return{x:o.pageXOffset,y:o.pageYOffset}}),[o]),d=g.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;o.scrollTo(e?Y(e,0,a.body.scrollWidth-o.innerWidth):0,t?Y(t,0,a.body.scrollHeight-o.innerHeight):0)}),[a,o]),f=g.useCallback((function(){c.current.forEach((function(e){e()}));var e=o.pageYOffset,t=o.pageXOffset,n=o.innerWidth>a.documentElement.clientWidth?"scroll":"",r=o.innerHeight>a.documentElement.clientHeight?"scroll":"";Object.assign(a.body.style,{position:"fixed",top:"-".concat(e,"px"),left:"-".concat(t,"px"),right:"0",overflowY:n,overflowX:r}),s(!0)}),[a,o]),p=g.useCallback((function(){var e=a.body.style.top,t=a.body.style.left;F(a.body),o.scrollTo(-parseInt(t||"0"),-parseInt(e||"0")),s(!1)}),[a,o]),v=g.useMemo((function(){return{getScroll:u,scrollTo:d,isScrollLock:l,disableScrollLock:p,enableScrollLock:f,beforeScrollLockFnSetRef:c}}),[u,d,l,p,f]);return(0,S.createScopedElement)(X.Provider,{value:v},t)},j=function(e){var t=e.elRef,n=e.children,o=g.useState(!1),a=(0,W.default)(o,2),r=a[0],i=a[1],l=g.useRef(new Set),s=g.useCallback((function(){var e,n,o,a;return{x:null!==(e=null===(n=t.current)||void 0===n?void 0:n.scrollLeft)&&void 0!==e?e:0,y:null!==(o=null===(a=t.current)||void 0===a?void 0:a.scrollTop)&&void 0!==o?o:0}}),[t]),c=g.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=t.current;null==o||o.scrollTo(e?Y(e,0,o.scrollWidth-o.clientWidth):0,n?Y(n,0,o.scrollHeight-o.clientHeight):0)}),[t]),u=g.useCallback((function(){var e=t.current;if(e){l.current.forEach((function(e){e()}));var n=e.scrollTop,o=e.scrollLeft,a=e.scrollWidth>e.clientWidth?"scroll":"",r=e.scrollHeight>e.clientHeight?"scroll":"";Object.assign(e.style,{position:"absolute",top:"-".concat(n,"px"),left:"-".concat(o,"px"),right:"0",overflowY:a,overflowX:r}),i(!0)}}),[t]),d=g.useCallback((function(){var e=t.current;if(e){var n=e.style.top,o=e.style.left;F(e),e.scrollTo(-parseInt(o||"0"),-parseInt(n||"0")),i(!1)}}),[t]),f=g.useMemo((function(){return{getScroll:s,scrollTo:c,isScrollLock:r,disableScrollLock:d,enableScrollLock:u,beforeScrollLockFnSetRef:l}}),[s,c,r,d,u]);return(0,S.createScopedElement)(X.Provider,{value:f},n)},U=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=K(),n=t.enableScrollLock,o=t.disableScrollLock;(0,N.useIsomorphicLayoutEffect)((function(){return e?(n(),o):V.noop}),[n,o,e])},q=g.createContext({colRef:null,animate:!0}),J=n(9681);function Q(e){var t,n,o=g.useRef(e);return t=o.current,n=e,Object.keys(t).length===Object.keys(n).length&&Object.keys(t).every((function(e){return t[e]===n[e]}))||(o.current=e),o.current}var Z=g.createContext({entering:!1}),$=function(){return g.useContext(Z)},ee=function(e){var t=e.children,n=e.entering,o=Q({entering:$().entering||n});return(0,S.createScopedElement)(Z.Provider,{value:o},t)};function te(e,t){return e.nav||e.id}var ne=n(68714);var oe,ae=["popout","modal","platform","activePanel","splitCol","configProvider","history","nav","onTransition","onSwipeBack","onSwipeBackStart","onSwipeBackCancel","window","document","scroll"];!function(e){e[e.fail=1]="fail",e[e.success=2]="success"}(oe||(oe={}));var re={},ie=((0,ne.warnOnce)("View"),function(e){d(n,e);var t=m(n);function n(e){var o;return(0,l.default)(this,n),o=t.call(this,e),(0,h.default)(c(o),"scrolls",re[te(o.props)]||{}),(0,h.default)(c(o),"transitionFinishTimeout",void 0),(0,h.default)(c(o),"animationFinishTimeout",void 0),(0,h.default)(c(o),"panelNodes",{}),(0,h.default)(c(o),"transitionEndHandler",(function(e){e&&!["vkui-animation-ios-next-forward","vkui-animation-ios-prev-back","vkui-animation-view-next-forward","vkui-animation-view-prev-back"].includes(e.animationName)||null===o.state.prevPanel||o.flushTransition(o.state.prevPanel,Boolean(o.state.isBack))})),(0,h.default)(c(o),"swipingBackTransitionEndHandler",(function(e){if(!e||null!=e&&e.propertyName.includes("transform")&&(null==e?void 0:e.target)===o.pickPanel(o.state.swipeBackNextPanel))switch(o.state.swipeBackResult){case oe.fail:o.onSwipeBackCancel();break;case oe.success:o.onSwipeBackSuccess()}})),(0,h.default)(c(o),"onMoveX",(function(e){if(!function(e){var t,n=e.originalEvent.target;return Boolean(null==n||null===(t=n.closest)||void 0===t?void 0:t.call(n,"input, textarea, [data-vkui-swipe-back=false]"))}(e)){var t=o.props,n=t.platform,a=t.configProvider;if(n!==y.IOS||null!=a&&a.isWebView||!(e.startX<=70||e.startX>=o.window.innerWidth-70)||o.state.browserSwipe||o.setState({browserSwipe:!0}),n===y.IOS&&null!=a&&a.isWebView&&o.props.onSwipeBack){var r,i;if(o.state.animated&&e.startX<=70||!o.window)return;if(e.startX<=70&&!o.state.swipingBack&&(null!==(r=null===(i=o.props.history)||void 0===i?void 0:i.length)&&void 0!==r?r:0)>1){var l;if(null!==o.state.activePanel)o.scrolls[o.state.activePanel]=null===(l=o.props.scroll)||void 0===l?void 0:l.getScroll().y;o.setState({swipingBack:!0,swipeBackStartX:e.startX,swipeBackPrevPanel:o.state.activePanel,swipeBackNextPanel:o.props.history.slice(-2)[0]})}if(o.state.swipingBack){var s=0;if(e.shiftX<0)s=0;else if(e.shiftX>o.window.innerWidth-o.state.swipeBackStartX){var c;s=null===(c=o.window)||void 0===c?void 0:c.innerWidth}else s=e.shiftX;o.setState({swipeBackShift:s})}}}})),(0,h.default)(c(o),"onEnd",(function(e){if(o.state.swipingBack&&o.window){var t,n,a=o.state.swipeBackShift/e.duration*1e3;0===o.state.swipeBackShift?o.onSwipeBackCancel():o.state.swipeBackShift>=(null!==(t=null===(n=o.window)||void 0===n?void 0:n.innerWidth)&&void 0!==t?t:0)?o.onSwipeBackSuccess():a>250||o.state.swipeBackStartX+o.state.swipeBackShift>o.window.innerWidth/2?o.setState({swipeBackResult:oe.success}):o.setState({swipeBackResult:oe.fail})}})),o.state={animated:!1,visiblePanels:[e.activePanel],activePanel:e.activePanel,isBack:void 0,prevPanel:null,nextPanel:null,swipingBack:!1,swipeBackStartX:0,swipeBackShift:0,swipeBackNextPanel:null,swipeBackPrevPanel:null,swipeBackResult:null,browserSwipe:!1},o}return(0,s.default)(n,[{key:"document",get:function(){return this.props.document}},{key:"window",get:function(){return this.props.window}},{key:"panels",get:function(){return g.Children.toArray(this.props.children)}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){var e=te(this.props);e&&(re[e]=this.scrolls),this.animationFinishTimeout&&clearTimeout(this.animationFinishTimeout)}},{key:"componentDidUpdate",value:function(e,t){var n,o=this;if(this.props.popout&&!e.popout&&this.blurActiveElement(),this.props.modal&&!e.modal&&this.blurActiveElement(),e.activePanel!==this.props.activePanel&&!t.swipingBack&&!t.browserSwipe){var a,r=this.panels.map((function(e){return te(e.props)})).find((function(t){return t===e.activePanel||t===o.props.activePanel}))===this.props.activePanel;this.scrolls[e.activePanel]=null===(a=this.props.scroll)||void 0===a?void 0:a.getScroll().y,this.shouldDisableTransitionMotion()?this.flushTransition(e.activePanel,r):(this.blurActiveElement(),this.setState({visiblePanels:[e.activePanel,this.props.activePanel],prevPanel:e.activePanel,nextPanel:this.props.activePanel,activePanel:null,animated:!0,isBack:r}),k.supported||(this.animationFinishTimeout&&clearTimeout(this.animationFinishTimeout),this.animationFinishTimeout=setTimeout(this.transitionEndHandler,this.props.platform===y.IOS?600:300)))}if(e.activePanel!==this.props.activePanel&&t.swipingBack){var i=this.props.activePanel,l=e.activePanel;null!==t.swipeBackPrevPanel&&(this.scrolls[t.swipeBackPrevPanel]=0),this.setState({swipeBackPrevPanel:null,swipeBackNextPanel:null,swipingBack:!1,swipeBackResult:null,swipeBackStartX:0,swipeBackShift:0,activePanel:i,visiblePanels:[i]},(function(){var t;null!==o.state.activePanel&&(null===(t=o.props.scroll)||void 0===t||t.scrollTo(0,o.scrolls[o.state.activePanel]));e.onTransition&&e.onTransition({isBack:!0,from:l,to:i})}))}(!t.swipingBack&&this.state.swipingBack&&this.props.onSwipeBackStart&&this.props.onSwipeBackStart(),!t.swipeBackResult&&this.state.swipeBackResult&&this.waitTransitionFinish(this.pickPanel(this.state.swipeBackNextPanel),this.swipingBackTransitionEndHandler),t.swipeBackResult!==oe.fail||this.state.swipeBackResult||null===this.state.activePanel)||(null===(n=this.props.scroll)||void 0===n||n.scrollTo(0,this.scrolls[this.state.activePanel]));e.activePanel!==this.props.activePanel&&this.state.browserSwipe&&this.setState({browserSwipe:!1,nextPanel:null,prevPanel:null,animated:!1,visiblePanels:[this.props.activePanel],activePanel:this.props.activePanel})}},{key:"shouldDisableTransitionMotion",value:function(){var e,t;return!1===(null===(e=this.props.configProvider)||void 0===e?void 0:e.transitionMotionEnabled)||!(null!==(t=this.props.splitCol)&&void 0!==t&&t.animate)}},{key:"waitTransitionFinish",value:function(e,t){b.supported&&b.name&&e?(e.removeEventListener(b.name,t),e.addEventListener(b.name,t)):(this.transitionFinishTimeout&&clearTimeout(this.transitionFinishTimeout),this.transitionFinishTimeout=setTimeout(t,this.props.platform===y.IOS?600:300))}},{key:"blurActiveElement",value:function(){var e;void 0!==this.window&&null!==(e=this.document)&&void 0!==e&&e.activeElement&&this.document.activeElement.blur()}},{key:"pickPanel",value:function(e){if(null!==e)return this.panelNodes[e]}},{key:"flushTransition",value:function(e,t){var n=this,o=this.props.activePanel;t&&(this.scrolls[e]=0),this.setState({prevPanel:null,nextPanel:null,visiblePanels:[o],activePanel:o,animated:!1,isBack:void 0},(function(){var a;null===(a=n.props.scroll)||void 0===a||a.scrollTo(0,t?n.scrolls[o]:0),n.props.onTransition&&n.props.onTransition({isBack:t,from:e,to:o})}))}},{key:"onSwipeBackSuccess",value:function(){this.props.onSwipeBack&&this.props.onSwipeBack()}},{key:"onSwipeBackCancel",value:function(){this.props.onSwipeBackCancel&&this.props.onSwipeBackCancel(),this.setState({swipeBackPrevPanel:null,swipeBackNextPanel:null,swipingBack:!1,swipeBackResult:null,swipeBackStartX:0,swipeBackShift:0})}},{key:"calcPanelSwipeStyles",value:function(e){if(!o.canUseDOM||!this.window)return{};var t=e===this.state.swipeBackPrevPanel,n=e===this.state.swipeBackNextPanel;if(!t&&!n||this.state.swipeBackResult)return{};var a="".concat(this.state.swipeBackShift,"px"),r="".concat(100*this.state.swipeBackShift/this.window.innerWidth/2-50,"%"),i=.3*(this.window.innerWidth-this.state.swipeBackShift)/this.window.innerWidth;return this.state.swipeBackResult?t?{boxShadow:"-2px 0 12px rgba(0, 0, 0, ".concat(i,")")}:{}:n?{transform:"translate3d(".concat(r,", 0, 0)"),WebkitTransform:"translate3d(".concat(r,", 0, 0)")}:t?{transform:"translate3d(".concat(a,", 0, 0)"),WebkitTransform:"translate3d(".concat(a,", 0, 0)"),boxShadow:"-2px 0 12px rgba(0, 0, 0, ".concat(i,")")}:{}}},{key:"render",value:function(){var e=this,t=this.props,n=t.popout,o=t.modal,a=t.platform,l=(t.activePanel,t.splitCol,t.configProvider,t.history,t.nav,t.onTransition,t.onSwipeBack,t.onSwipeBackStart,t.onSwipeBackCancel,t.window,t.document,t.scroll,(0,i.default)(t,ae)),s=this.state,c=s.prevPanel,u=s.nextPanel,d=s.activePanel,f=s.swipeBackPrevPanel,p=s.swipeBackNextPanel,v=s.swipeBackResult,m=s.isBack,h=s.animated,g=!!n,E=!!o,k=this.panels.filter((function(t){var n=te(t.props);return void 0!==n&&e.state.visiblePanels.includes(n)||n===f||n===p})),b=this.shouldDisableTransitionMotion();return(0,S.createScopedElement)(D,(0,r.default)({Component:"section"},l,{vkuiClass:(0,C.classNames)("View",a===y.IOS&&"View--ios",!b&&h&&"View--animated",!b&&this.state.swipingBack&&"View--swiping-back",b&&"View--no-motion"),onMoveX:this.onMoveX,onEnd:this.onEnd}),(0,S.createScopedElement)("div",{vkuiClass:"View__panels"},k.map((function(t){var n,o=te(t.props),a=h&&o===(m?c:u),r=o===c||o===f||o===p||o===u&&m;return(0,S.createScopedElement)("div",{vkuiClass:(0,C.classNames)("View__panel",o===d&&"View__panel--active",o===c&&"View__panel--prev",o===u&&"View__panel--next",o===f&&"View__panel--swipe-back-prev",o===p&&"View__panel--swipe-back-next",v===oe.success&&"View__panel--swipe-back-success",v===oe.fail&&"View__panel--swipe-back-failed"),onAnimationEnd:a?e.transitionEndHandler:void 0,ref:function(t){return void 0!==o&&(e.panelNodes[o]=t)},style:e.calcPanelSwipeStyles(o),key:o},(0,S.createScopedElement)("div",{vkuiClass:"View__panel-in",style:{marginTop:r?-(null!==(n=e.scrolls[o])&&void 0!==n?n:0):void 0}},(0,S.createScopedElement)(ee,{entering:o===u||o===p},t)))}))),(0,S.createScopedElement)(J.AppRootPortal,null,g&&(0,S.createScopedElement)("div",{vkuiClass:"View__popout"},n),E&&(0,S.createScopedElement)("div",{vkuiClass:"View__modal"},o)))}}]),n}(g.Component));(0,h.default)(ie,"defaultProps",{history:[]});var le=z(z(z(B((0,O.withDOM)(ie)),q,"splitCol"),H.ConfigProviderContext,"configProvider"),X,"scroll");le.displayName="View";var se=n(70290),ce=["fixed"],ue="data-tooltip-container",de=g.forwardRef((function(e,t){var n=e.fixed,o=void 0!==n&&n,a=(0,i.default)(e,ce);return a[ue]=o?"fixed":"true",(0,S.createScopedElement)("div",(0,r.default)({},a,{ref:t}))})),fe=n(67350);function pe(e,t){return function(n){var o=g.useContext(fe.AdaptivityContext),a=!1;(n.sizeX||n.sizeY)&&(a=!0);var i=n.sizeX||o.sizeX,l=n.sizeY||o.sizeY,s=o.viewWidth,c=o.viewHeight,u=o.hasMouse,d=o.deviceHasHover,f={};t.sizeX&&(f.sizeX=i),t.sizeY&&(f.sizeY=l),t.viewWidth&&(f.viewWidth=s),t.viewHeight&&(f.viewHeight=c),t.hasMouse&&(f.hasMouse=u),t.deviceHasHover&&(f.deviceHasHover=d);var p=(0,S.createScopedElement)(e,(0,r.default)({},n,f));return a?(0,S.createScopedElement)(fe.AdaptivityContext.Provider,{value:{sizeX:i,sizeY:l,viewWidth:s,viewHeight:c,hasMouse:u,deviceHasHover:d}},p):p}}var ve=n(30089),me=["centered","children","getRootRef","sizeX","nav"],he=pe((function(e){var t=e.centered,n=void 0!==t&&t,o=e.children,a=e.getRootRef,l=e.sizeX,s=(e.nav,(0,i.default)(e,me)),c=(0,ve.usePlatform)();return(0,S.createScopedElement)("div",(0,r.default)({},s,{ref:a,vkuiClass:(0,C.classNames)((0,se.getClassName)("Panel",c),"Panel--".concat(l),(0,h.default)({"Panel--centered":n},"Panel--sizeX-".concat(l),!0))}),(0,S.createScopedElement)(D,{Component:de,vkuiClass:"Panel__in"},c===y.IOS&&(0,S.createScopedElement)("div",{vkuiClass:"Panel__fade"}),(0,S.createScopedElement)("div",{vkuiClass:"Panel__in-before"}),n?(0,S.createScopedElement)("div",{vkuiClass:"Panel__centered"},o):o,(0,S.createScopedElement)("div",{vkuiClass:"Panel__in-after"})))}),{sizeX:!0}),Se=n(60100);var ge=g.createContext(!1);var Ce;!function(e){e.ENTER="Enter",e.SPACE="Space",e.TAB="Tab",e.ESCAPE="Escape"}(Ce||(Ce={}));var Ee=[{code:Ce.ENTER,key:["Enter"],keyCode:13},{code:Ce.SPACE,key:["Space","Spacebar"," "],keyCode:32},{code:Ce.TAB,key:["Tab"],keyCode:9},{code:Ce.ESCAPE,key:["Escape"],keyCode:27}];function ke(e){var t;return(null===(t=Ee.find((function(t){var n=t.key,o=t.keyCode;return n.includes(e.key)||o===e.keyCode})))||void 0===t?void 0:t.code)||null}var be=function(e){var t=e.mode;return(0,S.createScopedElement)("span",{"aria-hidden":"true",vkuiClass:(0,C.classNames)("FocusVisible","FocusVisible--".concat(t))})},ye=n(59524),we=n(11189);var _e,Re=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return t.filter((function(e){return"function"==typeof e})).forEach((function(e){return e.apply(void 0,n)}))}},Me=["children","Component","onClick","onKeyDown","activeEffectDelay","stopPropagation","getRootRef","sizeX","hasMouse","deviceHasHover","hasHover","hoverMode","hasActive","activeMode","focusVisibleMode","onEnter","onLeave"],Pe={all:_e=_e||new Map,on:function(e,t){var n=_e.get(e);n?n.push(t):_e.set(e,[t])},off:function(e,t){var n=_e.get(e);n&&(t?n.splice(n.indexOf(t)>>>0,1):_e.set(e,[]))},emit:function(e,t){var n=_e.get(e);n&&n.slice().map((function(e){e(t)})),(n=_e.get("*"))&&n.slice().map((function(n){n(e,t)}))}},Ae=0,Oe=1,Te=2,xe=3,Ne=g.createContext({onHoverChange:o.noop});var Ie=pe((function(e){var t,n=e.children,a=e.Component,l=e.onClick,s=e.onKeyDown,c=e.activeEffectDelay,u=void 0===c?600:c,d=e.stopPropagation,f=void 0!==d&&d,p=e.getRootRef,v=e.sizeX,m=e.hasMouse,E=e.deviceHasHover,k=e.hasHover,b=void 0===k||k,w=e.hoverMode,M=void 0===w?"background":w,P=e.hasActive,A=void 0===P||P,O=e.activeMode,x=void 0===O?"background":O,I=e.focusVisibleMode,L=void 0===I?"inside":I,H=e.onEnter,B=e.onLeave,z=(0,i.default)(e,Me);a=a||(z.href?"a":"div");var V,Y,F,X,K=g.useContext(Ne).onHoverChange,G=g.useContext(ge),j=(0,ve.usePlatform)(),U=(V=(0,g.useState)(!1),Y=(0,W.default)(V,2),F=Y[0],X=Y[1],{focusVisible:(0,g.useContext)(we.AppRootContext).keyboardInput&&F,onFocus:(0,g.useCallback)((function(e){e.stopPropagation(),X(!0)}),[X]),onBlur:(0,g.useCallback)((function(e){e.stopPropagation(),X(!1)}),[X])}),q=U.focusVisible,J=U.onBlur,Q=U.onFocus,Z=g.useState([]),$=(0,W.default)(Z,2),ee=$[0],te=$[1],ne=g.useState(!1),oe=(0,W.default)(ne,2),ae=oe[0],re=oe[1],ie=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=g.useState(e),n=(0,W.default)(t,2),o=n[0],a=n[1],r=g.useCallback((function(){a(!0)}),[]),i=g.useCallback((function(){a(!1)}),[]),l=g.useCallback((function(){a(!o)}),[o]);return{value:o,setTrue:r,setFalse:i,toggle:l}}(!1),le=ie.value,se=ie.setTrue,ce=ie.setFalse,ue=le&&!z.disabled,de=A&&!ae&&!z.disabled,fe=E&&b&&!ae,pe="a"!==a&&"button"!==a&&"label"!==a&&!z.contentEditable,me=["opacity","background"].includes(M),he=["opacity","background"].includes(x),Ee=["inside","outside"].includes(L),_e=function(e,t){var n=g.useMemo((function(){return Math.round(1e8*Math.random()).toString(16)}),[]),a=g.useState(Ae),r=(0,W.default)(a,2),i=r[0],l=r[1],s=function(){return l(Ae)},c=function(){return e&&l(Te)},u=(0,ye.useTimeout)(c,70),d=(0,ye.useTimeout)(s,t);return(0,N.useIsomorphicLayoutEffect)((function(){return i===Oe?(u.set(),u.clear):i===xe?d.clear:(i===Te&&Pe.emit("active",n),o.noop)}),[i]),(0,N.useIsomorphicLayoutEffect)((function(){if(i===Ae)return o.noop;var e=function(e){e!==n&&s()};return Pe.on("active",e),function(){return Pe.off("active",e)}}),[i===Ae]),(0,N.useIsomorphicLayoutEffect)((function(){!e&&s()}),[e]),[i,{delayStart:function(){e&&l(Oe)},start:c,stop:function(e){if(e)return l(xe),d.set(e);s()}}]}(de,u),Ie=(0,W.default)(_e,2),De=Ie[0],Le=Ie[1],He=Le.start,Be=Le.stop,ze=Le.delayStart,We=De===Te||De===xe,Ve=(0,T.useExternRef)(p),Ye=g.useRef({onHoverChange:re}).current;(0,N.useIsomorphicLayoutEffect)((function(){return ue?(K(!0),function(){return K(!1)}):o.noop}),[ue]);var Fe=j===y.ANDROID&&!m&&de&&"background"===x,Xe=(0,ye.useTimeout)((function(){return te([])}),225);var Ke=(0,C.classNames)("Tappable",j===y.IOS&&"Tappable--ios","Tappable--sizeX-".concat(v),fe&&"Tappable--hasHover",de&&"Tappable--hasActive",fe&&ue&&!me&&M,de&&We&&!he&&x,q&&!Ee&&L,(t={"Tappable--active":de&&We,"Tappable--mouse":m},(0,h.default)(t,"Tappable--hover-".concat(M),fe&&ue&&me),(0,h.default)(t,"Tappable--active-".concat(x),de&&We&&he),(0,h.default)(t,"Tappable--focus-visible",q),t)),Ge={onStart:Re((function(e){var t,n,o=e.originalEvent;if(de){if(o.touches&&o.touches.length>1)return Be();if(Fe){var a=(t=Ve.current,{top:null==(n=null==t?void 0:t.getBoundingClientRect())?void 0:n.top,left:null==n?void 0:n.left,width:null==t?void 0:t.offsetWidth,height:null==t?void 0:t.offsetHeight}),r=a.top,i=a.left;!function(e,t){var n=Date.now(),o=ee.filter((function(e){return e.id+225>n}));te([].concat((0,Se.default)(o),[{x:e,y:t,id:n}])),Xe.set()}(_(o)-(null!=i?i:0),R(o)-(null!=r?r:0))}ze()}}),z.onStart),onMove:Re((function(e){e.isSlide&&Be()}),z.onMove),onEnd:Re((function(e){var t=e.duration;if(De!==Ae){De===Oe&&He();var n=t-70;Be(n>=100?0:u-n)}}),z.onEnd),onClick:l,onKeyDown:Re((function(e){var t;pe&&function(e){var t=e.target,n=t.tagName,o=t.getAttribute("role"),a=!0!==t.isContentEditable&&"INPUT"!==n&&"TEXTAREA"!==n&&("button"===o||"link"===o),r="A"===n&&t.hasAttribute("href"),i=ke(e);return a&&(i===Ce.SPACE&&"button"===o||i===Ce.ENTER&&!r)}(e)&&(e.preventDefault(),null===(t=Ve.current)||void 0===t||t.click())}),s)},je=z.href?"link":"button";return(0,S.createScopedElement)(D,(0,r.default)({onEnter:Re(se,H),onLeave:Re(ce,B),type:"button"===a?"button":void 0,tabIndex:pe&&!z.disabled?0:void 0,role:pe?je:void 0,"aria-disabled":pe?z.disabled:void 0,stopPropagation:f&&!G&&!z.disabled},z,{slideThreshold:20,usePointerHover:!0,vkuiClass:Ke,Component:a,getRootRef:Ve,onBlur:Re(J,z.onBlur),onFocus:Re(Q,z.onFocus)},z.disabled?{}:Ge),(0,S.createScopedElement)(Ne.Provider,{value:Ye},n),Fe&&(0,S.createScopedElement)("span",{"aria-hidden":"true",vkuiClass:"Tappable__waves"},ee.map((function(e){return(0,S.createScopedElement)("span",{key:e.id,vkuiClass:"Tappable__wave",style:{top:e.y,left:e.x}})}))),fe&&"background"===M&&(0,S.createScopedElement)("span",{"aria-hidden":"true",vkuiClass:"Tappable__hoverShadow"}),!z.disabled&&Ee&&(0,S.createScopedElement)(be,{mode:L}))}),{sizeX:!0,hasMouse:!0,deviceHasHover:!0});Ie.displayName="Tappable";var De=n(215),Le=["children","weight","Component","getRootRef"],He=((0,ne.warnOnce)("Text"),function(e){var t=e.children,n=e.weight,o=e.Component,a=void 0===o?"span":o,l=e.getRootRef,s=(0,i.default)(e,Le);var c=(0,De.useAdaptivity)().sizeY;return(0,S.createScopedElement)(a,(0,r.default)({},s,{ref:l,vkuiClass:(0,C.classNames)("Text","Text--sizeY-".concat(c),n&&"Text--w-".concat(n))}),t)}),Be=["children","weight","level","Component"],ze=((0,ne.warnOnce)("Title"),function(e){var t=e.children,n=e.weight,o=e.level,a=void 0===o?"1":o,l=e.Component,s=(0,i.default)(e,Be);return l||(l="h"+a),(0,S.createScopedElement)(l,(0,r.default)({},s,{vkuiClass:(0,C.classNames)("Title","Title--l-".concat(a),n&&"Title--w-".concat(n))}),t)}),We=["children","primary","label"],Ve=function(e){var t=e.primary,n=e.children,o=(0,ve.usePlatform)();return o===y.IOS?(0,S.createScopedElement)(ze,{Component:"span",level:"3",weight:t?"1":"3"},n):(0,S.createScopedElement)(He,{weight:o===y.VKCOM?void 0:"2"},n)},Ye=((0,ne.warnOnce)("PanelHeaderButton"),function(e){var t,n,o=e.children,a=e.primary,l=void 0!==a&&a,s=e.label,c=(0,i.default)(e,We),u=(0,V.isPrimitiveReactNode)(o),d=(0,V.isPrimitiveReactNode)(s),f=(0,ve.usePlatform)();switch(f){case y.ANDROID:t="background",n="background";break;case y.IOS:t="background",n="opacity";break;case y.VKCOM:t="PanelHeaderButton--hover",n="PanelHeaderButton--active"}return(0,S.createScopedElement)(Ie,(0,r.default)({},c,{hoverMode:t,Component:c.href?"a":"button",activeEffectDelay:200,activeMode:n,vkuiClass:(0,C.classNames)((0,se.getClassName)("PanelHeaderButton",f),{"PanelHeaderButton--primary":l,"PanelHeaderButton--primitive":u,"PanelHeaderButton--notPrimitive":!u&&!d})}),u?(0,S.createScopedElement)(Ve,{primary:l},o):o,d?(0,S.createScopedElement)(Ve,{primary:l},s):s)});function Fe(e,t,n,o){var a=(0,x.useEventListener)(t,n,o);(0,N.useIsomorphicLayoutEffect)((function(){n&&e?a.add(e):a.remove()}),[Boolean(n),Boolean(e)])}var Xe=["children","style","vertical","getRootRef","getRef","filled"],Ke=function(e){var t=e.children,n=e.style,o=e.vertical,a=e.getRootRef,l=e.getRef,s=e.filled,c=(0,i.default)(e,Xe),u=(0,ve.usePlatform)(),d=g.useState(void 0),f=(0,W.default)(d,2),p=f[0],v=f[1],m=(0,O.useDOM)().window,h=g.useContext(q).colRef,E=function(){return v(null!=h&&h.current?"".concat(h.current.offsetWidth,"px"):void 0)};return g.useEffect(E,[h]),Fe(m,"resize",E),(0,S.createScopedElement)(de,(0,r.default)({},c,{fixed:!0,ref:a,vkuiClass:(0,C.classNames)("FixedLayout",u===y.IOS&&"FixedLayout--ios",s&&"FixedLayout--filled","FixedLayout--".concat(o)),style:(0,w.default)((0,w.default)({},n),{},{width:p})}),(0,S.createScopedElement)("div",{vkuiClass:"FixedLayout__in",ref:l},t))},Ge=["wide","expanded"],je=function(e){var t=e.wide,n=e.expanded,o=(0,i.default)(e,Ge);return(0,S.createScopedElement)("div",(0,r.default)({},o,{"aria-hidden":"true",vkuiClass:(0,C.classNames)("Separator",t&&"Separator--wide",!t&&"Separator--padded")}),(0,S.createScopedElement)("div",{vkuiClass:(0,C.classNames)("Separator__in",n&&"Separator__in--expanded")}))},Ue=g.createContext({updateModalHeight:function(){},registerModal:function(){},isInsideModal:!1});function qe(e,t){var n=g.useContext(Ue),o=g.useRef({}).current;return(0,N.useIsomorphicLayoutEffect)((function(){if(void 0!==e){n.registerModal((0,w.default)((0,w.default)({},o),{},{type:t,id:e}));var a=Object.keys(o).reduce((function(e,t){return(0,w.default)((0,w.default)({},e),{},(0,h.default)({},t,null))}),{type:t,id:e});return function(){return n.registerModal(a)}}}),[]),{refs:g.useRef({modalElement:function(e){return o.modalElement=e},innerElement:function(e){return o.innerElement=e},headerElement:function(e){return o.headerElement=e},contentElement:function(e){return o.contentElement=e}}).current}}var Je=["size","separator","style"],Qe=function(e){var t=e.size,n=void 0===t?8:t,o=e.separator,a=e.style,l=(0,i.default)(e,Je),s=(0,w.default)({height:n},a);return(0,S.createScopedElement)("div",(0,r.default)({},l,{"aria-hidden":"true",vkuiClass:(0,C.classNames)("Spacing",!!o&&"Spacing--separator",(!0===o||"center"===o)&&"Spacing--separator-center","top"===o&&"Spacing--separator-top","bottom"===o&&"Spacing--separator-bottom"),style:s}))},Ze=["before","left","after","right","children","separator","visor","transparent","shadow","getRef","getRootRef","sizeX","sizeY","fixed"],$e=function(e){var t=e.before,n=e.after,o=e.separator,a=e.children,r=g.useContext(H.ConfigProviderContext).webviewType,i=g.useContext(Ue).isInsideModal,l=(0,ve.usePlatform)();return(0,S.createScopedElement)(g.Fragment,null,(0,S.createScopedElement)(de,{fixed:!0,vkuiClass:"PanelHeader__in"},(0,S.createScopedElement)("div",{vkuiClass:"PanelHeader__before"},t),(0,S.createScopedElement)("div",{vkuiClass:"PanelHeader__content"},l===y.VKCOM?(0,S.createScopedElement)(He,{weight:"2"},a):(0,S.createScopedElement)("span",{vkuiClass:"PanelHeader__content-in"},a)),(0,S.createScopedElement)("div",{vkuiClass:"PanelHeader__after"},(r===H.WebviewType.INTERNAL||i)&&n)),o&&l===y.VKCOM&&(0,S.createScopedElement)(je,{wide:!0}))},et=((0,ne.warnOnce)("PanelHeader"),pe((function(e){var t=e.before,n=e.left,o=e.after,a=e.right,l=e.children,s=e.separator,c=void 0===s||s,u=e.visor,d=void 0===u||u,f=e.transparent,p=void 0!==f&&f,v=e.shadow,m=e.getRef,h=e.getRootRef,E=e.sizeX,k=(e.sizeY,e.fixed),b=(0,i.default)(e,Ze),w=(0,ve.usePlatform)(),_=g.useContext(H.ConfigProviderContext).webviewType,R=g.useContext(Ue).isInsideModal,M=v&&E===fe.SizeType.REGULAR,P=void 0!==k?k:w!==y.Platform.VKCOM,A=null!=t?t:n,O=null!=o?o:a;var T={before:A,after:O,separator:c,children:l};return(0,S.createScopedElement)("div",(0,r.default)({},b,{vkuiClass:(0,C.classNames)((0,se.getClassName)("PanelHeader",w),{"PanelHeader--trnsp":p,"PanelHeader--shadow":M,"PanelHeader--vis":d,"PanelHeader--sep":c&&d,"PanelHeader--vkapps":_===H.WebviewType.VKAPPS&&!R,"PanelHeader--no-before":!A,"PanelHeader--no-after":!O,"PanelHeader--fixed":P},"PanelHeader--sizeX-".concat(E)),ref:P?h:m}),P?(0,S.createScopedElement)(Ke,{vkuiClass:"PanelHeader__fixed",vertical:"top",getRootRef:m},(0,S.createScopedElement)($e,T)):(0,S.createScopedElement)($e,T),c&&d&&w!==y.VKCOM&&(E===fe.SizeType.REGULAR?(0,S.createScopedElement)(Qe,{size:16}):(0,S.createScopedElement)(je,null)))}),{sizeX:!0,sizeY:!0})),tt=["popout","modal","viewWidth","viewHeight","hasMouse","children","getRootRef"],nt=function(e){var t=e.popout,n=e.modal,o=(e.viewWidth,e.viewHeight,e.hasMouse,e.children),a=e.getRootRef,l=(0,i.default)(e,tt),s=(0,O.useDOM)().document,c=(0,De.useAdaptivityIsDesktop)();return g.useEffect((function(){t&&(0,O.blurActiveElement)(s)}),[s,t]),(0,S.createScopedElement)("div",(0,r.default)({},l,{vkuiClass:"PopoutRoot",ref:a}),o,(0,S.createScopedElement)(J.AppRootPortal,null,!!t&&(0,S.createScopedElement)("div",{vkuiClass:c?"PopoutRoot--absolute":"PopoutRoot__popout"},t),!!n&&(0,S.createScopedElement)("div",{vkuiClass:"PopoutRoot__modal"},n)))};nt.displayName="PopoutRoot";var ot=pe(nt,{viewWidth:!0,viewHeight:!0,hasMouse:!0}),at=["popout","modal","header","children","getRootRef","getRef"],rt=function(e){var t=e.popout,n=e.modal,o=e.header,a=e.children,l=e.getRootRef,s=e.getRef,c=(0,i.default)(e,at),u=(0,ve.usePlatform)();return(0,S.createScopedElement)(ot,{vkuiClass:(0,se.getClassName)("SplitLayout",u),popout:t,modal:n,getRootRef:l},o,(0,S.createScopedElement)("div",(0,r.default)({},c,{ref:s,vkuiClass:(0,C.classNames)("SplitLayout__inner",{"SplitLayout__inner--header":!!o})}),a))},it=n(65919),lt=function(e){var t=e.onClick,n=e.direction;return(0,S.createScopedElement)(Ie,{Component:"button",hasHover:!1,hasActive:!1,vkuiClass:(0,C.classNames)("HorizontalScrollArrow","HorizontalScrollArrow--".concat(n)),onClick:t},(0,S.createScopedElement)("span",{vkuiClass:"HorizontalScrollArrow__icon"},(0,S.createScopedElement)(it.default,null)))};var st=["children","getScrollToLeft","getScrollToRight","showArrows","scrollAnimationDuration","hasMouse","getRef"];function ct(){return performance&&performance.now?performance.now():Date.now()}var ut=function(e){return Math.ceil(e.scrollLeft)};function dt(e){var t=e.scrollElement,n=e.getScrollPosition,o=e.animationQueue,a=e.onScrollToRightBorder,r=e.onScrollEnd,i=e.onScrollStart,l=e.initialScrollWidth,s=e.scrollAnimationDuration,c=void 0===s?250:s;if(t&&n){var u=l-t.offsetWidth,d=ut(t),f=n(d);i(),f>=u&&(a(),f=u);var p=ct();!function e(){if(t){var n,a=ct(),i=Math.min((a-p)/c,1),l=(n=i,.5*(1-Math.cos(Math.PI*n))),s=d+(f-d)*l;t.scrollLeft=Math.ceil(s),ut(t)===Math.max(0,f)||1===i?(r(),o.shift(),o.length>0&&o[0]()):requestAnimationFrame(e)}else r()}()}}var ft=pe((function(e){var t=e.children,n=e.getScrollToLeft,o=e.getScrollToRight,a=e.showArrows,l=void 0===a||a,s=e.scrollAnimationDuration,c=void 0===s?250:s,u=e.hasMouse,d=e.getRef,f=(0,i.default)(e,st),p=g.useState(!1),v=(0,W.default)(p,2),m=v[0],E=v[1],k=g.useState(!1),b=(0,W.default)(k,2),y=b[0],w=b[1],_=g.useRef(!1),R=(0,T.useExternRef)(d),M=g.useRef([]),P=g.useCallback((function(e){var t=R.current;M.current.push((function(){var n;return dt({scrollElement:t,getScrollPosition:e,animationQueue:M.current,onScrollToRightBorder:function(){return w(!1)},onScrollEnd:function(){return _.current=!1},onScrollStart:function(){return _.current=!0},initialScrollWidth:(null==t||null===(n=t.firstElementChild)||void 0===n?void 0:n.scrollWidth)||0,scrollAnimationDuration:c})})),1===M.current.length&&M.current[0]()}),[c,R]),A=g.useCallback((function(){P(null!=n?n:function(e){return e-R.current.offsetWidth})}),[n,P,R]),O=g.useCallback((function(){P(null!=o?o:function(e){return e+R.current.offsetWidth})}),[o,P,R]),N=g.useCallback((function(){if(l&&u&&R.current&&!_.current){var e=R.current;E(e.scrollLeft>0),w(ut(e)+e.offsetWidth<e.scrollWidth)}}),[u,R,l]),I=(0,x.useEventListener)("scroll",N);return g.useEffect((function(){R.current&&I.add(R.current)}),[I,R]),g.useEffect(N,[R,t,N]),(0,S.createScopedElement)("div",(0,r.default)({},f,{vkuiClass:(0,C.classNames)("HorizontalScroll",(0,h.default)({},"HorizontalScroll--withConstArrows","always"===l))}),l&&u&&m&&(0,S.createScopedElement)(lt,{direction:"left",onClick:A}),l&&u&&y&&(0,S.createScopedElement)(lt,{direction:"right",onClick:O}),(0,S.createScopedElement)("div",{vkuiClass:"HorizontalScroll__in",ref:R},(0,S.createScopedElement)("div",{vkuiClass:"HorizontalScroll__in-wrapper"},t)))}),{hasMouse:!0}),pt=["alignY","alignX","closing","hasMask","fixed","children","onClick"],vt=function(e){var t=e.alignY,n=void 0===t?"center":t,o=e.alignX,a=void 0===o?"center":o,l=e.closing,s=void 0!==l&&l,c=e.hasMask,u=void 0===c||c,d=e.fixed,f=void 0===d||d,p=e.children,v=e.onClick,m=(0,i.default)(e,pt),h=(0,ve.usePlatform)(),E=g.useState(!u),k=(0,W.default)(E,2),b=k[0],w=k[1],_=g.useRef(null),R=function(e){e&&"vkui-animation-full-fade-in"!==e.animationName||w(!0)},M=(0,ye.useTimeout)(R,h===y.IOS?300:200);return g.useEffect((function(){!b&&M.set()}),[M,b]),Fe((0,O.useDOM)().window,"touchmove",(function(e){return e.preventDefault()}),{passive:!1}),(0,S.createScopedElement)("div",(0,r.default)({},m,{vkuiClass:(0,C.classNames)("PopoutWrapper","PopoutWrapper--v-".concat(n),"PopoutWrapper--h-".concat(a),s&&"PopoutWrapper--closing",b&&"PopoutWrapper--opened",f&&"PopoutWrapper--fixed",u&&"PopoutWrapper--masked"),onAnimationEnd:b?void 0:R,ref:_}),(0,S.createScopedElement)("div",{vkuiClass:"PopoutWrapper__container"},(0,S.createScopedElement)("div",{vkuiClass:"PopoutWrapper__overlay",onClick:v}),(0,S.createScopedElement)("div",{vkuiClass:"PopoutWrapper__content"},p)))},mt=n(97284),ht=["children","weight","level","caps","Component"],St=((0,ne.warnOnce)("Caption"),function(e){var t=e.children,n=e.weight,o=e.level,a=void 0===o?"1":o,l=e.caps,s=e.Component,c=void 0===s?"span":s,u=(0,i.default)(e,ht);return(0,S.createScopedElement)(c,(0,r.default)({},u,{vkuiClass:(0,C.classNames)("Caption","Caption--l-".concat(a),l&&"Caption--caps",n&&"Caption--w-".concat(n))}),t)}),gt=n(11971),Ct=n(25954),Et=n(15955),kt=n(63642),bt=["size","aria-label"],yt=g.memo((function(e){var t=e.size,n=void 0===t?"regular":t,o=e["aria-label"],a=void 0===o?"Загружается...":o,l=(0,i.default)(e,bt),s={small:gt.default,regular:Ct.default,medium:Et.default,large:kt.default}[n];return(0,S.createScopedElement)("span",(0,r.default)({role:"status","aria-label":a},l,{vkuiClass:"Spinner"}),(0,S.createScopedElement)(s,{"aria-hidden":"true",vkuiClass:"Spinner__self"}))}));yt.displayName="Spinner";var wt=["children","weight","level","Component"],_t=function(e){var t=e.children,n=e.weight,o=void 0===n?"3":n,a=e.level,l=void 0===a?"1":a,s=e.Component,c=void 0===s?"h3":s,u=(0,i.default)(e,wt),d=(0,ve.usePlatform)(),f=(0,De.useAdaptivity)().sizeY;return(0,S.createScopedElement)(c,(0,r.default)({},u,{vkuiClass:(0,C.classNames)((0,se.getClassName)("Headline",d),"Headline--sizeY-".concat(f),"Headline--l-".concat(l),"Headline--w-".concat(o))}),t)},Rt=["size","sizeY","platform"],Mt=["size","mode","appearance","stretched","align","children","before","after","getRootRef","sizeY","Component","loading","onClick","stopPropagation"],Pt=function(e){var t=e.size,n=e.sizeY,o=e.platform,a=(0,i.default)(e,Rt),l=n===fe.SizeType.COMPACT;switch(t){case"l":return l?(0,S.createScopedElement)(He,(0,r.default)({weight:"2"},a)):o===y.ANDROID?(0,S.createScopedElement)(_t,(0,r.default)({weight:"2"},a)):(0,S.createScopedElement)(ze,(0,r.default)({level:"3",weight:"2"},a));case"m":return l?(0,S.createScopedElement)(mt.Subhead,(0,r.default)({weight:o===y.VKCOM?"3":"2"},a)):(0,S.createScopedElement)(He,(0,r.default)({weight:"2"},a));default:return o===y.IOS?(0,S.createScopedElement)(mt.Subhead,(0,r.default)({weight:"2"},a)):o===y.VKCOM?(0,S.createScopedElement)(St,a):l?(0,S.createScopedElement)(St,(0,r.default)({weight:"2"},a)):(0,S.createScopedElement)(mt.Subhead,(0,r.default)({weight:"2"},a))}};var At=pe((function(e){var t=e.size,n=void 0===t?"s":t,o=e.mode,a=void 0===o?"primary":o,l=e.appearance,s=e.stretched,c=void 0!==s&&s,u=e.align,d=void 0===u?"center":u,f=e.children,p=e.before,v=e.after,m=e.getRootRef,h=e.sizeY,E=e.Component,k=void 0===E?"button":E,b=e.loading,y=e.onClick,w=e.stopPropagation,_=void 0===w||w,R=(0,i.default)(e,Mt),M=(0,ve.usePlatform)(),P=Boolean(p||v),A=!f&&Boolean(v)!==Boolean(p),O=function(e,t){var n=e,o=t;if(void 0===e)switch(t){case"tertiary":case"secondary":case"primary":case"outline":n="accent";break;case"commerce":o="primary",n="positive";break;case"destructive":o="primary",n="negative";break;case"overlay_primary":o="primary",n="overlay";break;case"overlay_secondary":o="secondary",n="overlay";break;case"overlay_outline":o="outline",n="overlay"}return{resolvedAppearance:n,resolvedMode:o}}(l,a),T=O.resolvedMode,x=O.resolvedAppearance,N=g.useContext(H.ConfigProviderContext).hasNewTokens;return(0,S.createScopedElement)(Ie,(0,r.default)({},R,{Component:R.href?"a":k,onClick:b?void 0:y,focusVisibleMode:"outside",stopPropagation:_,vkuiClass:(0,C.classNames)("Button","Button--sz-".concat(n),"Button--lvl-".concat(T),"Button--clr-".concat(x),"Button--aln-".concat(d),"Button--sizeY-".concat(h),c&&"Button--stretched",P&&"Button--with-icon",A&&"Button--singleIcon",b&&"Button--loading"),getRootRef:m,hoverMode:N?"Button--hover":"background",activeMode:N?"Button--active":"opacity"}),b&&(0,S.createScopedElement)(yt,{size:"small",vkuiClass:"Button__spinner"}),(0,S.createScopedElement)("span",{vkuiClass:"Button__in"},p&&(0,S.createScopedElement)("span",{vkuiClass:"Button__before",role:"presentation"},p),f&&(0,S.createScopedElement)(Pt,{size:n,sizeY:h,platform:M,vkuiClass:"Button__content",Component:"span"},f),v&&(0,S.createScopedElement)("span",{vkuiClass:"Button__after",role:"presentation"},v)))}),{sizeY:!0}),Ot=n(48056),Tt=["aria-label"],xt=function(e){var t=e["aria-label"],n=void 0===t?"Закрыть":t,o=(0,i.default)(e,Tt),a=(0,ve.usePlatform)();return(0,S.createScopedElement)(Ie,(0,r.default)({vkuiClass:(0,se.getClassName)("ModalDismissButton",a)},o,{"aria-label":n,activeMode:"ModalDismissButton--active",hoverMode:"ModalDismissButton--hover"}),(0,S.createScopedElement)(Ot.default,null))},Nt=["Component","onClose","restoreFocus","timeout","getRootRef","children"],It=["a[href]","area[href]",'input:not([disabled]):not([hidden]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([hidden]):not([aria-hidden])","textarea:not([disabled])","button:not([disabled])","iframe","audio","video","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(),Dt=function(e){var t=e.Component,n=void 0===t?"div":t,o=e.onClose,a=void 0===o?V.noop:o,l=e.restoreFocus,s=void 0===l||l,c=e.timeout,u=void 0===c?0:c,d=e.getRootRef,f=e.children,p=(0,i.default)(e,Nt),v=(0,T.useExternRef)(d),m=(0,O.useDOM)(),h=m.document,C=m.window,E=g.useState(null),k=(0,W.default)(E,2),b=k[0],y=k[1],w=g.useState(null),_=(0,W.default)(w,2),R=_[0],M=_[1],P=g.useContext(we.AppRootContext).keyboardInput,A=(0,ye.useTimeout)((function(){var e;!P||null!==(e=v.current)&&void 0!==e&&e.contains(h.activeElement)||null==b||!b.length||b[0].focus()}),u);(0,N.useIsomorphicLayoutEffect)((function(){A.set()}),[]),(0,N.useIsomorphicLayoutEffect)((function(){if(!v.current)return(0,V.noop)();var e=[];return Array.prototype.forEach.call(v.current.querySelectorAll(It),(function(t){var n=C.getComputedStyle(t),o=n.display,a=n.visibility;"none"!==o&&"hidden"!==a&&e.push(t)})),null!=e&&e.length&&y(e),(0,V.noop)()}),[f]);var x=(0,ye.useTimeout)((function(){R&&R.focus()}),u);(0,N.useIsomorphicLayoutEffect)((function(){return s&&h.activeElement?(M(h.activeElement),function(){x.set()}):(0,V.noop)()}),[s]);return Fe(h,"keydown",(function(e){if(ke(e)===Ce.TAB&&null!=b&&b.length){var t=b.length-1,n=b.findIndex((function(t){return t===e.target})),o=-1===n||n===t&&!e.shiftKey;if(o||0===n&&e.shiftKey){e.preventDefault();var r=b[o?0:t];return r!==h.activeElement&&r.focus(),!1}}return ke(e)===Ce.ESCAPE&&a(),!0}),{capture:!0}),(0,S.createScopedElement)(n,(0,r.default)({ref:v},p),f)},Lt=function(){var e=g.useRef(null),t=(0,O.useDOM)().document;return{waitTransitionFinish:g.useCallback((function(n,o,a){n&&(null!=t&&t.hidden||!b.supported||!b.name?(null!=e&&e.current&&clearTimeout(e.current),e.current=setTimeout(o,a)):(n.removeEventListener(b.name,o),n.addEventListener(b.name,o)))}),[t,e])}},Ht=["action","onItemClick"],Bt=["actions","actionsLayout","children","className","style","text","header","onClose","dismissLabel"],zt=function(e){return(0,ve.usePlatform)()===y.IOS?(0,S.createScopedElement)(ze,(0,r.default)({vkuiClass:"Alert__header",weight:"1",level:"3"},e)):(0,S.createScopedElement)(ze,(0,r.default)({vkuiClass:"Alert__header",weight:"2",level:"2"},e))},Wt=function(e){switch((0,ve.usePlatform)()){case y.VKCOM:return(0,S.createScopedElement)(St,(0,r.default)({vkuiClass:"Alert__text"},e));case y.IOS:return(0,S.createScopedElement)(St,(0,r.default)({vkuiClass:"Alert__text",level:"2"},e));default:return(0,S.createScopedElement)(He,(0,r.default)({Component:"span",vkuiClass:"Alert__text",weight:"3"},e))}},Vt=function(e){var t=e.action,n=e.onItemClick,o=(0,i.default)(e,Ht),a=(0,ve.usePlatform)(),l=(0,De.useAdaptivity)().viewWidth,s=g.useCallback((function(){return n(t)}),[n,t]);if(a===y.IOS){var c=t.Component,u=void 0===c?"button":c;return(0,S.createScopedElement)(Ie,(0,r.default)({Component:t.href?"a":u,vkuiClass:(0,C.classNames)("Alert__action","Alert__action--".concat(t.mode)),onClick:s,href:t.href,target:t.target},o),t.title)}var d="cancel"===t.mode?"secondary":"primary";return a===y.ANDROID&&(d="tertiary",l===fe.ViewWidth.DESKTOP&&"destructive"===t.mode&&(d="destructive")),(0,S.createScopedElement)(At,{vkuiClass:(0,C.classNames)("Alert__button","Alert__button--".concat(t.mode)),mode:d,size:"m",onClick:s,Component:t.Component,href:t.href,target:t.target},t.title)},Yt=function(e){var t=e.actions,n=void 0===t?[]:t,o=e.actionsLayout,a=void 0===o?"horizontal":o,l=e.children,s=e.className,c=e.style,u=e.text,d=e.header,f=e.onClose,p=e.dismissLabel,v=void 0===p?"Закрыть предупреждение":p,m=(0,i.default)(e,Bt),h=(0,ve.usePlatform)(),E=(0,De.useAdaptivity)().viewWidth,k=Lt().waitTransitionFinish,b=g.useState(!1),w=(0,W.default)(b,2),_=w[0],R=w[1],M=g.useRef(null),P=h===y.VKCOM?"horizontal":a,A=h===y.VKCOM||h===y.ANDROID&&E>=fe.ViewWidth.SMALL_TABLET,O=E>=fe.ViewWidth.SMALL_TABLET,T=h===y.ANDROID||h===y.VKCOM?200:300,x=g.useCallback((function(){R(!0),k(M.current,(function(e){e&&"opacity"!==e.propertyName||f&&f()}),T)}),[M,k,f,T]),N=g.useCallback((function(e){var t=e.action;e.autoclose?(R(!0),k(M.current,(function(e){e&&"opacity"!==e.propertyName||(f&&f(),t&&t())}),T)):t&&t()}),[M,k,f,T]);return U(),(0,S.createScopedElement)(vt,{className:s,closing:_,style:c,onClick:x},(0,S.createScopedElement)(Dt,(0,r.default)({},m,{getRootRef:M,onClick:V.stopPropagation,onClose:x,timeout:T,vkuiClass:(0,C.classNames)((0,se.getClassName)("Alert",h),"vertical"===P?"Alert--v":"Alert--h",_&&"Alert--closing",O&&"Alert--desktop"),role:"alertdialog","aria-modal":!0,"aria-labelledby":"vkui--alert--title","aria-describedby":"vkui--alert--desc"}),(0,S.createScopedElement)("div",{vkuiClass:"Alert__content"},(0,V.hasReactNode)(d)&&(0,S.createScopedElement)(zt,{id:"vkui--alert--title"},d),(0,V.hasReactNode)(u)&&(0,S.createScopedElement)(Wt,{id:"vkui--alert--desc"},u),l),(0,S.createScopedElement)("div",{vkuiClass:"Alert__actions"},n.map((function(e,t){return(0,S.createScopedElement)(Vt,{key:t,action:e,onItemClick:N})}))),A&&(0,S.createScopedElement)(xt,{onClick:x,"aria-label":v})))},Ft=V.noop,Xt=n(56812),Kt=["children","toggleRef","closing","popupDirection","onClose","className","style"],Gt=(0,ne.warnOnce)("ActionSheet");var jt=function(e){var t=e.children,n=e.toggleRef,o=(e.closing,e.popupDirection),a=e.onClose,l=e.className,s=e.style,c=(0,i.default)(e,Kt),u=(0,O.useDOM)().document,d=(0,ve.usePlatform)(),f=(0,De.useAdaptivity)().sizeY,v=g.useRef(null);Ft((function(){var e;((e=n)&&"current"in e?e.current:e)||Gt('Свойство "toggleRef" не передано',"error")}),[n]);var m=g.useMemo((function(){return"top"===o||"function"==typeof o&&"top"===o(v)}),[o,v]),h=(0,x.useEventListener)("click",(function(e){var t=null==v?void 0:v.current;t&&!t.contains(e.target)&&(null==a||a())}));g.useEffect((function(){setTimeout((function(){h.add(u.body)}))}),[h,u]);var E=g.useCallback((function(e){return e.stopPropagation()}),[]),k=g.useMemo((function(){return function(e){return"object"===(0,p.default)(e)&&null!==e&&e.hasOwnProperty("current")}(n)?n:{current:n}}),[n]);return(0,S.createScopedElement)(Xt.Popper,{targetRef:k,offsetDistance:0,placement:m?"top-end":"bottom-end",vkuiClass:(0,C.classNames)((0,se.getClassName)("ActionSheet",d),"ActionSheet--desktop","ActionSheet--sizeY-".concat(f)),className:l,style:s,getRef:v,forcePortal:!1},(0,S.createScopedElement)(Dt,(0,r.default)({onClose:a},c,{onClick:E}),t))},Ut=["children","closing","toggleRef","popupDirection"],qt=function(e){return e.stopPropagation()},Jt=function(e){var t=e.children,n=e.closing,o=(e.toggleRef,e.popupDirection,(0,i.default)(e,Ut)),a=(0,ve.usePlatform)(),l=(0,se.getClassName)("ActionSheet",a);return(0,S.createScopedElement)(Dt,(0,r.default)({},o,{onClick:qt,vkuiClass:(0,C.classNames)(l,{"ActionSheet--closing":n})}),t)},Qt=g.createContext({}),Zt=["children","className","header","text","style","iosCloseItem"],$t=((0,ne.warnOnce)("ActionSheet"),function(e){var t=e.children,n=e.className,o=e.header,a=e.text,l=e.style,s=e.iosCloseItem,c=(0,i.default)(e,Zt),u=(0,ve.usePlatform)(),d=g.useState(!1),f=(0,W.default)(d,2),p=f[0],v=f[1],m=function(){return v(!0)},h=g.useRef(V.noop);var C=(0,De.useAdaptivityIsDesktop)();U(!C);var E=u===y.IOS?300:200;C&&(E=0);var k=(0,ye.useTimeout)((function(){var e;null===(e=c.onClose)||void 0===e||e.call(c),h.current(),h.current=V.noop}),E);g.useEffect((function(){p?k.set():k.clear()}),[p,k]);var b=Q({onItemClick:g.useCallback((function(e,t,n){return function(o){o.persist(),t&&t(o),n?(h.current=function(){return e&&e(o)},v(!0)):e&&e(o)}}),[]),isDesktop:C}),w=C?jt:Jt,_=(0,S.createScopedElement)(Qt.Provider,{value:b},(0,S.createScopedElement)(w,(0,r.default)({closing:p,timeout:E},c,{onClose:m,className:C?n:void 0,style:C?l:void 0}),((0,V.hasReactNode)(o)||(0,V.hasReactNode)(a))&&(0,S.createScopedElement)("header",{vkuiClass:"ActionSheet__header"},(0,V.hasReactNode)(o)&&(0,S.createScopedElement)(St,{weight:u===y.IOS?"1":"2",vkuiClass:"ActionSheet__title"},o),(0,V.hasReactNode)(a)&&(0,S.createScopedElement)(St,{vkuiClass:"ActionSheet__text"},a)),t,u===y.IOS&&!C&&s));return C?_:(0,S.createScopedElement)(vt,{closing:p,alignY:"bottom",className:n,style:l,onClick:m,hasMask:!0,fixed:!0},_)});$t.defaultProps={popupDirection:"bottom"};var en=n(8002),tn=n(38952),nn=["children","autoclose","mode","meta","subtitle","before","selectable","value","name","checked","defaultChecked","onChange","onClick","sizeY","onImmediateClick"],on=pe((function(e){var t=e.children,n=e.autoclose,o=e.mode,a=void 0===o?"default":o,l=e.meta,s=e.subtitle,c=e.before,u=e.selectable,d=e.value,f=e.name,p=e.checked,v=e.defaultChecked,m=e.onChange,h=e.onClick,E=e.sizeY,k=e.onImmediateClick,b=(0,i.default)(e,nn),w=(0,ve.usePlatform)(),_=g.useContext(Qt),R=_.onItemClick,M=void 0===R?function(){return V.noop}:R,P=_.isDesktop,A=b.href?"a":"div";u&&(A="label");var O=(0,V.hasReactNode)(s)||(0,V.hasReactNode)(l)||u;return(0,S.createScopedElement)(Ie,(0,r.default)({},b,{onClick:u?h:M(h,k,Boolean(n)),activeMode:"ActionSheetItem--active",vkuiClass:(0,C.classNames)((0,se.getClassName)("ActionSheetItem",w),"ActionSheetItem--".concat(a),"ActionSheetItem--sizeY-".concat(E),{"ActionSheetItem--compact":O,"ActionSheetItem--desktop":P,"ActionSheetItem--withSubtitle":(0,V.hasReactNode)(s)}),Component:A}),(0,V.hasReactNode)(c)&&(0,S.createScopedElement)("div",{vkuiClass:"ActionSheetItem__before"},c),(0,S.createScopedElement)("div",{vkuiClass:"ActionSheetItem__container"},(0,S.createScopedElement)("div",{vkuiClass:"ActionSheetItem__content"},E===fe.SizeType.COMPACT?(0,S.createScopedElement)(g.Fragment,null,(0,S.createScopedElement)(He,{weight:"cancel"===a?"2":void 0,vkuiClass:"ActionSheetItem__children"},t),(0,V.hasReactNode)(l)&&(0,S.createScopedElement)(He,{vkuiClass:"ActionSheetItem__meta"},l)):(0,S.createScopedElement)(g.Fragment,null,w===y.ANDROID?(0,S.createScopedElement)(_t,{weight:"cancel"===a?"2":"3"},t):(0,S.createScopedElement)(ze,{weight:"cancel"===a?"2":"3",level:O||(0,V.hasReactNode)(c)?"3":"2",vkuiClass:"ActionSheetItem__children"},t),(0,V.hasReactNode)(l)&&(w===y.ANDROID?(0,S.createScopedElement)(_t,{weight:"cancel"===a?"2":"3"},t):(0,S.createScopedElement)(ze,{weight:"3",level:O||(0,V.hasReactNode)(c)?"3":"2",vkuiClass:"ActionSheetItem__meta"},l)))),(0,V.hasReactNode)(s)&&(E===fe.SizeType.COMPACT?(0,S.createScopedElement)(St,{vkuiClass:"ActionSheetItem__subtitle"},s):(0,S.createScopedElement)(mt.Subhead,{vkuiClass:"ActionSheetItem__subtitle"},s))),u&&(0,S.createScopedElement)("div",{vkuiClass:"ActionSheetItem__after"},(0,S.createScopedElement)("input",{type:"radio",vkuiClass:"ActionSheetItem__radio",name:f,value:d,onChange:m,onClick:M(V.noop,V.noop,Boolean(n)),defaultChecked:v,checked:p,disabled:b.disabled}),(0,S.createScopedElement)("div",{vkuiClass:"ActionSheetItem__marker"},w===y.VKCOM?(0,S.createScopedElement)(en.default,null):(0,S.createScopedElement)(tn.default,null))))}),{sizeY:!0}),an=["children","layout","action","before","after","viewWidth","duration","onActionClick","onClose"],rn=function(e){var t=e.children,n=e.layout,o=e.action,a=e.before,l=e.after,s=e.viewWidth,c=e.duration,u=void 0===c?0:c,d=e.onActionClick,f=e.onClose,p=(0,i.default)(e,an),v=(0,ve.usePlatform)(),m=Lt().waitTransitionFinish,h=g.useState(!1),E=(0,W.default)(h,2),k=E[0],b=E[1],w=g.useState(!1),_=(0,W.default)(w,2),R=_[0],M=_[1],P=g.useRef(0),O=g.useRef(0),T=g.useRef(null),x=g.useRef(null),N=g.useRef(null),I=s>=fe.ViewWidth.SMALL_TABLET,L=v===y.ANDROID||v===y.VKCOM?400:320,H=function(){b(!0),m(x.current,(function(){f()}),L)},B=(0,ye.useTimeout)(H,u),z=function(e){null!==N.current&&cancelAnimationFrame(N.current),N.current=requestAnimationFrame((function(){T.current&&(T.current.style.transform="translate3d(".concat(e,"%, 0, 0)"))}))},V=B.clear;g.useEffect((function(){return B.set()}),[B]);var Y=l||I?"vertical":n;return(0,S.createScopedElement)(J.AppRootPortal,null,(0,S.createScopedElement)("div",(0,r.default)({},p,{vkuiClass:(0,C.classNames)((0,se.getClassName)("Snackbar",v),"Snackbar--l-".concat(Y),{"Snackbar--closing":k,"Snackbar--touched":R,"Snackbar--desktop":I})}),(0,S.createScopedElement)(D,{vkuiClass:"Snackbar__in",getRootRef:x,onStart:V,onMoveX:function(e){var t,n,o=e.shiftX;e.originalEvent.preventDefault(),R||M(!0),P.current=o/(null!==(t=null===(n=T.current)||void 0===n?void 0:n.offsetWidth)&&void 0!==t?t:0)*100,O.current=A(P.current,72,1.2,v===y.ANDROID||v===y.VKCOM),z(O.current)},onEnd:function(e){var t;if(R){var n=O.current;n+=n/e.duration*240*.6,I&&n<=-50?(B.clear(),m(T.current,(function(){f()}),L),z(-120)):!I&&n>=50?(B.clear(),m(T.current,(function(){f()}),L),z(120)):t=function(){B.set(),z(0)}}else B.set();M(!1),t&&requestAnimationFrame(t)}},(0,S.createScopedElement)("div",{vkuiClass:"Snackbar__body",ref:T},a&&(0,S.createScopedElement)("div",{vkuiClass:"Snackbar__before"},a),(0,S.createScopedElement)("div",{vkuiClass:"Snackbar__content"},(0,S.createScopedElement)(He,{vkuiClass:"Snackbar__content-text"},t),o&&(0,S.createScopedElement)(At,{align:"left",hasHover:!1,mode:"tertiary",size:"s",vkuiClass:"Snackbar__action",onClick:function(e){H(),o&&"function"==typeof d&&d(e)}},o)),l&&(0,S.createScopedElement)("div",{vkuiClass:"Snackbar__after"},l)))))};rn.displayName="Snackbar",rn.defaultProps={duration:4e3,layout:"horizontal"};var ln,sn=pe(rn,{viewWidth:!0});!function(e){e.PAGE="page",e.CARD="card"}(ln||(ln={}));function cn(e){return g.Children.toArray(e)}(0,ne.warnOnce)("ModalRoot");function un(e,t){if("setActive"===t.type&&t.id!==e.activeModal){var n=t.id,o=e.exitingModal||e.activeModal,a=e.history?(0,Se.default)(e.history):[],r=Boolean(n&&a.includes(n));return null===n?a=[]:r?a=a.splice(0,a.indexOf(n)+1):a.push(n),{activeModal:n,enteringModal:null,exitingModal:o,history:a,isBack:r}}return"entered"===t.type&&t.id===e.enteringModal?(0,w.default)((0,w.default)({},e),{},{enteringModal:null}):"exited"===t.type&&t.id===e.exitingModal?(0,w.default)((0,w.default)({},e),{},{exitingModal:null}):"inited"===t.type&&t.id===e.activeModal?(0,w.default)((0,w.default)({},e),{},{enteringModal:t.id}):e}function dn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:V.noop,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:V.noop,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:V.noop,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:V.noop,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:V.noop,l=g.useRef({}).current;cn(t).forEach((function(e){var t=e.props,n=te(t),o=void 0!==n&&l[n]||{id:null!=n?n:null};o.onOpen=e.props.onOpen,o.onOpened=e.props.onOpened,o.onClose=e.props.onClose,o.onClosed=e.props.onClosed,o.dynamicContentHeight=!!t.dynamicContentHeight,"number"==typeof t.settlingHeight&&(o.settlingHeight=t.settlingHeight),null!==o.id&&(l[o.id]=o)}));var s=e&&!l[e],c=s?null:e,u=g.useReducer(un,{activeModal:c,enteringModal:null,exitingModal:null,history:c?[c]:[],isBack:!1}),d=(0,W.default)(u,2),f=d[0],p=d[1];(0,N.useIsomorphicLayoutEffect)((function(){p({type:"setActive",id:null!=c?c:null})}),[e]),(0,N.useIsomorphicLayoutEffect)((function(){f.activeModal&&(i(l[f.activeModal]),p({type:"inited",id:f.activeModal}))}),[f.activeModal]);var v=function(e){var t;return null!=e&&(null===(t=l[e])||void 0===t?void 0:t.type)===ln.CARD},m=g.useCallback((function(e){if(e){var t=l[e];(0,V.isFunction)(t.onOpened)?t.onOpened():(0,V.isFunction)(o)&&o(e)}p({type:"entered",id:e})}),[l,o]),h=g.useCallback((function(e){if(e){var t=l[e];(0,V.isFunction)(t.onClosed)?t.onClosed():(0,V.isFunction)(r)&&r(e)}p({type:"exited",id:e})}),[l,r]),S=Boolean(f.exitingModal&&(v(e)||v(f.exitingModal))),C=g.useCallback((function(e){return l[e]}),[l]);function E(){var e=f.activeModal&&l[f.activeModal];e&&((0,V.isFunction)(e.onOpen)?e.onOpen():(0,V.isFunction)(n)&&n(e.id))}function k(){var e=f.activeModal&&l[f.activeModal];e&&((0,V.isFunction)(e.onClose)?e.onClose():(0,V.isFunction)(a)&&a(e.id))}return(0,w.default)((0,w.default)({onEnter:E,onEntered:m,onExit:k,onExited:h},f),{},{delayEnter:S,getModalState:C})}function fn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V.noop;return function(t){return function(n){var o=dn(n.activeModal,n.children,n.onOpen,n.onOpened,n.onClose,n.onClosed,e);return(0,S.createScopedElement)(t,(0,r.default)({},n,o))}}}var pn=["id"],vn=(0,ne.warnOnce)("ModalRoot");function mn(e,t){return!!t&&(e>=t[0]&&e<=t[1])}function hn(e){return Math.max(0,Math.min(98,e))}var Sn=function(e){d(n,e);var t=m(n);function n(e){var o;return(0,l.default)(this,n),o=t.call(this,e),(0,h.default)(c(o),"documentScrolling",!1),(0,h.default)(c(o),"maskElementRef",void 0),(0,h.default)(c(o),"viewportRef",g.createRef()),(0,h.default)(c(o),"maskAnimationFrame",void 0),(0,h.default)(c(o),"modalRootContext",void 0),(0,h.default)(c(o),"frameIds",void 0),(0,h.default)(c(o),"restoreFocusTo",void 0),(0,h.default)(c(o),"preventTouch",(function(e){if(!e)return!1;for(;e.originalEvent;)e=e.originalEvent;return e.preventDefault&&e.preventDefault(),!1})),(0,h.default)(c(o),"updateModalTranslate",(function(){var e=o.getModalState(o.props.activeModal);e&&o.animateTranslate(e,e.translateY)})),(0,h.default)(c(o),"updateModalHeight",(function(){var e=o.getModalState(o.props.activeModal);e&&e.type===ln.PAGE&&e.dynamicContentHeight&&(o.props.enteringModal?o.waitTransitionFinish(e,(function(){requestAnimationFrame((function(){return o.checkPageContentHeight()}))})):requestAnimationFrame((function(){return o.checkPageContentHeight()})))})),(0,h.default)(c(o),"onTouchMove",(function(e){if(!o.props.exitingModal){var t=o.getModalState(o.props.activeModal);if(t)return t.type===ln.PAGE?o.onPageTouchMove(e,t):t.type===ln.CARD?o.onCardTouchMove(e,t):void 0}})),(0,h.default)(c(o),"onTouchEnd",(function(e){var t=o.getModalState(o.props.activeModal);return(null==t?void 0:t.type)===ln.PAGE?o.onPageTouchEnd(e,t):(null==t?void 0:t.type)===ln.CARD?o.onCardTouchEnd(e,t):void 0})),(0,h.default)(c(o),"onScroll",(function(e){var t,n=o.props.activeModal,a=e.target;if(n){var r=o.getModalState(n);(null==r?void 0:r.type)===ln.PAGE&&null!=r&&null!==(t=r.contentElement)&&void 0!==t&&t.contains(a)&&(r.contentScrolled=!0,r.contentScrollStopTimeout&&clearTimeout(r.contentScrollStopTimeout),r.contentScrollStopTimeout=setTimeout((function(){r.contentScrolled&&(r.contentScrolled=!1)}),250))}})),o.state={touchDown:!1,dragging:!1},o.maskElementRef=g.createRef(),o.modalRootContext={updateModalHeight:o.updateModalHeight,registerModal:function(e){var t=e.id,n=(0,i.default)(e,pn);return Object.assign(o.getModalState(t),n)},onClose:function(){return o.props.onExit()},isInsideModal:!0},o.frameIds={},o}return(0,s.default)(n,[{key:"timeout",get:function(){return this.props.platform===y.ANDROID||this.props.platform===y.VKCOM?320:400}},{key:"document",get:function(){return this.props.document}},{key:"window",get:function(){return this.props.window}},{key:"getModalState",value:function(e){if(e)return this.props.getModalState(e)}},{key:"getModals",value:function(){return g.Children.toArray(this.props.children)}},{key:"componentDidMount",value:function(){var e;this.props.platform===y.IOS&&(null===(e=this.window)||void 0===e||e.addEventListener("resize",this.updateModalTranslate,!1))}},{key:"componentWillUnmount",value:function(){this.toggleDocumentScrolling(!0),this.window.removeEventListener("resize",this.updateModalTranslate,!1)}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.exitingModal&&this.props.exitingModal!==e.exitingModal&&this.closeModal(this.props.exitingModal),this.props.enteringModal&&this.props.enteringModal!==e.enteringModal){var n=this.props.enteringModal,o=this.getModalState(n);this.props.onEnter(),this.waitTransitionFinish(o,(function(){null!=o&&o.innerElement&&(o.innerElement.style.transitionDelay=""),t.props.onEntered(n)})),null!=o&&o.innerElement&&(o.innerElement.style.transitionDelay=this.props.delayEnter?"".concat(this.timeout,"ms"):"",this.animateTranslate(o,o.translateY))}this.props.activeModal&&!e.activeModal&&(this.restoreFocusTo=this.document.activeElement),this.props.activeModal||this.props.exitingModal||!this.restoreFocusTo||(this.restoreFocusTo.focus(),this.restoreFocusTo=null),this.toggleDocumentScrolling(!this.props.activeModal&&!this.props.exitingModal)}},{key:"toggleDocumentScrolling",value:function(e){this.documentScrolling!==e&&(this.documentScrolling=e,e?this.window.removeEventListener("touchmove",this.preventTouch,{passive:!1}):this.window.addEventListener("touchmove",this.preventTouch,{passive:!1}))}},{key:"checkPageContentHeight",value:function(){var e=this.getModalState(this.props.activeModal);if((null==e?void 0:e.type)===ln.PAGE&&null!=e&&e.modalElement){var t=(0,w.default)({},e);Cn(e);var n=(0,w.default)({},e),o=!1;t.expandable===n.expandable?t.translateYFrom!==n.translateYFrom&&(o=!0):o=!0,o&&this.animateTranslate(e,e.translateY)}}},{key:"closeModal",value:function(e){var t,n,o,a=this;this.setState({touchDown:!1});var r=this.getModalState(e);if(r){var i=this.getModalState(this.props.activeModal),l=!!i&&i.type===ln.PAGE,s=!!r&&r.type===ln.PAGE;this.waitTransitionFinish(r,(function(){return a.props.onExited(e)}));var c=s&&l&&(null!==(t=r.translateY)&&void 0!==t?t:0)<=(null!==(n=null==i?void 0:i.translateYFrom)&&void 0!==n?n:0)&&!this.props.isBack?(null!==(o=null==i?void 0:i.translateYFrom)&&void 0!==o?o:0)+10:100;this.animateTranslate(r,c),i||this.setMaskOpacity(r,0)}else e&&vn("closeActiveModal: модальное окно (страница) ".concat(e," не существует"),"error")}},{key:"onPageTouchMove",value:function(e,t){var n,o,a=e.shiftY,r=e.originalEvent,i=r.target;if(e.isY){if(null===(n=t.innerElement)||void 0===n||!n.contains(i))return r.preventDefault();r.stopPropagation();var l,s,c=t.expandable,u=t.contentScrolled,d=t.collapsed,f=t.expanded;if(!this.state.touchDown)t.touchStartContentScrollTop=null!==(l=null===(s=t.contentElement)||void 0===s?void 0:s.scrollTop)&&void 0!==l?l:0,this.setState({touchDown:!0});if(!u&&(null===t.touchMovePositive&&(t.touchMovePositive=a>0),!t.expandable||d||f&&t.touchMovePositive&&0===t.touchStartContentScrollTop||null!==(o=t.headerElement)&&void 0!==o&&o.contains(i))){var p;if(r.preventDefault(),!c&&a<0||!this.window)return;!this.state.dragging&&this.setState({dragging:!0});var v=a/this.window.innerHeight*100,m=A(v,72,.8,this.props.platform===y.ANDROID||this.props.platform===y.VKCOM);t.touchShiftYPercent=v,t.translateYCurrent=hn((null!==(p=t.translateY)&&void 0!==p?p:0)+m),this.animateTranslate(t,t.translateYCurrent),this.setMaskOpacity(t)}}else{var h;null!==(h=this.viewportRef.current)&&void 0!==h&&h.contains(i)&&r.preventDefault()}}},{key:"onCardTouchMove",value:function(e,t){var n,o=e.originalEvent,a=e.shiftY,r=o.target;if(null!==(n=t.innerElement)&&void 0!==n&&n.contains(r)){var i;this.state.touchDown||this.setState({touchDown:!0,dragging:!0});var l=a/t.innerElement.offsetHeight*100,s=A(l,72,1.2,this.props.platform===y.ANDROID||this.props.platform===y.VKCOM);t.touchShiftYPercent=l,t.translateYCurrent=Math.max(0,(null!==(i=t.translateY)&&void 0!==i?i:0)+s),this.animateTranslate(t,t.translateYCurrent),this.setMaskOpacity(t)}}},{key:"onPageTouchEnd",value:function(e,t){var n,o=this,a=e.startY,r=e.shiftY;if(t.contentScrolled=!1,t.touchMovePositive=null,this.state.dragging&&this.window){var i,l,s,c,u=(a+r)/this.window.innerHeight*100,d=null!==(i=t.translateYCurrent)&&void 0!==i?i:0;if(d=hn(d+d/e.duration*240*.6*((null!==(l=t.touchShiftYPercent)&&void 0!==l?l:0)<0?-1:1)),100!==t.settlingHeight)if(mn(d,t.expandedRange))d=null!==(s=null===(c=t.expandedRange)||void 0===c?void 0:c[0])&&void 0!==s?s:0;else if(mn(d,t.collapsedRange)){var f;d=null!==(f=t.translateYFrom)&&void 0!==f?f:0}else if(mn(d,t.hiddenRange))d=100;else{var p;d=null!==(p=t.translateYFrom)&&void 0!==p?p:0}else d=mn(d,[0,25])?0:100;100!==d&&u>=75&&(d=100),t.translateY=d,t.translateYCurrent=d,t.collapsed=d>0&&d<u,t.expanded=0===d,t.hidden=100===d,t.hidden&&this.props.onExit(),n=function(){t.hidden||o.animateTranslate(t,t.translateY),o.setMaskOpacity(t)}}this.setState({touchDown:!1,dragging:!1},n)}},{key:"onCardTouchEnd",value:function(e,t){var n,o=this,a=e.duration;if(this.state.dragging){var r,i,l=null!==(r=t.translateYCurrent)&&void 0!==r?r:0,s=l/a*240*.6*((null!==(i=t.touchShiftYPercent)&&void 0!==i?i:0)<0?-1:1);l=(l=Math.max(0,l+s))>=30?100:0,t.translateY=l,t.hidden=100===l,t.hidden&&this.props.onExit(),n=function(){t.hidden||o.animateTranslate(t,t.translateY),o.setMaskOpacity(t)}}this.setState({touchDown:!1,dragging:!1},n)}},{key:"waitTransitionFinish",value:function(e,t){if(b.supported){var n;null==e||null===(n=e.innerElement)||void 0===n||n.addEventListener(b.name,(function n(){var o;null==e||null===(o=e.innerElement)||void 0===o||o.removeEventListener(b.name,n),t()}))}else setTimeout(t,this.timeout)}},{key:"animateTranslate",value:function(e,t){var n="animateTranslateFrame".concat(e.id);cancelAnimationFrame(this.frameIds[n]),this.frameIds[n]=requestAnimationFrame((function(){var n,o;n=e.innerElement,o="translate3d(0, ".concat(t,"%, 0)"),n&&(n.style.transform=o,n.style.webkitTransform=o)}))}},{key:"setMaskOpacity",value:function(e){var t,n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===o&&(null===(t=this.props.history)||void 0===t?void 0:t[0])!==e.id||(this.maskAnimationFrame&&cancelAnimationFrame(this.maskAnimationFrame),this.maskAnimationFrame=requestAnimationFrame((function(){if(n.maskElementRef.current){var t=e.translateY,a=void 0===t?0:t,r=e.translateYCurrent,i=null===o?1-((void 0===r?0:r)-a)/(100-a)||0:o;n.maskElementRef.current.style.opacity=Math.max(0,Math.min(100,i)).toString()}})))}},{key:"render",value:function(){var e,t=this,n=this.props,o=n.activeModal,a=n.exitingModal,r=n.enteringModal,i=this.state,l=i.touchDown,s=i.dragging;return o||a?(0,S.createScopedElement)(ge.Provider,{value:!0},(0,S.createScopedElement)(Ue.Provider,{value:this.modalRootContext},(0,S.createScopedElement)(D,{vkuiClass:(0,C.classNames)((0,se.getClassName)("ModalRoot",this.props.platform),{"ModalRoot--vkapps":(null===(e=this.props.configProvider)||void 0===e?void 0:e.webviewType)===H.WebviewType.VKAPPS,"ModalRoot--touched":l,"ModalRoot--switching":!(!r&&!a)}),onMove:this.onTouchMove,onEnd:this.onTouchEnd,onScroll:this.onScroll},(0,S.createScopedElement)("div",{vkuiClass:"ModalRoot__mask",onClick:this.props.onExit,ref:this.maskElementRef}),(0,S.createScopedElement)("div",{vkuiClass:"ModalRoot__viewport",ref:this.viewportRef},this.getModals().map((function(e){var n=te(e.props),i=t.getModalState(n);if(n!==o&&n!==a||!i)return null;var l=(0,w.default)({},i),c=l.type===ln.PAGE,u="modal-".concat(n);return(0,S.createScopedElement)(Dt,{key:u,getRootRef:function(e){var o=t.getModalState(n);o&&(o.modalElement=e)},onClose:t.props.onExit,timeout:t.timeout,vkuiClass:(0,C.classNames)("ModalRoot__modal",{"ModalRoot__modal--active":n===o,"ModalRoot__modal--prev":n===a,"ModalRoot__modal--next":a&&n===o||n===r,"ModalRoot__modal--dragging":s,"ModalRoot__modal--expandable":c&&l.expandable,"ModalRoot__modal--expanded":c&&l.expanded,"ModalRoot__modal--collapsed":c&&l.collapsed}),restoreFocus:!1},e)})))))):null}}]),n}(g.Component),gn=z(B((0,O.withDOM)(fn((function(e){switch(e.type){case ln.PAGE:return e.settlingHeight=e.settlingHeight||75,Cn(e);case ln.CARD:return function(e){e.translateY=0}(e)}}))(Sn))),H.ConfigProviderContext,"configProvider");function Cn(e){var t,n=e.contentElement,o=(null==n?void 0:n.firstElementChild).offsetHeight,a=e.translateY;e.expandable=o>(null!==(t=null==n?void 0:n.clientHeight)&&void 0!==t?t:0)||100===e.settlingHeight;var r,i,l,s,c,u=!1,d=!1;if(e.expandable){var f,p=(r=100-(null!==(f=e.settlingHeight)&&void 0!==f?f:0))/2,v=100-r;l=[0,p],s=[p,r+v/4],c=[r+v/4,100],u=r>0,d=r<=0,i=r}else{var m,h,S,g,C;l=[i=r=100-(o+(null!==(m=null===(h=e.headerElement)||void 0===h?void 0:h.offsetHeight)&&void 0!==m?m:0))/(null!==(S=null===(g=e.innerElement)||void 0===g||null===(C=g.parentElement)||void 0===C?void 0:C.offsetHeight)&&void 0!==S?S:0)*100,i+25],s=[i+25,i+25],c=[i+25,i+100]}(e.expandable&&i>(null!=a?a:0)||100===e.settlingHeight)&&(i=0),0===i&&(d=!0,u=!1),e.expandedRange=l,e.collapsedRange=s,e.hiddenRange=c,e.translateY=i,e.translateYFrom=r,e.collapsed=u,e.expanded=d}var En=["id"],kn=((0,ne.warnOnce)("ModalRoot"),function(e){d(n,e);var t=m(n);function n(e){var o;return(0,l.default)(this,n),o=t.call(this,e),(0,h.default)(c(o),"maskElementRef",void 0),(0,h.default)(c(o),"maskAnimationFrame",void 0),(0,h.default)(c(o),"modalRootContext",void 0),(0,h.default)(c(o),"restoreFocusTo",void 0),o.maskElementRef=g.createRef(),o.modalRootContext={updateModalHeight:function(){},registerModal:function(e){var t=e.id,n=(0,i.default)(e,En);return Object.assign(o.getModalState(t),n)},onClose:function(){return o.props.onExit()},isInsideModal:!0},o}return(0,s.default)(n,[{key:"timeout",get:function(){return this.props.platform===y.ANDROID||this.props.platform===y.VKCOM?320:400}},{key:"modals",get:function(){return g.Children.toArray(this.props.children)}},{key:"getModalState",value:function(e){if(null!==e)return this.props.getModalState(e)}},{key:"componentDidUpdate",value:function(e){var t,n,o=this;if(this.props.exitingModal&&this.props.exitingModal!==e.exitingModal&&this.closeModal(this.props.exitingModal),this.props.enteringModal&&this.props.enteringModal!==e.enteringModal){var a=this.props.enteringModal,r=this.getModalState(a);this.props.onEnter(),requestAnimationFrame((function(){o.props.enteringModal===a&&(o.waitTransitionFinish(r,(function(){return o.props.onEntered(a)})),o.animateModalOpacity(r,!0))}))}this.props.activeModal&&!e.activeModal&&(this.restoreFocusTo=null!==(t=null===(n=this.props.document)||void 0===n?void 0:n.activeElement)&&void 0!==t?t:void 0);this.props.activeModal||this.props.exitingModal||!this.restoreFocusTo||(this.restoreFocusTo.focus(),this.restoreFocusTo=void 0)}},{key:"closeModal",value:function(e){var t=this,n=this.getModalState(e);n&&(this.waitTransitionFinish(n,(function(){return t.props.onExited(e)})),this.animateModalOpacity(n,!1),this.props.activeModal||this.setMaskOpacity(n,0))}},{key:"waitTransitionFinish",value:function(e,t){if(b.supported){var n;null==e||null===(n=e.innerElement)||void 0===n||n.addEventListener(b.name,(function n(){var o;null==e||null===(o=e.innerElement)||void 0===o||o.removeEventListener(b.name,n),t()}))}else setTimeout(t,this.timeout)}},{key:"animateModalOpacity",value:function(e,t){null!=e&&e.innerElement&&(e.innerElement.style.transitionDelay=t&&this.props.delayEnter?"".concat(this.timeout,"ms"):"",e.innerElement.style.opacity=t?"1":"0")}},{key:"setMaskOpacity",value:function(e){var t,n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===o&&(null===(t=this.props.history)||void 0===t?void 0:t[0])!==e.id||(this.maskAnimationFrame&&cancelAnimationFrame(this.maskAnimationFrame),this.maskAnimationFrame=requestAnimationFrame((function(){if(n.maskElementRef.current){var t=e.translateY,a=void 0===t?0:t,r=e.translateYCurrent,i=null===o?1-((void 0===r?0:r)-a)/(100-a)||0:o;n.maskElementRef.current.style.opacity=Math.max(0,Math.min(100,i)).toString()}})))}},{key:"render",value:function(){var e,t=this,n=this.props,o=n.exitingModal,a=n.activeModal,r=n.enteringModal;return a||o?(0,S.createScopedElement)(Ue.Provider,{value:this.modalRootContext},(0,S.createScopedElement)("div",{vkuiClass:(0,C.classNames)((0,se.getClassName)("ModalRoot",this.props.platform),{"ModalRoot--vkapps":(null===(e=this.props.configProvider)||void 0===e?void 0:e.webviewType)===H.WebviewType.VKAPPS},"ModalRoot--desktop")},(0,S.createScopedElement)("div",{vkuiClass:"ModalRoot__mask",ref:this.maskElementRef,onClick:this.props.onExit}),(0,S.createScopedElement)("div",{vkuiClass:"ModalRoot__viewport"},this.modals.map((function(e){var n=te(e.props);if(n!==a&&n!==o)return null;var i="modal-".concat(n);return(0,S.createScopedElement)(Dt,{restoreFocus:!1,onClose:t.props.onExit,timeout:t.timeout,key:i,vkuiClass:(0,C.classNames)("ModalRoot__modal",{"ModalRoot__modal--active":!o&&!r&&n===a,"ModalRoot__modal--prev":n===o,"ModalRoot__modal--next":Boolean(o)&&n===a})},e)}))))):null}}]),n}(g.Component)),bn=z(B((0,O.withDOM)(fn()(kn))),H.ConfigProviderContext,"configProvider"),yn=function(e){var t=(0,De.useAdaptivityIsDesktop)();U(!!e.activeModal);var n=t?bn:gn;return(0,S.createScopedElement)(n,e)};yn.displayName="ModalRoot";var wn=pe(yn,{viewWidth:!0,viewHeight:!0,hasMouse:!0});function _n(e){var t,n,o;return e&&90===Math.abs(null!==(t=null===(n=e.screen)||void 0===n||null===(o=n.orientation)||void 0===o?void 0:o.angle)&&void 0!==t?t:Number(e.orientation))?"landscape":"portrait"}var Rn=["children","header","viewWidth","viewHeight","sizeX","hasMouse","onOpen","onOpened","onClose","onClosed","settlingHeight","dynamicContentHeight","getModalContentRef","nav","id"],Mn=((0,ne.warnOnce)("ModalPage"),pe((function(e){var t=e.children,n=e.header,o=e.viewWidth,a=(e.viewHeight,e.sizeX),l=(e.hasMouse,e.onOpen,e.onOpened,e.onClose),s=(e.onClosed,e.settlingHeight,e.dynamicContentHeight,e.getModalContentRef),c=e.nav,u=e.id,d=(0,i.default)(e,Rn),f=g.useContext(Ue).updateModalHeight,p=(0,ve.usePlatform)(),v=function(){var e=(0,O.useDOM)().window,t=g.useState((function(){return _n(e)})),n=(0,W.default)(t,2),o=n[0],a=n[1];return Fe(e,"orientationchange",(function(){return a(_n(e))})),o}();g.useEffect(f,[t,v,f]);var m=(0,De.useAdaptivityIsDesktop)(),h=o>=fe.ViewWidth.SMALL_TABLET||p===y.Platform.VKCOM,E=g.useContext(Ue),k=qe(te({nav:c,id:u}),ln.PAGE).refs;return(0,S.createScopedElement)("div",(0,r.default)({},d,{id:u,vkuiClass:(0,C.classNames)((0,se.getClassName)("ModalPage",p),"ModalPage--sizeX-".concat(a),{"ModalPage--desktop":m})}),(0,S.createScopedElement)("div",{vkuiClass:"ModalPage__in-wrap",ref:k.innerElement},(0,S.createScopedElement)("div",{vkuiClass:"ModalPage__in"},(0,S.createScopedElement)("div",{vkuiClass:"ModalPage__header",ref:k.headerElement},n),(0,S.createScopedElement)("div",{vkuiClass:"ModalPage__content-wrap"},(0,S.createScopedElement)("div",{vkuiClass:"ModalPage__content",ref:(0,V.multiRef)(k.contentElement,s)},(0,S.createScopedElement)("div",{vkuiClass:"ModalPage__content-in"},t))),h&&(0,S.createScopedElement)(xt,{onClick:l||E.onClose}))))}),{viewWidth:!0,viewHeight:!0,sizeX:!0,hasMouse:!0}));Mn.displayName="ModalPage";var Pn=["children","separator","getRef"],An=function(e){var t=e.children,n=e.separator,o=void 0===n||n,a=e.getRef,l=(0,i.default)(e,Pn),s=(0,ve.usePlatform)(),c=o&&s===y.VKCOM,u=(0,De.useAdaptivityIsDesktop)();return(0,S.createScopedElement)("div",{vkuiClass:(0,C.classNames)((0,se.getClassName)("ModalPageHeader",s),u&&"ModalPageHeader--desktop"),ref:a},(0,S.createScopedElement)(et,(0,r.default)({vkuiClass:"ModalPageHeader__in"},l,{fixed:!1,separator:!1,transparent:!0}),t),c&&(0,S.createScopedElement)(je,{wide:!0}))},On=n(88665);var Tn={passive:!0,capture:!1};var xn=["getRootRef","icon","header","subheader","children","actions","actionsLayout","viewWidth","hasMouse","viewHeight","onClose","dismissLabel"],Nn=pe((function(e){var t=e.getRootRef,n=e.icon,o=e.header,a=e.subheader,l=e.children,s=e.actions,c=e.actionsLayout,u=e.viewWidth,d=(e.hasMouse,e.viewHeight,e.onClose),f=e.dismissLabel,p=void 0===f?"Скрыть":f,v=(0,i.default)(e,xn),m=(0,ve.usePlatform)(),h=(0,De.useAdaptivityIsDesktop)(),E=function(){var e,t=(0,O.useDOM)().document,n=g.useState(!1),o=(0,W.default)(n,2),a=o[0],r=o[1],i=g.useCallback((function(e){var n,o,a=!(!0!==e&&"focusin"!==e.type||"INPUT"!==(null==t||null===(n=t.activeElement)||void 0===n?void 0:n.tagName)&&"TEXTAREA"!==(null==t||null===(o=t.activeElement)||void 0===o?void 0:o.tagName));r(a)}),[null==t||null===(e=t.activeElement)||void 0===e?void 0:e.tagName]);return g.useEffect((function(){i(!0)}),[i]),Fe(t,"focusout",i,Tn),Fe(t,"focusin",i,Tn),{isOpened:a}}().isOpened,k=u>=fe.ViewWidth.SMALL_TABLET||m===y.Platform.VKCOM,b=m===y.IOS&&!k;return(0,S.createScopedElement)("div",(0,r.default)({},v,{vkuiClass:(0,C.classNames)((0,se.getClassName)("ModalCardBase",m),{"ModalCardBase--desktop":h}),ref:t}),(0,S.createScopedElement)("div",{vkuiClass:(0,C.classNames)("ModalCardBase__container",{"ModalCardBase__container--softwareKeyboardOpened":E})},(0,V.hasReactNode)(n)&&(0,S.createScopedElement)("div",{vkuiClass:"ModalCardBase__icon"},n),(0,V.hasReactNode)(o)&&(0,S.createScopedElement)(ze,{level:"2",weight:m===y.ANDROID?"2":"1",vkuiClass:"ModalCardBase__header"},o),(0,V.hasReactNode)(a)&&(0,S.createScopedElement)(mt.Subhead,{vkuiClass:"ModalCardBase__subheader"},a),l,(0,V.hasReactNode)(s)&&(0,S.createScopedElement)("div",{vkuiClass:(0,C.classNames)("ModalCardBase__actions",{"ModalCardBase__actions--v":"vertical"===c})},s),k&&(0,S.createScopedElement)(xt,{onClick:d}),b&&(0,S.createScopedElement)(Ye,{"aria-label":p,vkuiClass:"ModalCardBase__dismiss",onClick:d},(0,S.createScopedElement)(On.default,null))))}),{viewWidth:!0,viewHeight:!0,hasMouse:!0}),In=["icon","header","subheader","children","actions","actionsLayout","onClose","platform","viewWidth","viewHeight","hasMouse","nav","id"],Dn=((0,ne.warnOnce)("ModalCard"),pe(B((function(e){var t=e.icon,n=e.header,o=e.subheader,a=e.children,l=e.actions,s=e.actionsLayout,c=void 0===s?"horizontal":s,u=e.onClose,d=e.platform,f=(e.viewWidth,e.viewHeight,e.hasMouse,e.nav),p=e.id,v=(0,i.default)(e,In),m=(0,De.useAdaptivityIsDesktop)(),h=g.useContext(Ue),E=qe(te({nav:f,id:p}),ln.CARD).refs;return(0,S.createScopedElement)("div",(0,r.default)({},v,{id:p,vkuiClass:(0,C.classNames)((0,se.getClassName)("ModalCard",d),{"ModalCard--desktop":m})}),(0,S.createScopedElement)(Nn,{vkuiClass:"ModalCard__in",getRootRef:E.innerElement,icon:t,header:n,subheader:o,actions:l,actionsLayout:c,onClose:u||h.onClose},a))})),{viewWidth:!0,viewHeight:!0,hasMouse:!0}));Dn.displayName="ModalCard";var Ln=["icon","sizeY","children","Component"],Hn=((0,ne.warnOnce)("IconButton"),pe((function(e){var t=e.icon,n=e.sizeY,o=e.children,a=e.Component,l=void 0===a?"button":a,s=(0,i.default)(e,Ln),c=(0,ve.usePlatform)();return(0,S.createScopedElement)(Ie,(0,r.default)({},s,{Component:s.href?"a":l,activeEffectDelay:200,activeMode:"background",vkuiClass:(0,C.classNames)("IconButton","IconButton--sizeY-".concat(n),c===y.IOS&&"IconButton--ios")}),t||o)}),{sizeY:!0}));Hn.displayName="IconButton";var Bn=["mode","children","getRootRef"],zn=function(e){var t=e.mode,n=void 0===t?"tint":t,o=e.children,a=e.getRootRef,l=(0,i.default)(e,Bn),s=(0,ve.usePlatform)();return(0,S.createScopedElement)("div",(0,r.default)({},l,{ref:a,vkuiClass:(0,C.classNames)((0,se.getClassName)("Card",s),"Card--md-".concat(n))}),(0,S.createScopedElement)("div",{vkuiClass:"Card__in"},o))},Wn=["children","size","showArrows","withSpaces"],Vn=function(e){var t=e.children,n=e.size,o=void 0===n?"s":n,a=e.showArrows,l=void 0===a||a,s=e.withSpaces,c=void 0===s||s,u=(0,i.default)(e,Wn),d=(0,ve.usePlatform)(),f=(0,De.useAdaptivity)().sizeX,p=g.useRef(null),v=g.useRef(null),m=(0,O.useDOM)().window;return(0,S.createScopedElement)("div",(0,r.default)({},u,{vkuiClass:(0,C.classNames)((0,se.getClassName)("CardScroll",d),"CardScroll--sizeX-".concat(f),"CardScroll--".concat(o),(0,h.default)({},"CardScroll--withSpaces",c))}),(0,S.createScopedElement)(ft,{getScrollToLeft:function(e){if(!p.current||!v.current)return e;var t=p.current.offsetWidth,n=Array.from(p.current.children).findIndex((function(t){return t.offsetLeft+t.offsetWidth+parseInt(m.getComputedStyle(t).marginRight)-e>=0}));if(-1===n)return e;if(0===n)return 0;var o=p.current.children[n],a=o.offsetLeft-(t-o.offsetWidth)+v.current.offsetWidth;return a<=2*v.current.offsetWidth?0:a},getScrollToRight:function(e){if(!p.current||!v.current)return e;var t=p.current.offsetWidth,n=Array.prototype.find.call(p.current.children,(function(n){return n.offsetLeft+n.offsetWidth-e>t}));return n?n.offsetLeft-v.current.offsetWidth:e},showArrows:l},(0,S.createScopedElement)("div",{vkuiClass:"CardScroll__in",ref:p},(0,S.createScopedElement)("span",{vkuiClass:"CardScroll__gap",ref:v}),t,(0,S.createScopedElement)("span",{vkuiClass:"CardScroll__gap"}))))},Yn=["badge","before","indicator","children","after","description","expandable","multiline","sizeY"],Fn=function(e){var t=(0,De.useAdaptivity)().sizeY,n=(0,ve.usePlatform)();return t===fe.SizeType.COMPACT?(0,S.createScopedElement)(He,e):n===y.ANDROID?(0,S.createScopedElement)(_t,(0,r.default)({Component:"span",weight:"3"},e)):(0,S.createScopedElement)(ze,(0,r.default)({Component:"span",level:"3",weight:"3"},e))},Xn=pe((function(e){var t=e.badge,n=e.before,o=e.indicator,a=e.children,l=e.after,s=e.description,c=e.expandable,u=e.multiline,d=e.sizeY,f=(0,i.default)(e,Yn),p=(0,ve.usePlatform)(),v=(0,V.hasReactNode)(l)||c&&p===y.IOS;return(0,S.createScopedElement)(Ie,(0,r.default)({},f,{vkuiClass:(0,C.classNames)((0,se.getClassName)("SimpleCell",p),{"SimpleCell--exp":c,"SimpleCell--mult":u},"SimpleCell--sizeY-".concat(d))}),n,(0,S.createScopedElement)("div",{vkuiClass:"SimpleCell__main"},(0,S.createScopedElement)("div",{vkuiClass:"SimpleCell__content"},(0,S.createScopedElement)(Fn,{vkuiClass:"SimpleCell__children"},a),(0,V.hasReactNode)(t)&&(0,S.createScopedElement)("span",{vkuiClass:"SimpleCell__badge"},t)),s&&(0,S.createScopedElement)(mt.Subhead,{Component:"span",vkuiClass:"SimpleCell__description"},s)),(0,V.hasReactNode)(o)&&(0,S.createScopedElement)(Fn,{Component:"span",vkuiClass:"SimpleCell__indicator"},o),v&&(0,S.createScopedElement)("div",{vkuiClass:"SimpleCell__after"},l,c&&p===y.IOS&&(0,S.createScopedElement)(it.default,null)))}),{sizeY:!0}),Kn=["centered","mode"],Gn=function(e){var t=e.centered,n=void 0!==t&&t,o=e.mode,a=void 0===o?"primary":o,l=(0,i.default)(e,Kn);return(0,S.createScopedElement)(Xn,(0,r.default)({stopPropagation:!0},l,{vkuiClass:(0,C.classNames)("CellButton","CellButton--".concat(a),n&&"CellButton--centered")}))},jn=["platform","mode"],Un=["mode","children","subtitle","indicator","aside","getRootRef","multiline"],qn=function(e){var t=e.platform,n=e.mode,o=(0,i.default)(e,jn);if(t===y.Platform.IOS)switch(n){case"primary":case"tertiary":return(0,S.createScopedElement)(ze,(0,r.default)({weight:"1",level:"3"},o));case"secondary":return(0,S.createScopedElement)(St,(0,r.default)({weight:"2",caps:!0},o))}if(t===y.Platform.VKCOM)switch(n){case"primary":return(0,S.createScopedElement)(_t,(0,r.default)({weight:"3"},o));case"secondary":case"tertiary":return(0,S.createScopedElement)(St,o)}switch(n){case"primary":case"tertiary":return(0,S.createScopedElement)(_t,(0,r.default)({weight:"2"},o));case"secondary":return(0,S.createScopedElement)(St,(0,r.default)({weight:"1",caps:!0},o))}return null},Jn=function(e){var t=e.mode,n=void 0===t?"primary":t,o=e.children,a=e.subtitle,l=e.indicator,s=e.aside,c=e.getRootRef,u=e.multiline,d=(0,i.default)(e,Un),f=(0,ve.usePlatform)(),p=f===y.Platform.VKCOM?mt.Subhead:He,v="secondary"===n?mt.Subhead:St;return(0,S.createScopedElement)("header",(0,r.default)({},d,{ref:c,vkuiClass:(0,C.classNames)((0,se.getClassName)("Header",f),"Header--mode-".concat(n),{"Header--pi":(0,V.isPrimitiveReactNode)(l)})}),(0,S.createScopedElement)("div",{vkuiClass:"Header__main"},(0,S.createScopedElement)(qn,{vkuiClass:"Header__content",Component:"span",mode:n,platform:f},(0,S.createScopedElement)("span",{vkuiClass:(0,C.classNames)("Header__content-in",{"Header__content-in--multiline":u})},o),(0,V.hasReactNode)(l)&&(0,S.createScopedElement)(St,{vkuiClass:"Header__indicator",weight:"primary"===n||"secondary"===n?"1":void 0},l)),(0,V.hasReactNode)(a)&&(0,S.createScopedElement)(v,{vkuiClass:"Header__subtitle",Component:"span"},a)),(0,V.hasReactNode)(s)&&(0,S.createScopedElement)(p,{vkuiClass:"Header__aside",Component:"span"},s))},Qn=["header","description","children","separator","getRootRef","mode","sizeX"],Zn=pe((function(e){var t=e.header,n=e.description,o=e.children,a=e.separator,l=void 0===a?"auto":a,s=e.getRootRef,c=e.mode,u=e.sizeX,d=(0,i.default)(e,Qn),f=g.useContext(Ue).isInsideModal,p=(0,ve.usePlatform)(),v=c;return c||(v=u===fe.SizeType.COMPACT||f?"plain":"card"),(0,S.createScopedElement)("section",(0,r.default)({},d,{ref:s,vkuiClass:(0,C.classNames)((0,se.getClassName)("Group",p),"Group--sizeX-".concat(u),"Group--".concat(v))}),(0,S.createScopedElement)("div",{vkuiClass:"Group__inner"},t,o,(0,V.hasReactNode)(n)&&(0,S.createScopedElement)(St,{vkuiClass:"Group__description"},n)),"hide"!==l&&(0,S.createScopedElement)(je,{vkuiClass:(0,C.classNames)("Group__separator",{"Group__separator--force":"show"===l}),expanded:"card"===v}))}),{sizeX:!0});Zn.displayName="Group";var $n=["mode","children","to"],eo=function(e){var t=e.mode,n=void 0===t?"tint":t,o=e.children,a=e.to,l=void 0===a?"top":a,s=(0,i.default)(e,$n);return(0,S.createScopedElement)("div",(0,r.default)({role:"presentation"},s,{vkuiClass:(0,C.classNames)("Gradient","Gradient--md-".concat(n),"Gradient--to-".concat(l))}),o)},to=g.createContext({toggleDrag:V.noop}),no=["children"],oo=function(e){var t=e.children,n=(0,i.default)(e,no),o=(0,ve.usePlatform)(),a=g.useState(!1),l=(0,W.default)(a,2),s=l[0],c=l[1];return(0,S.createScopedElement)("div",(0,r.default)({role:"list"},n,{vkuiClass:(0,C.classNames)((0,se.getClassName)("List",o),{"List--dragging":s})}),(0,S.createScopedElement)(to.Provider,{value:g.useMemo((function(){return{toggleDrag:c}}),[])},t))},ao=n(61823),ro=["getRootRef","children","onRemove","removePlaceholder","align"],io=function(e){var t=e.onRemove,n=e.removePlaceholder,o=e.removePlaceholderString,a=e.children,r=(0,O.useDOM)().window,i=g.useRef(null),l=g.useRef(!0),s=g.useState(0),c=(0,W.default)(s,2),u=c[0],d=c[1];Fe(r,"click",(function(){u>0&&d(0)}),{capture:!0});return(0,S.createScopedElement)("div",{vkuiClass:"Removable__content",style:{transform:"translateX(-".concat(null!=u?u:0,"px)")},onTransitionEnd:function(){var e;u>0?null==i||null===(e=i.current)||void 0===e||e.focus():l.current=!0}},(0,S.createScopedElement)(Hn,{hasActive:!1,hasHover:!1,"aria-label":o,vkuiClass:"Removable__action Removable__toggle",onClick:function(e){if(e.stopPropagation(),i.current){var t=i.current.offsetWidth;l.current=!1,d(t)}},disabled:u>0},(0,S.createScopedElement)("i",{vkuiClass:"Removable__toggle-in",role:"presentation"})),a,(0,S.createScopedElement)("span",{vkuiClass:"Removable__offset","aria-hidden":!0}),(0,S.createScopedElement)(Ie,{Component:"button",hasActive:!1,hasHover:!1,disabled:l.current,getRootRef:i,vkuiClass:"Removable__remove",onClick:t},(0,S.createScopedElement)("span",{vkuiClass:"Removable__remove-in"},n)))},lo=function(e){var t=e.getRootRef,n=e.children,o=e.onRemove,a=void 0===o?V.noop:o,l=e.removePlaceholder,s=void 0===l?"Удалить":l,c=e.align,u=void 0===c?"center":c,d=(0,i.default)(e,ro),f=(0,ve.usePlatform)(),p=(0,De.useAdaptivity)().sizeY,v=(0,T.useExternRef)(t),m=function(e){e.preventDefault(),a(e)},h=(0,V.getTitleFromChildren)(s);return(0,S.createScopedElement)("div",(0,r.default)({},d,{ref:v,vkuiClass:(0,C.classNames)((0,se.getClassName)("Removable",f),"Removable--".concat(u),"Removable--sizeY-".concat(p))}),(f===y.ANDROID||f===y.VKCOM)&&(0,S.createScopedElement)("div",{vkuiClass:"Removable__content"},n,(0,S.createScopedElement)(Hn,{activeMode:"opacity",hoverMode:"opacity",vkuiClass:"Removable__action",onClick:m,"aria-label":h},(0,S.createScopedElement)(ao.default,{role:"presentation"})),(0,S.createScopedElement)("span",{vkuiClass:"Removable__offset","aria-hidden":!0})),f===y.IOS&&(0,S.createScopedElement)(io,{onRemove:m,removePlaceholder:s,removePlaceholderString:h},n))},so=n(17123),co=n(81400),uo=["onDragStart","onDragMove","onDragEnd"],fo=function(e){var t=e.onDragStart,n=e.onDragMove,o=e.onDragEnd,a=(0,i.default)(e,uo),l=(0,ve.usePlatform)(),s=g.useCallback((function(e){e.preventDefault()}),[]);return(0,S.createScopedElement)(D,(0,r.default)({vkuiClass:(0,C.classNames)((0,se.getClassName)("CellDragger",l)),onStart:t,onMoveY:n,onEnd:o,onClick:s},a),l===y.IOS?(0,S.createScopedElement)(so.default,null):(0,S.createScopedElement)(co.default,null))},po=n(81915),vo=n(18084),mo=n(58349),ho=n(87772),So=["className","style"],go=function(e){var t=e.className,n=e.style,o=(0,i.default)(e,So),a=(0,ve.usePlatform)(),l=a===y.ANDROID?po.default:vo.default,s=a===y.ANDROID?mo.default:ho.default;return(0,S.createScopedElement)("div",{vkuiClass:(0,C.classNames)((0,se.getClassName)("CellCheckbox",a)),className:t,style:n},(0,S.createScopedElement)("input",(0,r.default)({vkuiClass:"CellCheckbox__input",type:"checkbox"},o)),(0,S.createScopedElement)(l,{vkuiClass:"CellCheckbox__icon CellCheckbox__icon--off"}),(0,S.createScopedElement)(s,{vkuiClass:"CellCheckbox__icon CellCheckbox__icon--on"}))},Co=["mode","onRemove","removePlaceholder","onDragFinish","before","after","disabled","removable","draggable","selectable","Component","onChange","name","value","checked","defaultChecked","getRootRef","draggerLabel","className","style"],Eo=["dragging"],ko=((0,ne.warnOnce)("Cell"),function(e){var t=e.mode,n=e.onRemove,o=void 0===n?V.noop:n,a=e.removePlaceholder,l=void 0===a?"Удалить":a,s=e.onDragFinish,c=e.before,u=e.after,d=e.disabled,f=e.removable,p=e.draggable,v=e.selectable,m=e.Component,h=e.onChange,E=e.name,k=e.value,b=e.checked,w=e.defaultChecked,_=e.getRootRef,R=e.draggerLabel,M=void 0===R?"Перенести ячейку":R,P=e.className,A=e.style,O=(0,i.default)(e,Co),x=t;t||!v&&!f||(x=v?"selectable":"removable");var N,I,D="selectable"===x,L="removable"===x,H=(0,ve.usePlatform)(),B=(0,T.useExternRef)(_),z=function(e){var t=e.rootElRef,n=e.onDragFinish,o=g.useState(!1),a=(0,W.default)(o,2),r=a[0],i=a[1],l=g.useState([]),s=(0,W.default)(l,2),c=s[0],u=s[1],d=g.useState(0),f=(0,W.default)(d,2),p=f[0],v=f[1],m=g.useState(0),h=(0,W.default)(m,2),S=h[0],C=h[1],E=g.useState(0),k=(0,W.default)(E,2),b=k[0],y=k[1],w=g.useState(void 0),_=(0,W.default)(w,2),R=_[0],M=_[1];return{onDragStart:function(){var e,n=t.current;if(n){i(!0);var o=[];null!==(e=n.parentElement)&&void 0!==e&&e.childNodes&&(o=Array.from(n.parentElement.children));var a=o.indexOf(n);v(a),C(a),u(o),y(0)}},onDragMove:function(e){e.originalEvent.preventDefault();var n=t.current;if(n){n.style.transform="translateY(".concat(e.shiftY,"px)");var o=n.getBoundingClientRect();M(b-e.shiftY<0?"down":"up"),y(e.shiftY),C(p),c.forEach((function(e,t){var n=e.getBoundingClientRect(),a=n.height/2,r=o.bottom>n.top+a,i=o.top<n.bottom-a;p<t?(r&&("down"===R&&(e.style.transform="translateY(-100%)"),C((function(e){return e+1}))),i&&"up"===R&&(e.style.transform="translateY(0)")):p>t&&(i&&("up"===R&&(e.style.transform="translateY(100%)"),C((function(e){return e-1}))),r&&"down"===R&&(e.style.transform="translateY(0)"))}))}},onDragEnd:function(){var e=p,t=S;c.forEach((function(e){e.style.transform=""})),u([]),C(0),v(0),M(void 0),y(0),i(!1),n&&n({from:e,to:t})},dragging:r}}({rootElRef:B,onDragFinish:s}),Y=z.dragging,F=(0,i.default)(z,Eo),X=g.useContext(to).toggleDrag;if(g.useEffect((function(){if(Y)return X(!0),function(){return X(!1)}}),[Y,X]),p&&(N=(0,S.createScopedElement)(fo,(0,r.default)({vkuiClass:"Cell__dragger","aria-label":M},F))),D){var K={name:E,value:k,onChange:h,defaultChecked:w,checked:b,disabled:d};I=(0,S.createScopedElement)(go,(0,r.default)({vkuiClass:"Cell__checkbox"},K))}var G=p&&!D||L||d,j=!G&&!Y,U=(0,C.classNames)((0,se.getClassName)("Cell",H),{"Cell--dragging":Y,"Cell--removable":L,"Cell--selectable":D,"Cell--disabled":d}),q=(0,S.createScopedElement)(Xn,(0,r.default)({hasActive:j,hasHover:j},O,{vkuiClass:"Cell__content",disabled:G,Component:D?"label":m,before:(0,S.createScopedElement)(g.Fragment,null,p&&(H===y.ANDROID||H===y.VKCOM)&&N,D&&I,c),after:(0,S.createScopedElement)(g.Fragment,null,p&&H===y.IOS&&N,u)}));return L?(0,S.createScopedElement)(lo,{vkuiClass:U,className:P,style:A,getRootRef:B,removePlaceholder:l,onRemove:function(e){return o(e,B.current)}},q):(0,S.createScopedElement)("div",{vkuiClass:U,className:P,style:A,ref:B},q)}),bo=["Component","getRootRef","weight","children"],yo=((0,ne.warnOnce)("Paragraph"),function(e){var t=e.Component,n=void 0===t?"span":t,o=e.getRootRef,a=e.weight,l=e.children,s=(0,i.default)(e,bo);return(0,S.createScopedElement)(n,(0,r.default)({},s,{ref:o,vkuiClass:(0,C.classNames)("Paragraph",a&&"Paragraph--w-".concat(a))}),l)}),wo=["children","text","caption","before","after","bottom","actions","multiline","sizeY"],_o=pe((function(e){var t=e.children,n=e.text,o=e.caption,a=e.before,l=e.after,s=e.bottom,c=e.actions,u=e.multiline,d=e.sizeY,f=(0,i.default)(e,wo),p=(0,ve.usePlatform)();return(0,S.createScopedElement)(Ie,(0,r.default)({},f,{vkuiClass:(0,C.classNames)((0,se.getClassName)("RichCell",p),{"RichCell--mult":u},"RichCell--sizeY-".concat(d))}),a,(0,S.createScopedElement)("div",{vkuiClass:"RichCell__in"},l,(0,S.createScopedElement)(yo,{weight:"2",vkuiClass:"RichCell__content"},(0,S.createScopedElement)("div",{vkuiClass:"RichCell__children"},t),(0,V.hasReactNode)(l)&&(0,S.createScopedElement)("div",{vkuiClass:"RichCell__after"},l)),(0,V.hasReactNode)(n)&&(0,S.createScopedElement)(yo,{vkuiClass:"RichCell__text"},n),(0,V.hasReactNode)(o)&&(0,S.createScopedElement)(mt.Subhead,{Component:"span",vkuiClass:"RichCell__caption"},o),(0,V.hasReactNode)(s)&&(0,S.createScopedElement)("div",{vkuiClass:"RichCell__bottom"},s),(0,V.hasReactNode)(c)&&(0,S.createScopedElement)("div",{vkuiClass:"RichCell__actions"},c)))}),{sizeY:!0});_o.displayName="RichCell";var Ro=n(92470),Mo=n(98577),Po=["alt","crossOrigin","decoding","height","loading","referrerPolicy","sizes","src","srcSet","useMap","width","getRef","size","shadow","mode","className","children","getRootRef","style","aria-label","badge","overlayIcon","overlayMode","overlayAction","onClick"],Ao=function(e){var t=e.alt,n=e.crossOrigin,o=e.decoding,a=e.height,l=e.loading,s=e.referrerPolicy,c=e.sizes,u=e.src,d=e.srcSet,f=e.useMap,p=e.width,v=e.getRef,m=e.size,h=void 0===m?48:m,E=e.shadow,k=void 0===E||E,b=e.mode,y=void 0===b?"default":b,_=e.className,R=e.children,M=e.getRootRef,P=e.style,A=e["aria-label"],O=e.badge,T=e.overlayIcon,x=e.overlayMode,N=void 0===x?"light":x,I=e.overlayAction,D=e.onClick,L=(0,i.default)(e,Po),H=(0,De.useAdaptivity)().hasMouse,B=g.useState(!1),z=(0,W.default)(B,2),V=z[0],Y=z[1],F=null!=I?I:H?"hover":"always",X="50%";switch(y){case"image":h<64&&(X=4),h>=64&&h<96&&(X=6),h>=96&&(X=8);break;case"app":h<=40&&(X=8),h>40&&h<56&&(X=10),h>=56&&h<64&&(X=12),h>=64&&h<84&&(X=16),h>=84&&(X=18)}var K=u||d;return(0,S.createScopedElement)("div",(0,r.default)({},L,{vkuiClass:(0,C.classNames)("Avatar","Avatar--type-".concat(y),"Avatar--sz-".concat(h),{"Avatar--shadow":k,"Avatar--failed":V}),className:_,ref:M,role:K?"img":"presentation","aria-label":t||A,onClick:T?void 0:D,style:(0,w.default)((0,w.default)({},P),{},{width:h,height:h,borderRadius:X})}),K&&(0,S.createScopedElement)("img",{crossOrigin:n,decoding:o,height:a,loading:l,referrerPolicy:s,sizes:c,src:u,srcSet:d,useMap:f,width:p,ref:v,onError:function(){Y(!0)},onLoad:function(){Y(!1)},vkuiClass:"Avatar__img",alt:""}),R&&(0,S.createScopedElement)("div",{vkuiClass:"Avatar__children"},R),T&&(0,S.createScopedElement)(Ie,{Component:"button",vkuiClass:(0,C.classNames)("Avatar__overlay",{"Avatar__overlay--visible":"always"===F,"Avatar__overlay--light":"light"===N,"Avatar__overlay--dark":"dark"===N}),hoverMode:"Avatar__overlay--visible",focusVisibleMode:"Avatar__overlay--focus-visible",hasActive:!1,onClick:D},T),O&&(0,S.createScopedElement)("div",{vkuiClass:(0,C.classNames)("Avatar__badge",{"Avatar__badge--large":h>=96,"Avatar__badge--shadow":"online"!==O&&"online-mobile"!==O})},"online"===O?(0,S.createScopedElement)("div",{vkuiClass:"Avatar__badge-online"},(0,S.createScopedElement)(Ro.default,{width:h>=72?15:12,height:h>=72?15:12})):"online-mobile"===O?(0,S.createScopedElement)("div",{vkuiClass:"Avatar__badge-online-mobile"},(0,S.createScopedElement)(Mo.default,{width:h>=72?9:8,height:h>=72?15:12})):O))},Oo=["size","children"],To=["className","header","style","subtitle","size","children","getRootRef","getRef"],xo=function(e){var t=e.size,n=e.children,o=(0,i.default)(e,Oo);return"s"===t?(0,S.createScopedElement)(St,(0,r.default)({level:"2"},o),n):(0,S.createScopedElement)(mt.Subhead,o,n)},No=function(e){var t=e.className,n=e.header,o=e.style,a=e.subtitle,l=e.size,s=void 0===l?"s":l,c=e.children,u=void 0===c?(0,S.createScopedElement)(Ao,{size:56}):c,d=e.getRootRef,f=e.getRef,p=(0,i.default)(e,To),v=(0,ve.usePlatform)();return(0,S.createScopedElement)("div",{vkuiClass:(0,C.classNames)((0,se.getClassName)("HorizontalCell",v),"HorizontalCell--".concat(s)),ref:d,style:o,className:t},(0,S.createScopedElement)(Ie,(0,r.default)({vkuiClass:"HorizontalCell__body",getRootRef:f},p),(0,V.hasReactNode)(u)&&(0,S.createScopedElement)("div",{vkuiClass:"HorizontalCell__image"},u),(0,S.createScopedElement)("div",{vkuiClass:"HorizontalCell__content"},(0,V.hasReactNode)(n)&&(0,S.createScopedElement)(xo,{size:s,vkuiClass:"HorizontalCell__title"},n),(0,V.hasReactNode)(a)&&(0,S.createScopedElement)(St,{vkuiClass:"HorizontalCell__subtitle"},a))))},Io=["children"],Do=function(e){var t=e.children,n=(0,i.default)(e,Io);return(0,S.createScopedElement)(St,(0,r.default)({Component:"footer"},n,{vkuiClass:"Footer"}),t)},Lo=function(e){var t=e.containerWidth,n=void 0===t?0:t,o=e.layerWidth,a=void 0===o?0:o,r=e.slides,i=void 0===r?[]:r,l=e.viewporOffsettWidth,s=void 0===l?0:l,c=e.align,u=e.isCenterWithCustomWidth;switch(c){case"left":return n-a;case"right":return s-a;case"center":if(u&&i.length){var d=i[i.length-1];return s/2-d.coordX-d.width/2}return s-(n-s)/2-a}},Ho=function(e){var t=e.slides,n=void 0===t?[]:t,o=e.viewporOffsettWidth,a=void 0===o?0:o;if(e.isCenterWithCustomWidth&&n.length){var r=n[0],i=r.width;return a/2-r.coordX-i/2}return 0},Bo=["bullets","getRootRef","children","slideWidth","slideIndex","isDraggable","onDragStart","onDragEnd","onChange","onPrevClick","onNextClick","onEnd","align","showArrows","getRef"],zo={containerWidth:0,viewporOffsettWidth:0,layerWidth:0,min:0,max:0,slides:[],isFullyVisible:!0},Wo={animation:void 0,shiftX:0,dragging:!1,deltaX:0,indent:0},Vo=function(e){var t,n=e.bullets,o=void 0!==n&&n,a=e.getRootRef,l=e.children,s=e.slideWidth,c=void 0===s?"100%":s,u=e.slideIndex,d=void 0===u?0:u,f=e.isDraggable,p=void 0===f||f,v=e.onDragStart,m=e.onDragEnd,h=e.onChange,E=e.onPrevClick,k=e.onNextClick,b=e.onEnd,y=e.align,_=void 0===y?"left":y,R=e.showArrows,M=e.getRef,P=(0,i.default)(e,Bo),A=g.useRef({}),x=g.useRef(zo),I=g.useState(Wo),L=(0,W.default)(I,2),H=L[0],B=L[1],z=(0,T.useExternRef)(a),V=(0,T.useExternRef)(M),Y=(0,O.useDOM)().window,F=(0,De.useAdaptivity)().hasMouse,X="custom"===c&&"center"===_,K=function(e){var t,n,o=null!==(t=x.current.max)&&void 0!==t?t:0,a=null!==(n=x.current.min)&&void 0!==n?n:0;return e<a?a:e>o?o:e},G=function(e){var t;if(x.current.isFullyVisible)return 0;var n=null!==(t=x.current.slides)&&void 0!==t&&t.length?x.current.slides[e]:null;if(n){var o,a=n.coordX,r=n.width;return X?(null!==(o=x.current.viewporOffsettWidth)&&void 0!==o?o:0)/2-a-r/2:K(-1*a)}return 0},j=function(){var e,t,n=null!==(e=x.current.max)&&void 0!==e?e:0,o=null!==(t=x.current.min)&&void 0!==t?t:0,a=H.shiftX+H.deltaX;return a>n?n+Number((a-n)/3):a<o?o+Number((a-o)/3):a},U=function(){var e,t,n,o,a,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=null!==(e=g.Children.map(l,(function(e,t){var n,o,a=A.current["slide-".concat(t)];return{coordX:null!==(n=null==a?void 0:a.offsetLeft)&&void 0!==n?n:0,width:null!==(o=null==a?void 0:a.offsetWidth)&&void 0!==o?o:0}})))&&void 0!==e?e:[],s=null!==(t=null===(n=z.current)||void 0===n?void 0:n.offsetWidth)&&void 0!==t?t:0,c=null!==(o=null===(a=V.current)||void 0===a?void 0:a.offsetWidth)&&void 0!==o?o:0,u=i.reduce((function(e,t){return t.width+e}),0);x.current={containerWidth:s,viewporOffsettWidth:c,layerWidth:u,max:Ho({slides:i,viewporOffsettWidth:c,isCenterWithCustomWidth:X}),min:Lo({containerWidth:s,layerWidth:u,slides:i,viewporOffsettWidth:c,isCenterWithCustomWidth:X,align:_}),slides:i,isFullyVisible:u<=s},B((function(e){var t;return(0,w.default)((0,w.default)({},e),{},{shiftX:G(d),animation:null!==(t=r.animation)&&void 0!==t?t:e.shiftX===K(e.shiftX)})}))};Fe(Y,"resize",(function(){void 0!==H.animation&&U({animation:!1})})),(0,N.useIsomorphicLayoutEffect)((function(){U({animation:!1})}),[l,_,c]),(0,N.useIsomorphicLayoutEffect)((function(){void 0!==H.animation&&B((function(e){return(0,w.default)((0,w.default)({},e),{},{animation:!0,deltaX:0,shiftX:G(null!=d?d:0)})}))}),[d]);var q=H.dragging?j():H.shiftX,J={WebkitTransform:"translateX(".concat(q,"px)"),transform:"translateX(".concat(q,"px)"),WebkitTransition:H.animation?"-webkit-transform ".concat(.24,"s cubic-bezier(.1, 0, .25, 1)"):"none",transition:H.animation?"transform ".concat(.24,"s cubic-bezier(.1, 0, .25, 1)"):"none"},Q=!x.current.isFullyVisible&&H.shiftX<0,Z=!x.current.isFullyVisible&&("left"===_&&x.current.containerWidth-H.shiftX<(null!==(t=x.current.layerWidth)&&void 0!==t?t:0)||"left"!==_&&d<x.current.slides.length-1);return(0,S.createScopedElement)("div",(0,r.default)({},P,{vkuiClass:(0,C.classNames)("Gallery","Gallery--".concat(_),H.dragging&&"Gallery--dragging","custom"===c&&"Gallery--custom-width"),ref:z}),(0,S.createScopedElement)(D,{vkuiClass:"Gallery__viewport",onStartX:function(){B((function(e){return(0,w.default)((0,w.default)({},e),{},{animation:!1})}))},onMoveX:function(e){p&&!x.current.isFullyVisible&&(e.originalEvent.preventDefault(),e.isSlideX&&(null==v||v(e),H.deltaX!==e.shiftX&&B((function(t){return(0,w.default)((0,w.default)({},t),{},{deltaX:e.shiftX,dragging:e.isSlideX})}))))},onEnd:function(e){var t=e.isSlide?function(e){var t,n=H.deltaX/e.duration*240*.6,o=H.shiftX+H.deltaX+n-(null!==(t=x.current.max)&&void 0!==t?t:0),a=H.deltaX<0?1:-1,r=x.current.slides.reduce((function(e,t,n){return Math.abs(x.current.slides[e].coordX+o)<Math.abs(t.coordX+o)?e:n}),d);if(r===d){var i=d+a;i>=0&&i<x.current.slides.length&&Math.abs(H.deltaX)>.05*x.current.slides[i].width&&(r=i)}return r}(e):null!=d?d:0;null==m||m(e);var n={animation:!0,dragging:!1,deltaX:0},o=j();t!==d&&(n.shiftX=o),B((function(e){return(0,w.default)((0,w.default)({},e),n)})),t!==d&&(null==h||h(t)),null==b||b({targetIndex:t})},style:{width:"custom"===c?"100%":c},getRootRef:V,noSlideClick:!0},(0,S.createScopedElement)("div",{vkuiClass:"Gallery__layer",style:J},g.Children.map(l,(function(e,t){return(0,S.createScopedElement)("div",{vkuiClass:"Gallery__slide",key:"slide-".concat(t),ref:function(e){return function(e,t){A.current["slide-".concat(t)]=e}(e,t)}},e)})))),o&&(0,S.createScopedElement)("div",{"aria-hidden":"true",vkuiClass:(0,C.classNames)("Gallery__bullets","Gallery__bullets--".concat(o))},g.Children.map(l,(function(e,t){return(0,S.createScopedElement)("div",{vkuiClass:(0,C.classNames)("Gallery__bullet",t===d&&"Gallery__bullet--active"),key:t})}))),R&&F&&Q&&(0,S.createScopedElement)(lt,{direction:"left",onClick:function(){null==h||h(d-1),null==E||E()}}),R&&F&&Z&&(0,S.createScopedElement)(lt,{direction:"right",onClick:function(){null==h||h(d+1),null==k||k()}}))},Yo=["initialSlideIndex","children","timeout","onChange","bullets"],Fo=function(e){var t,n=e.initialSlideIndex,o=void 0===n?0:n,a=e.children,l=e.timeout,s=void 0===l?0:l,c=e.onChange,u=e.bullets,d=(0,i.default)(e,Yo),f=g.useState(o),p=(0,W.default)(f,2),v=p[0],m=p[1],h="number"==typeof d.slideIndex,C=h?null!==(t=d.slideIndex)&&void 0!==t?t:0:v,E=!h||Boolean(c),k=g.useMemo((function(){return g.Children.toArray(a).filter((function(e){return Boolean(e)}))}),[a]),b=k.length,y=g.useCallback((function(e){e!==C&&(!h&&m(e),c&&c(e))}),[h,c,C]),w=(0,ye.useTimeout)((function(){return y((C+1)%b)}),s);g.useEffect((function(){return s?w.set():w.clear()}),[s,C,w]);var _=b>0?Y(C,0,b-1):C;return g.useEffect((function(){c&&_!==C&&c(_)}),[c,_,C]),(0,S.createScopedElement)(Vo,(0,r.default)({isDraggable:E},d,{bullets:b>0&&u,slideIndex:_,onChange:y}),k)},Xo=["value","getRootRef"],Ko=function(e){var t=e.value,n=void 0===t?0:t,o=e.getRootRef,a=(0,i.default)(e,Xo),l=Math.max(0,Math.min(n,100));return(0,S.createScopedElement)("div",(0,r.default)({"aria-valuenow":n},a,{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,ref:o,vkuiClass:"Progress"}),(0,S.createScopedElement)("div",{vkuiClass:"Progress__in",style:{width:"".concat(l,"%")},"aria-hidden":!0}))},Go=n(4014),jo=n(16041);var Uo=["platform","children"],qo=["before","className","defaultValue","placeholder","after","getRef","platform","icon","onIconClick","style","autoComplete"],Jo=function(e){var t=e.platform,n=e.children,o=(0,i.default)(e,Uo);switch(t){case y.IOS:return(0,S.createScopedElement)(ze,(0,r.default)({},o,{level:"3",weight:"3"}),n);case y.VKCOM:return(0,S.createScopedElement)(He,o,n);case y.ANDROID:default:return(0,S.createScopedElement)(_t,(0,r.default)({},o,{weight:"3"}),n)}},Qo=B((function(e){var t=e.before,n=void 0===t?(0,S.createScopedElement)(Go.default,{"aria-hidden":!0}):t,o=e.className,a=e.defaultValue,l=void 0===a?"":a,s=e.placeholder,c=void 0===s?"Поиск":s,u=e.after,d=void 0===u?"Отмена":u,f=e.getRef,p=e.platform,v=e.icon,m=e.onIconClick,h=void 0===m?V.noop:m,E=e.style,k=e.autoComplete,b=void 0===k?"off":k,w=(0,i.default)(e,qo),_=(0,T.useExternRef)(f),R=g.useState(!1),M=(0,W.default)(R,2),P=M[0],A=M[1],O=function(e,t){var n=e.hasOwnProperty("value"),o=g.useState(t.defaultValue),a=(0,W.default)(o,2),r=a[0],i=a[1],l=g.useCallback((function(t){!n&&i(t.target.value),e.onChange&&e.onChange(t)}),[n,e]);return[n?e.value:r,l]}(w,{defaultValue:l}),x=(0,W.default)(O,2),N=x[0],I=x[1],L=g.useCallback((function(){var e,t,n=null===(e=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value"))||void 0===e?void 0:e.set;null==n||n.call(_.current,"");var o=new Event("input",{bubbles:!0});null===(t=_.current)||void 0===t||t.dispatchEvent(o)}),[_]),H=g.useCallback((function(e){return h(e.originalEvent)}),[h]),B=g.useCallback((function(e){var t;e.originalEvent.preventDefault(),null===(t=_.current)||void 0===t||t.focus(),L()}),[_,L]);return(0,S.createScopedElement)("div",{vkuiClass:(0,C.classNames)((0,se.getClassName)("Search",p),{"Search--focused":P,"Search--has-value":!!N,"Search--has-after":!!d,"Search--has-icon":!!v}),className:o,style:E},(0,S.createScopedElement)("div",{vkuiClass:"Search__in"},(0,S.createScopedElement)("div",{vkuiClass:"Search__width"}),(0,S.createScopedElement)("label",{vkuiClass:"Search__control"},(0,S.createScopedElement)("input",(0,r.default)({type:"search"},w,{autoComplete:b,ref:_,vkuiClass:"Search__input",onFocus:function(e){A(!0),w.onFocus&&w.onFocus(e)},onBlur:function(e){A(!1),w.onBlur&&w.onBlur(e)},onChange:I,value:N})),p===y.IOS&&d&&(0,S.createScopedElement)("div",{vkuiClass:"Search__after-width"},d),(0,S.createScopedElement)("div",{vkuiClass:"Search__placeholder"},(0,S.createScopedElement)("div",{vkuiClass:"Search__placeholder-in"},n,(0,S.createScopedElement)(Jo,{vkuiClass:"Search__placeholder-text",platform:p},c)),P&&p===y.IOS&&d&&(0,S.createScopedElement)("div",{vkuiClass:"Search__after-width"},d))),(0,S.createScopedElement)("div",{vkuiClass:"Search__after",onClick:L},(0,S.createScopedElement)("div",{vkuiClass:"Search__icons"},v&&(0,S.createScopedElement)(D,{onStart:H,vkuiClass:"Search__icon"},v),!!N&&(0,S.createScopedElement)(D,{onStart:B,vkuiClass:"Search__icon"},p===y.IOS?(0,S.createScopedElement)(jo.default,null):(0,S.createScopedElement)(ao.default,null))),p===y.IOS&&d&&(0,S.createScopedElement)("div",{vkuiClass:"Search__after-in"},d))),p===y.VKCOM&&(0,S.createScopedElement)(je,{vkuiClass:"Search__separator",wide:!0}))}));Qo.displayName="Search";var Zo=["children","mode","getRootRef","sizeX"],$o=g.createContext("default"),ea=pe((function(e){var t=e.children,n=e.mode,o=void 0===n?"default":n,a=e.getRootRef,l=e.sizeX,s=(0,i.default)(e,Zo),c=(0,ve.usePlatform)();return c!==y.IOS&&"segmented"===o&&(o="default"),(0,S.createScopedElement)("div",(0,r.default)({},s,{ref:a,vkuiClass:(0,C.classNames)((0,se.getClassName)("Tabs",c),"Tabs--".concat(o),"Tabs--sizeX-".concat(l))}),(0,S.createScopedElement)("div",{vkuiClass:"Tabs__in"},(0,S.createScopedElement)($o.Provider,{value:o},t)))}),{sizeX:!0});ea.displayName="Tabs";var ta=["children","selected","after"],na=function(e){var t=e.children,n=e.selected,o=void 0!==n&&n,a=e.after,l=(0,i.default)(e,ta),s=(0,ve.usePlatform)(),c=g.useContext($o),u="buttons"===c||"segmented"===c?mt.Subhead:_t;return s===y.VKCOM&&(u=He),(0,S.createScopedElement)(Ie,(0,r.default)({},l,{vkuiClass:(0,C.classNames)((0,se.getClassName)("TabsItem",s),{"TabsItem--selected":o}),hasActive:"segmented"===c,activeMode:"TabsItem--active",focusVisibleMode:"segmented"===c?"outside":"inside"}),(0,S.createScopedElement)(u,{Component:"span",vkuiClass:"TabsItem__in",weight:"2"},t),(0,V.hasReactNode)(a)&&(0,S.createScopedElement)("div",{vkuiClass:"TabsItem__after"},a))},oa=n(54509),aa=n.n(oa);var ra=function(e){var t=e.on,n=void 0===t||t,o=e.size,a=void 0===o?24:o,r=e.strokeWidth,i=void 0===r?2.5:r,l=e.style,s=e.progress,c=void 0===s?0:s,u=e["aria-label"],d=void 0===u?"Пожалуйста, подождите...":u,f=.5*a-.5*i,p=2*Math.PI*f,v=.5*a,m=function(e,t){var n=e/100;return 2*Math.PI*t*(1-n)}(n?80:c,f);return(0,S.createScopedElement)("div",{vkuiClass:(0,C.classNames)("PullToRefresh__spinner",n&&"PullToRefresh__spinner--on"),style:l,"aria-label":n?d:void 0},(0,S.createScopedElement)("svg",{role:"presentation",vkuiClass:"PullToRefresh__spinner-self",style:{width:a,height:a},viewBox:"0 0 ".concat(a," ").concat(a),xmlns:"http://www.w3.org/2000/svg"},(0,S.createScopedElement)("g",{style:{width:a,height:a,transformOrigin:"".concat(v,"px ").concat(v,"px")}},(0,S.createScopedElement)("circle",{vkuiClass:"PullToRefresh__spinner-path",fill:"none",strokeDasharray:p,strokeDashoffset:m,strokeWidth:i,strokeLinecap:"round",cx:v,cy:v,r:f}))))};function ia(e){var t=g.useRef();return g.useEffect((function(){t.current=e})),t.current}var la=["children","isFetching","onRefresh"];function sa(e){if(!e)return!1;for(;e.originalEvent;)e=e.originalEvent;return e.preventDefault&&e.cancelable&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),!1}var ca={cancelable:!0,passive:!1},ua=function(e){var t=e.children,n=e.isFetching,o=e.onRefresh,a=(0,i.default)(e,la),l=(0,ve.usePlatform)(),s=K(),c=(0,O.useDOM)().document,u=ia(n),d=g.useMemo((function(){return{start:l===y.IOS?-10:-45,max:l===y.IOS?50:80,maxY:l===y.IOS?400:80,refreshing:l===y.IOS?36:50,positionMultiplier:l===y.IOS?.21:1}}),[l]),f=g.useState(d.start),p=(0,W.default)(f,2),v=p[0],m=p[1],h=g.useState(!1),E=(0,W.default)(h,2),k=E[0],b=E[1],w=g.useState(!1),_=(0,W.default)(w,2),R=_[0],M=_[1],P=g.useState(!1),A=(0,W.default)(P,2),T=A[0],x=A[1],I=g.useState(!1),L=(0,W.default)(I,2),H=L[0],B=L[1],z=ia(H),V=g.useRef(0),Y=g.useState(0),F=(0,W.default)(Y,2),X=F[0],G=F[1],j=g.useState(0),U=(0,W.default)(j,2),q=U[0],J=U[1];Fe(c,"touchmove",(function(e){R&&(e.preventDefault(),e.stopPropagation())}),ca);var Q=g.useCallback((function(){b(!1),x(!1),M(!1),m(d.start),J(0),G(0)}),[d]),Z=g.useCallback((function(){H||Q()}),[H,Q]),$=(0,ye.useTimeout)(Z,1e3),ee=$.set,te=$.clear;(0,N.useIsomorphicLayoutEffect)((function(){void 0!==u&&u&&!n&&Z()}),[u,n,Z]),(0,N.useIsomorphicLayoutEffect)((function(){void 0!==u&&!u&&n&&te()}),[n,u,te]);var ne=g.useCallback((function(){var e;!R&&o&&(ee(),M(!0),m((function(e){return l===y.IOS?e:d.refreshing})),o(),e="light",aa().supports("VKWebAppTapticImpactOccurred")&&aa().send("VKWebAppTapticImpactOccurred",{style:e}).catch((function(){})))}),[R,o,ee,l,d.refreshing]);(0,N.useIsomorphicLayoutEffect)((function(){void 0!==z&&z&&!H&&(!R&&T?ne():R&&!n?Q():(m(R?d.refreshing:d.start),J(0),G(0)))}),[d,u,n,Z,z,H,R,T,ne]);var oe="translate3d(0, ".concat(v,"px, 0)"),ae="";return l===y.IOS&&R&&!H?ae="translate3d(0, 100px, 0)":l===y.IOS&&(X||R)&&(ae="translate3d(0, ".concat(X,"px, 0)")),(0,S.createScopedElement)(ge.Provider,{value:!0},(0,S.createScopedElement)(D,(0,r.default)({},a,{onStart:function(e){R&&sa(e),B(!0)},onMove:function(e){var t=e.isY,n=e.shiftY,o=d.start,a=d.max,r=null==s?void 0:s.getScroll().y;if(k&&H){sa(e);var i=d.positionMultiplier,c=d.maxY,u=Math.max(0,n-V.current),f=Math.max(o,Math.min(c,o+u*i)),p=f>-10?80*Math.abs((f+10)/a):0;m(f),J(Math.min(80,Math.max(0,p))),x(p>80),G(2.3*(f+10)),p>85&&!R&&l===y.IOS&&ne()}else t&&0===r&&n>0&&!R&&H&&(sa(e),V.current=n,b(!0),m(o),J(0))},onEnd:function(){b(!1),B(!1)},vkuiClass:(0,C.classNames)("PullToRefresh",l===y.IOS&&"PullToRefresh--ios",k&&"PullToRefresh--watching",R&&"PullToRefresh--refreshing")}),(0,S.createScopedElement)(Ke,{vkuiClass:"PullToRefresh__controls"},(0,S.createScopedElement)(ra,{style:{transform:oe,WebkitTransform:oe,opacity:k||R||T?1:0},on:R,progress:R?void 0:q})),(0,S.createScopedElement)("div",{vkuiClass:"PullToRefresh__content",style:{transform:ae,WebkitTransform:ae}},t)))},da=["children"],fa=function(e){var t=e.children,n=(0,i.default)(e,da),o=(0,ve.usePlatform)();return(0,S.createScopedElement)(Ie,(0,r.default)({Component:n.href?"a":"button"},n,{vkuiClass:(0,se.getClassName)("Link",o),hasActive:!1,hoverMode:"opacity",focusVisibleMode:"outside"}),t)},pa=n(93176),va=n(73930),ma=["children","isShown","offsetX","offsetY","alignX","alignY","onClose","cornerOffset","cornerAbsoluteOffset","mode"],ha=function(e){return g.isValidElement(e)&&"string"==typeof e.type},Sa=(0,se.getClassName)("Tooltip"),ga=((0,ne.warnOnce)("Tooltip"),g.forwardRef((function(e,t){var n=e.mode,o=void 0===n?"accent":n,a=e.header,i=e.text,l=e.arrowRef,s=e.style,c=void 0===s?{}:s,u=e.attributes;return(0,S.createScopedElement)("div",{vkuiClass:(0,C.classNames)(Sa,"Tooltip--".concat(o))},(0,S.createScopedElement)("div",(0,r.default)({vkuiClass:"Tooltip__container",ref:t,style:c.container},null==u?void 0:u.container),(0,S.createScopedElement)("div",(0,r.default)({vkuiClass:"Tooltip__corner",style:c.arrow},null==u?void 0:u.arrow,{ref:l})),(0,S.createScopedElement)("div",{vkuiClass:"Tooltip__content"},a&&(0,S.createScopedElement)(mt.Subhead,{weight:"1",vkuiClass:"Tooltip__title"},a),i&&(0,S.createScopedElement)(mt.Subhead,{vkuiClass:"Tooltip__text"},i))))})));function Ca(e){switch(e){case"left":return"start";case"right":return"end";default:return""}}var Ea=function(e){var t,n,o=e.children,a=e.isShown,l=void 0===a||a,s=e.offsetX,c=void 0===s?0:s,u=e.offsetY,d=void 0===u?15:u,f=e.alignX,p=e.alignY,v=e.onClose,m=e.cornerOffset,C=void 0===m?0:m,E=e.cornerAbsoluteOffset,k=e.mode,b=void 0===k?"accent":k,y=(0,i.default)(e,ma),w=$().entering,_=l&&!w,R=g.useState(null),M=(0,W.default)(R,2),P=M[0],A=M[1],x=g.useState(null),N=(0,W.default)(x,2),I=N[0],D=N[1],L=g.useState(),H=(0,W.default)(L,2),B=H[0],z=H[1],V=g.useMemo((function(){return null==B?void 0:B.closest("[".concat(ue,"]"))}),[B]),Y=g.useMemo((function(){return"fixed"===(null==B?void 0:B.style.position)?"fixed":"absolute"}),[B]);var F=g.useMemo((function(){return{name:"arrowOffset",enabled:!0,phase:"main",fn:function(e){var t,n,o=e.state;o.modifiersData.arrow&&(!function(e){return e.startsWith("top")||e.startsWith("bottom")}(o.placement)?void 0!==E?o.modifiersData.arrow.y=E:void 0!==(null===(n=o.modifiersData.arrow)||void 0===n?void 0:n.y)&&(o.modifiersData.arrow.y+=C):void 0!==E?o.modifiersData.arrow.x=E:void 0!==(null===(t=o.modifiersData.arrow)||void 0===t?void 0:t.x)&&(o.modifiersData.arrow.x+=C))}}}),[C,E]),X=function(e,t){return[t||"bottom",Ca(e||"left")].filter((function(e){return!!e})).join("-")}(f,p),K=(0,va.usePopper)(B,P,{strategy:Y,placement:X,modifiers:[{name:"offset",options:{offset:[c,d]}},{name:"arrow",options:{element:I,padding:14}},{name:"preventOverflow"},{name:"flip"},F]}),G=K.styles,j=K.attributes;Fe((0,O.useDOM)().document,"click",_&&v,{passive:!0});var U=g.isValidElement(o)&&(ha(o)?o.ref:o.props.getRootRef),q=(0,T.useExternRef)(z,U),J=g.isValidElement(o)?g.cloneElement(o,(0,h.default)({},ha(o)?"ref":"getRootRef",q)):o;return(0,S.createScopedElement)(g.Fragment,null,J,_&&null!=B&&pa.createPortal((0,S.createScopedElement)(ga,(0,r.default)({},y,{mode:b,ref:function(e){return A(e)},arrowRef:function(e){return D(e)},style:{arrow:G.arrow,container:G.popper},attributes:{arrow:null!==(t=j.arrow)&&void 0!==t?t:null,container:null!==(n=j.popper)&&void 0!==n?n:null}})),V))},ka=["children","weight","caps","Component"],ba=function(e){var t=e.children,n=e.weight,o=e.caps,a=e.Component,l=void 0===a?"span":a,s=(0,i.default)(e,ka);return(0,S.createScopedElement)(l,(0,r.default)({},s,{vkuiClass:(0,C.classNames)("Footnote",o&&"Footnote--caps",n&&"Footnote--w-".concat(n))}),t)},ya=[];var wa=["photos","visibleCount","size","layout","children"],_a=function(e){var t=e.photos,n=void 0===t?[]:t,a=e.visibleCount,l=void 0===a?3:a,s=e.size,c=void 0===s?"s":s,u=e.layout,d=void 0===u?"horizontal":u,f=e.children,p=(0,i.default)(e,wa),v=(0,O.useDOM)().document;(0,N.useIsomorphicLayoutEffect)((function(){!function(e){if(o.canUseDOM&&e&&!ya.includes(e)){var t=e.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttributeNS(null,"id","__SVG_MASKS_NODE__"),t.setAttributeNS(null,"width","0"),t.setAttributeNS(null,"height","0"),t.style.position="absolute",t.style.width="0px",t.style.height="0px",t.innerHTML='<defs>\n  <path id="users_stack_16_left" d="M2,13.285A8 8 0 0 0 8 16A8 8 0 0 0 8 0A8 8 0 0 0 2 2.715A8 8 0 0 1 2,13.285" />\n  <circle id="users_stack_16_circle" cx="8" cy="8" r="8" />\n  \n  <path id="users_stack_24_left" d="M2,18.625A12 12 0 0 0 12 24A12 12 0 0 0 12 0A12 12 0 0 0 2 5.375A12 12 0 0 1 2,18.625" />\n  <circle id="users_stack_24_circle" cx="12" cy="12" r="12" />\n  <path id="users_stack_24_right" d="M22,18.625A12 12 0 0 1 12 24A12 12 0 0 1 12 0A12 12 0 0 1 22 5.375A12 12 0 0 0 22,18.625" />\n\n  <path id="users_stack_32_left" d="M2,23.75A16 16 0 0 0 16 32A16 16 0 0 0 16 0A16 16 0 0 0 2 8.25A16 16 0 0 1 2,23.75" />\n  <circle id="users_stack_32_circle" cx="16" cy="16" r="16" />\n  <path id="users_stack_32_right" d="M30,23.75A16 16 0 0 1 16 32A16 16 0 0 1 16 0A16 16 0 0 1 30 8.25A16 16 0 0 0 30,23.75" />\n\n  <clipPath id="users_stack_mask_16_left">\n    <use href="#users_stack_16_left"/>\n  </clipPath>\n\n  <clipPath id="users_stack_mask_16_circle">\n    <use href="#users_stack_16_circle"/>\n  </clipPath>\n\n  <clipPath id="users_stack_mask_24_left">\n    <use href="#users_stack_24_left"/>\n  </clipPath>\n\n  <clipPath id="users_stack_mask_24_circle">\n    <use href="#users_stack_24_circle"/>\n  </clipPath>\n\n  <clipPath id="users_stack_mask_24_right">\n    <use href="#users_stack_24_right"/>\n  </clipPath>\n\n  <clipPath id="users_stack_mask_32_left">\n    <use href="#users_stack_32_left"/>\n  </clipPath>\n\n  <clipPath id="users_stack_mask_32_circle">\n    <use href="#users_stack_32_circle"/>\n  </clipPath>\n\n  <clipPath id="users_stack_mask_32_right">\n    <use href="#users_stack_32_right"/>\n  </clipPath>\n</defs>',e.body.appendChild(t),ya.push(e)}}(v)}),[v]);var m=Math.max(0,n.length-l),h=m>0&&"xs"!==c,g="m"===c?ba:St,E={xs:16,s:24,m:32}[c],k=h?"right":"left",b=n.slice(0,l);return(0,S.createScopedElement)("div",(0,r.default)({},p,{vkuiClass:(0,C.classNames)("UsersStack","UsersStack--size-".concat(c),"UsersStack--l-".concat(d),h&&"UsersStack--others")}),(0,S.createScopedElement)("div",{vkuiClass:"UsersStack__photos",role:"presentation"},b.map((function(e,t){var n=0!==t||h?k:"circle",o="#users_stack_".concat(E,"_").concat(n),a="url(#users_stack_mask_".concat(E,"_").concat(n,")");return(0,S.createScopedElement)("svg",{xmlns:"http://www.w3.org/2000/svg",vkuiClass:"UsersStack__photo",key:t,"aria-hidden":!0},(0,S.createScopedElement)("g",{clipPath:a},(0,S.createScopedElement)("use",{vkuiClass:"UsersStack__fill",href:o}),(0,S.createScopedElement)("image",{href:e,width:E,height:E}),(0,S.createScopedElement)("use",{href:o,fill:"none",stroke:"rgba(0, 0, 0, 0.08)"})))})),h&&(0,S.createScopedElement)(g,{caps:!0,weight:"1",level:"2",vkuiClass:"UsersStack__photo UsersStack__photo--others","aria-hidden":!0},(0,S.createScopedElement)("span",null,"+",m))),(0,V.hasReactNode)(f)&&(0,S.createScopedElement)(ba,{vkuiClass:"UsersStack__text"},f))},Ra=["icon","header","action","children","stretched","getRootRef"],Ma=function(e){var t=e.icon,n=e.header,o=e.action,a=e.children,l=e.stretched,s=e.getRootRef,c=(0,i.default)(e,Ra);return(0,S.createScopedElement)("div",(0,r.default)({},c,{ref:s,vkuiClass:(0,C.classNames)("Placeholder",{"Placeholder--stretched":l})}),(0,S.createScopedElement)("div",{vkuiClass:"Placeholder__in"},(0,V.hasReactNode)(t)&&(0,S.createScopedElement)("div",{vkuiClass:"Placeholder__icon"},t),(0,V.hasReactNode)(n)&&(0,S.createScopedElement)(ze,{level:"2",weight:"2",vkuiClass:"Placeholder__header"},n),(0,V.hasReactNode)(a)&&(0,S.createScopedElement)(_t,{weight:"3",vkuiClass:"Placeholder__text"},a),(0,V.hasReactNode)(o)&&(0,S.createScopedElement)("div",{vkuiClass:"Placeholder__action"},o)))},Pa=["children","Component","getRef","onSubmit"],Aa=function(e){return e.preventDefault()},Oa=function(e){var t=e.children,n=e.Component,o=void 0===n?"form":n,a=e.getRef,l=e.onSubmit,s=void 0===l?Aa:l,c=(0,i.default)(e,Pa),u=(0,ve.usePlatform)();return(0,S.createScopedElement)(o,(0,r.default)({},c,{vkuiClass:(0,se.getClassName)("FormLayout",u),onSubmit:s,ref:a}),(0,S.createScopedElement)("div",{vkuiClass:"FormLayout__container"},t),"form"===o&&(0,S.createScopedElement)("input",{type:"submit",vkuiClass:"FormLayout__submit",value:""}))},Ta=["children","top","bottom","status","Component","removable","onRemove","removePlaceholder","getRootRef"],xa=function(e){var t=e.children,n=e.top,o=e.bottom,a=e.status,l=void 0===a?"default":a,s=e.Component,c=void 0===s?"div":s,u=e.removable,d=e.onRemove,f=void 0===d?V.noop:d,p=e.removePlaceholder,v=void 0===p?"Удалить":p,m=e.getRootRef,h=(0,i.default)(e,Ta),E=(0,ve.usePlatform)(),k=(0,T.useExternRef)(m),b=(0,De.useAdaptivity)().sizeY,y=(0,S.createScopedElement)(g.Fragment,null,(0,V.hasReactNode)(n)&&(0,S.createScopedElement)(mt.Subhead,{vkuiClass:"FormItem__top"},n),t,(0,V.hasReactNode)(o)&&(0,S.createScopedElement)(St,{vkuiClass:"FormItem__bottom"},o));return(0,S.createScopedElement)(c,(0,r.default)({},h,{ref:k,vkuiClass:(0,C.classNames)((0,se.getClassName)("FormItem",E),"FormItem--".concat(l),"FormItem--sizeY-".concat(b),(0,V.hasReactNode)(n)&&"FormItem--withTop",u&&"FormItem--removable")}),u?(0,S.createScopedElement)(lo,{align:"start",onRemove:function(e){null!=k&&k.current&&f(e,k.current)},removePlaceholder:v},(0,S.createScopedElement)("div",{vkuiClass:"FormItem__removable"},y)):y)},Na=["Component","children","getRootRef","before","after","disabled","mode"],Ia="default",Da=function(e){var t=e.Component,n=void 0===t?"div":t,o=e.children,a=e.getRootRef,l=e.before,s=e.after,c=e.disabled,u=e.mode,d=void 0===u?Ia:u,f=(0,i.default)(e,Na),p=(0,ve.usePlatform)(),v=(0,De.useAdaptivity)().sizeY,m=g.useState(!1),h=(0,W.default)(m,2),E=h[0],k=h[1];return(0,S.createScopedElement)(n,(0,r.default)({role:"presentation"},f,{ref:a,onMouseEnter:function(e){e.stopPropagation(),k(!0)},onMouseLeave:function(e){e.stopPropagation(),k(!1)},vkuiClass:(0,C.classNames)((0,se.getClassName)("FormField",p),"FormField--".concat(d),"FormField--sizeY-".concat(v),c&&"FormField--disabled",!c&&E&&"FormField--hover")}),(0,V.hasReactNode)(l)&&(0,S.createScopedElement)("div",{role:"presentation",vkuiClass:"FormField__before"},l),o,(0,V.hasReactNode)(s)&&(0,S.createScopedElement)("div",{role:"presentation",vkuiClass:"FormField__after"},s),(0,S.createScopedElement)("div",{role:"presentation",vkuiClass:"FormField__border"}))},La=["type","align","getRef","className","getRootRef","sizeY","style","before","after"],Ha=pe((function(e){var t=e.type,n=void 0===t?"text":t,o=e.align,a=e.getRef,l=e.className,s=e.getRootRef,c=e.sizeY,u=e.style,d=e.before,f=e.after,p=(0,i.default)(e,La),v=(0,ve.usePlatform)();return(0,S.createScopedElement)(Da,{vkuiClass:(0,C.classNames)((0,se.getClassName)("Input",v),!!o&&"Input--".concat(o),"Input--sizeY-".concat(c)),style:u,className:l,getRootRef:s,before:d,after:f,disabled:p.disabled},(0,S.createScopedElement)("input",(0,r.default)({},p,{type:n,vkuiClass:"Input__el",ref:a})))}),{sizeY:!0}),Ba=["getRef"],za=function(e){var t=e.getRef,n=(0,i.default)(e,Ba),o=(0,T.useExternRef)(t);return(0,S.createScopedElement)("input",(0,r.default)({},n,{vkuiClass:"VisuallyHiddenInput",ref:o}))},Wa=["children","description","style","className","getRootRef","sizeY"],Va=function(e){return(0,S.createScopedElement)("svg",(0,r.default)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":!0},e),(0,S.createScopedElement)("circle",{cx:"12",cy:"12",r:"11",stroke:"currentColor",strokeWidth:"2",fill:"none"}),(0,S.createScopedElement)("circle",{cx:"12",cy:"12",r:"7.5",vkuiClass:"Radio__pin",fill:"currentColor"}))},Ya=pe((function(e){var t=e.children,n=e.description,o=e.style,a=e.className,l=e.getRootRef,s=e.sizeY,c=(0,i.default)(e,Wa),u=(0,ve.usePlatform)(),d=u===y.VKCOM||s===fe.SizeType.COMPACT?He:_t;return(0,S.createScopedElement)(Ie,{Component:"label",style:o,className:a,vkuiClass:(0,C.classNames)("Radio","Radio--sizeY-".concat(s)),activeEffectDelay:u===y.IOS?100:600,disabled:c.disabled,getRootRef:l},(0,S.createScopedElement)(za,(0,r.default)({},c,{vkuiClass:"Radio__input",type:"radio"})),(0,S.createScopedElement)("div",{vkuiClass:"Radio__container"},(0,S.createScopedElement)(Va,{vkuiClass:"Radio__icon"}),(0,S.createScopedElement)(d,{vkuiClass:"Radio__content",Component:"div"},(0,S.createScopedElement)("div",{vkuiClass:"Radio__children"},t),(0,V.hasReactNode)(n)&&(0,S.createScopedElement)(St,{vkuiClass:"Radio__description"},n))))}),{sizeY:!0}),Fa=n(61314),Xa=n(55276),Ka=n(33125),Ga=["children","className","style","getRootRef","getRef","description","indeterminate","defaultIndeterminate","sizeY","onChange"],ja=((0,ne.warnOnce)("Checkbox"),function(e){var t=e.children,n=e.className,o=e.style,a=e.getRootRef,l=e.getRef,s=e.description,c=e.indeterminate,u=e.defaultIndeterminate,d=e.sizeY,f=e.onChange,p=(0,i.default)(e,Ga),v=(0,T.useExternRef)(l),m=(0,ve.usePlatform)();g.useEffect((function(){var e=void 0===c?u:c;v.current&&(v.current.indeterminate=Boolean(e))}),[u,c,v]);var h=g.useCallback((function(e){void 0!==u&&void 0===c&&void 0===p.checked&&v.current&&(v.current.indeterminate=!1),void 0!==c&&v.current&&(v.current.indeterminate=c),f&&f(e)}),[u,c,p.checked,f,v]);return(0,S.createScopedElement)(Ie,{Component:"label",vkuiClass:(0,C.classNames)("Checkbox","Checkbox--sizeY-".concat(d),!((0,V.hasReactNode)(t)||(0,V.hasReactNode)(s))&&"Checkbox--simple"),className:n,style:o,disabled:p.disabled,activeEffectDelay:m===y.IOS?100:600,getRootRef:a},(0,S.createScopedElement)(za,(0,r.default)({},p,{onChange:h,type:"checkbox",vkuiClass:"Checkbox__input",getRef:v})),(0,S.createScopedElement)("div",{vkuiClass:"Checkbox__icon Checkbox__icon--on"},d===fe.SizeType.COMPACT||m===y.VKCOM?(0,S.createScopedElement)(Fa.default,{"aria-hidden":!0}):(0,S.createScopedElement)(mo.default,{"aria-hidden":!0})),(0,S.createScopedElement)("div",{vkuiClass:"Checkbox__icon Checkbox__icon--off"},d===fe.SizeType.COMPACT||m===y.VKCOM?(0,S.createScopedElement)(Xa.default,{"aria-hidden":!0}):(0,S.createScopedElement)(po.default,{"aria-hidden":!0})),(0,S.createScopedElement)("div",{vkuiClass:"Checkbox__icon Checkbox__icon--indeterminate"},(0,S.createScopedElement)(Ka.default,{"aria-hidden":!0,width:d===fe.SizeType.COMPACT||m===y.VKCOM?20:24,height:d===fe.SizeType.COMPACT||m===y.VKCOM?20:24})),(0,S.createScopedElement)(He,{vkuiClass:"Checkbox__content",Component:"div"},(0,S.createScopedElement)("div",{vkuiClass:"Checkbox__children"},t),(0,V.hasReactNode)(s)&&(0,S.createScopedElement)(St,{vkuiClass:"Checkbox__description"},s)))}),Ua=(pe(ja,{sizeY:!0}),["children","hierarchy","hovered","selected","before","after","option","description","disabled","style"]),qa=((0,ne.warnOnce)("CustomSelectOption"),function(e){var t=e.children,n=e.hierarchy,o=void 0===n?0:n,a=e.hovered,l=e.selected,s=e.before,c=e.after,u=(e.option,e.description),d=e.disabled,f=e.style,p=(0,i.default)(e,Ua),v="string"==typeof t?t:void 0,m=(0,De.useAdaptivity)().sizeY,h=g.useMemo((function(){return o>0?(0,w.default)({"--custom-select-option-hierarchy-level":o},f):f}),[o,f]);return(0,S.createScopedElement)(yo,(0,r.default)({},p,{Component:"div",role:"option",title:v,"aria-disabled":d,"aria-selected":l,vkuiClass:(0,C.classNames)("CustomSelectOption","CustomSelectOption--sizeY-".concat(m),a&&!d&&"CustomSelectOption--hover",l&&"CustomSelectOption--selected",d&&"CustomSelectOption--disabled",o>0&&"CustomSelectOption--hierarchy"),style:h}),(0,V.hasReactNode)(s)&&(0,S.createScopedElement)("div",{vkuiClass:"CustomSelectOption__before"},s),(0,S.createScopedElement)("div",{vkuiClass:"CustomSelectOption__main"},(0,S.createScopedElement)("div",{vkuiClass:"CustomSelectOption__children"},t),(0,V.hasReactNode)(u)&&(0,S.createScopedElement)(St,{vkuiClass:"CustomSelectOption__description"},u)),(0,S.createScopedElement)("div",{vkuiClass:"CustomSelectOption__after"},(0,V.hasReactNode)(c)&&(0,S.createScopedElement)("div",{vkuiClass:"CustomSelectOption__afterIn"},c),l&&(0,S.createScopedElement)(tn.default,{vkuiClass:"CustomSelectOption__selectedIcon"})))}),Ja=["children","getRootRef"],Qa=function(e){var t=e.children,n=e.getRootRef,o=(0,i.default)(e,Ja);return(0,S.createScopedElement)("div",(0,r.default)({},o,{ref:n,vkuiClass:"Div"}),t)},Za=["height","style"],$a=g.memo((function(e){var t=e.height,n=void 0===t?96:t,o=e.style,a=(0,i.default)(e,Za);return(0,S.createScopedElement)(yt,(0,r.default)({size:"regular"},a,{style:(0,w.default)({height:n},o)}))}));$a.displayName="PanelSpinner";var er=n(79228),tr=["children"],nr=function(e){var t=e.children,n=void 0===t?"Отмена":t,o=(0,i.default)(e,tr),a=(0,ve.usePlatform)();return(0,S.createScopedElement)(Ye,(0,r.default)({"aria-label":(0,V.getTitleFromChildren)(n)},o),a===y.ANDROID||a===y.VKCOM?(0,S.createScopedElement)(er.default,null):n)},or=n(72029),ar=n(68273),rr=n(97569),ir=["label","sizeX","aria-label"],lr=g.memo(pe((function(e){var t=e.label,n=e.sizeX,o=e["aria-label"],a=void 0===o?"Назад":o,l=(0,i.default)(e,ir),s=(0,ve.usePlatform)(),c=s===y.VKCOM||s===y.IOS&&n===fe.SizeType.REGULAR;return(0,S.createScopedElement)(Ye,(0,r.default)({},l,{"aria-label":a,vkuiClass:(0,C.classNames)((0,se.getClassName)("PanelHeaderBack",s),{"PanelHeaderBack--has-label":c&&!!t}),label:c&&t}),s===y.ANDROID&&(0,S.createScopedElement)(or.default,null),s===y.VKCOM&&(0,S.createScopedElement)(ar.default,null),s===y.IOS&&(0,S.createScopedElement)(rr.default,null))}),{sizeX:!0}));lr.displayName="PanelHeaderBack";var sr=n(95469),cr=n(17235);var ur={bottom:null,top:null,left:null,right:null};function dr(e){var t=e.detail,n=t.type,o=t.data;switch(n){case"VKWebAppUpdateConfig":case"VKWebAppUpdateInsets":var a=o.insets;if(a)return(0,w.default)((0,w.default)({},a),{},{bottom:a.bottom>150?0:a.bottom})}return null}aa().subscribe((function(e){var t=dr(e);t&&(ur=t)}));var fr=["children","mode","embedded","sizeX","hasMouse","noLegacyClasses","scroll"],pr=((0,ne.warnOnce)("AppRoot"),pe((function(e){var t=e.children,n=e.mode,o=e.embedded,a=e.sizeX,l=e.hasMouse,s=e.noLegacyClasses,c=void 0!==s&&s,u=e.scroll,d=void 0===u?"global":u,f=(0,i.default)(e,fr),p=n||(o?"embedded":"full"),v=function(){var e=(0,O.useDOM)().document,t=g.useState(!1),n=(0,W.default)(t,2),o=n[0],a=n[1],r=g.useCallback((function(){a(!0)}),[]),i=g.useCallback((function(e){ke(e)===Ce.TAB&&r()}),[r]),l=g.useCallback((function(){a(!1)}),[]),s={passive:!0,capture:!0};return Fe(e,"keydown",i,s),Fe(e,"mousedown",l,s),Fe(e,"touchstart",l,s),Fe(e,"enableKeyboardInput",r,s),Fe(e,"disableKeyboardInput",l,s),o}(),m=g.useRef(null),h=g.useState(null),E=(0,W.default)(h,2),k=E[0],b=E[1],y=(0,O.useDOM)().document,w=function(){var e=g.useState(ur),t=(0,W.default)(e,2),n=t[0],o=t[1];return(0,N.useIsomorphicLayoutEffect)((function(){function e(e){var t=dr(e);t&&o(t)}return aa().subscribe(e),function(){aa().unsubscribe(e)}}),[]),n}(),_=g.useContext(H.ConfigProviderContext).appearance,R=g.useRef(!1);R.current||(y&&"full"===p&&y.documentElement.classList.add("vkui"),sr.classScopingMode.noConflict=c,R.current=!0),(0,N.useIsomorphicLayoutEffect)((function(){var e=y.createElement("div");return e.classList.add("vkui__portal-root"),y.body.appendChild(e),b(e),function(){var t;null===(t=e.parentElement)||void 0===t||t.removeChild(e)}}),[]),(0,N.useIsomorphicLayoutEffect)((function(){var e,t;if("partial"===p)return V.noop;var n=null===(e=m.current)||void 0===e?void 0:e.parentElement,o=["vkui__root"].concat("embedded"===p?"vkui__root--embedded":[]);return null==n||(t=n.classList).add.apply(t,(0,Se.default)(o)),function(){var e;null==n||(e=n.classList).remove.apply(e,(0,Se.default)(o)),"full"===p&&(null==y||y.documentElement.classList.remove("vkui"))}}),[]),(0,N.useIsomorphicLayoutEffect)((function(){var e;if("partial"===p||null===(e=m.current)||void 0===e||!e.parentElement)return V.noop;var t=m.current.parentElement;for(var n in w)if(w.hasOwnProperty(n)&&"number"==typeof w[n]){var o=w[n];t.style.setProperty("--safe-area-inset-".concat(n),"".concat(o,"px")),k&&k.style.setProperty("--safe-area-inset-".concat(n),"".concat(o,"px"))}return function(){for(var e in w)w.hasOwnProperty(e)&&(t.style.removeProperty("--safe-area-inset-".concat(e)),k&&k.style.removeProperty("--safe-area-inset-".concat(e)))}}),[w,k]),(0,N.useIsomorphicLayoutEffect)((function(){var e;if("partial"===p||a!==fe.SizeType.REGULAR)return V.noop;var t="embedded"===p?null===(e=m.current)||void 0===e?void 0:e.parentElement:y.body;return null==t||t.classList.add("vkui--sizeX-regular"),function(){return null==t?void 0:t.classList.remove("vkui--sizeX-regular")}}),[a]),(0,N.useIsomorphicLayoutEffect)((function(){return"full"!==p||void 0===_?V.noop:(y.documentElement.style.setProperty("color-scheme",_),function(){return y.documentElement.style.removeProperty("color-scheme")})}),[_]);var M=g.useMemo((function(){return"contain"===d?j:G}),[d]),P=(0,S.createScopedElement)(we.AppRootContext.Provider,{value:{appRoot:m,portalRoot:k,embedded:"embedded"===p,keyboardInput:v,mode:p}},(0,S.createScopedElement)(M,{elRef:m},(0,S.createScopedElement)(cr.IconSettingsProvider,{classPrefix:"vkui",globalClasses:!c},t)));return"partial"===p?P:(0,S.createScopedElement)("div",(0,r.default)({ref:m,vkuiClass:(0,C.classNames)("AppRoot",{"AppRoot--no-mouse":!l})},f),P)}),{sizeX:!0,hasMouse:!0})),vr={type:"",viewportWidth:0,viewportHeight:0};function mr(e){var t=e.detail,n=t.type,o=t.data;if("VKWebAppUpdateConfig"!==n||!o)return null;var a=o.adaptivity,r=o.viewport_width,i=o.viewport_height,l={type:"",viewportWidth:isFinite(r)?+r:0,viewportHeight:isFinite(i)?+i:0};switch(a){case"force_mobile":case"force_mobile_compact":case"adaptive":l.type=a}return l}aa().subscribe((function(e){var t=mr(e);t&&(vr=t)}));var hr=function(e){var t=g.useRef(null),n=g.useState({}),o=(0,W.default)(n,2)[1],a=function(){var e=g.useState(vr),t=(0,W.default)(e,2),n=t[0],o=t[1];return(0,N.useIsomorphicLayoutEffect)((function(){function e(e){var t=mr(e);t&&o(t)}return aa().subscribe(e),function(){aa().unsubscribe(e)}}),[]),n}(),r=(0,O.useDOM)().window;return t.current||(t.current=Sr(e,a,r)),g.useEffect((function(){function n(){if(null!==t.current){var n=Sr(e,a,r),i=t.current,l=i.viewWidth,s=i.viewHeight,c=i.sizeX,u=i.sizeY,d=i.hasMouse,f=i.deviceHasHover;l===n.viewWidth&&s===n.viewHeight&&c===n.sizeX&&u===n.sizeY&&d===n.hasMouse&&f===n.deviceHasHover||(t.current=n,o({}))}}return n(),r.addEventListener("resize",n,!1),function(){r.removeEventListener("resize",n,!1)}}),[e.viewWidth,e.viewHeight,e.sizeX,e.sizeY,e.hasMouse,e.deviceHasHover,r,e,a]),(0,S.createScopedElement)(fe.AdaptivityContext.Provider,{value:t.current},e.children)};function Sr(e,t,n){var a=0,r=0;"adaptive"===t.type?(a=t.viewportWidth,r=t.viewportHeight):n&&(a=n.innerWidth,r=n.innerHeight);var i,l,s=fe.ViewWidth.SMALL_MOBILE,c=fe.ViewHeight.SMALL,u=fe.SizeType.REGULAR,d=fe.SizeType.REGULAR,f=o.hasMouse,p=o.hasHover;(s=a>=1280?fe.ViewWidth.DESKTOP:a>=1024?fe.ViewWidth.TABLET:a>=768?fe.ViewWidth.SMALL_TABLET:a>=320?fe.ViewWidth.MOBILE:fe.ViewWidth.SMALL_MOBILE,c=r>=720?fe.ViewHeight.MEDIUM:r>414?fe.ViewHeight.SMALL:fe.ViewHeight.EXTRA_SMALL,t.type)||(e.viewWidth&&(s=e.viewWidth),e.viewHeight&&(c=e.viewHeight),f=null!==(i=e.hasMouse)&&void 0!==i?i:f,p=null!==(l=e.deviceHasHover)&&void 0!==l?l:p);return s<=fe.ViewWidth.MOBILE&&(d=fe.SizeType.COMPACT),(s>=fe.ViewWidth.SMALL_TABLET&&f||c<=fe.ViewHeight.EXTRA_SMALL)&&(u=fe.SizeType.COMPACT),t.type||(e.sizeX&&(d=e.sizeX),e.sizeY&&(u=e.sizeY)),"force_mobile"!==t.type&&"force_mobile_compact"!==t.type||(s=fe.ViewWidth.MOBILE,d=fe.SizeType.COMPACT,u="force_mobile_compact"===t.type?fe.SizeType.COMPACT:fe.SizeType.REGULAR),{viewWidth:s,viewHeight:c,sizeX:d,sizeY:u,hasMouse:f,deviceHasHover:p}}var gr=n(68),Cr=n(4645),Er=g.createContext(void 0);(0,ne.warnOnce)("ConfigProvider");var kr=function(e){var t=e.children,n=e.webviewType,a=void 0===n?H.WebviewType.VKAPPS:n,r=e.isWebView,i=void 0===r?aa().isWebView():r,l=e.transitionMotionEnabled,s=void 0===l||l,c=e.platform,u=void 0===c?(0,y.platform)():c,d=e.hasNewTokens,f=void 0!==d&&d,p=e.appearance,v=e.scheme,m=e.locale,h=void 0===m?"ru":m,C=(0,gr.normalizeScheme)({scheme:v,platform:u,appearance:p}),E=(0,O.useDOM)().document,k=null==E?void 0:E.body;(0,N.useIsomorphicLayoutEffect)((function(){return"inherit"===C?V.noop:(null==k||k.setAttribute("scheme",C),function(){return null==k?void 0:k.removeAttribute("scheme")})}),[C]);var b,w,_,R,M,P,A,T,x=function(e){return e===gr.Scheme.SPACE_GRAY||e===gr.Scheme.VKCOM_DARK?"dark":"light"}((b=k,_="inherit"===(w=C),R=g.useCallback((function(){if(_&&o.canUseDOM&&b)return b.getAttribute("scheme")}),[_,b]),M=g.useState(R()),P=(0,W.default)(M,2),A=P[0],T=P[1],g.useEffect((function(){if(!_||!b)return V.noop;T(R());var e=new MutationObserver((function(){return T(R())}));return e.observe(b,{attributes:!0,attributeFilter:["scheme"]}),function(){return e.disconnect()}}),[R,_,b]),"inherit"===w?A:w));(0,N.useIsomorphicLayoutEffect)((function(){var e=(0,Cr.generateVKUITokensClassName)(u,x);return null==k||k.classList.add(e),function(){null==k||k.classList.remove(e)}}),[u,x]);var I=Q({webviewType:a,isWebView:i,transitionMotionEnabled:s,hasNewTokens:f,platform:u,scheme:v,appearance:p||x});return(0,S.createScopedElement)(H.ConfigProviderContext.Provider,{value:I},(0,S.createScopedElement)(Er.Provider,{value:h},(0,S.createScopedElement)(Cr.AppearanceProvider,{appearance:I.appearance},t)))}},34488:function(e,t,n){"use strict";n.d(t,{SSRContext:function(){return a}});n(2113);var o=n(56769),a=(n(68575),n(86654),n(21609),o.createContext({platform:null,userAgent:"",browserInfo:void 0}))},86654:function(e,t,n){"use strict";n.d(t,{computeBrowserInfo:function(){return i}});var o,a=n(11449);!function(e){e.IOS="ios",e.UNKNOWN=""}(o||(o={}));var r={};function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(r[e])return r[e];var t=null,n=o.UNKNOWN,i=(0,a.detectIOS)(e),l=i.isIOS,s=i.iosMajor,c=i.iosMinor;l&&(n=o.IOS,t={major:s,minor:c});var u={userAgent:e,system:n,systemVersion:t};return r[e]=u,u}},37734:function(e,t,n){"use strict";n.d(t,{classNames:function(){return a},classNamesString:function(){return r}});var o=n(14780);function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n)switch((0,o.default)(n)){case"string":e.push(n);break;case"object":for(var a in n)n[a]&&e.push(a);break;default:e.push("".concat(n))}}return e.length>1?e:e[0]||""}function r(){var e=a.apply(void 0,arguments);return"string"==typeof e?e:e.join(" ")}},95469:function(e,t,n){"use strict";n.d(t,{classScopingMode:function(){return o}});var o={_noConflict:!1,_isSet:!1,get noConflict(){return this._noConflict},set noConflict(e){this._isSet&&e!==this.noConflict&&setTimeout((function(){throw new Error("[vkui]: Single VKUI instance can not have different globalClassName settings")}),0),this._noConflict=e,this._isSet=!0}}},21609:function(e,t,n){"use strict";n.d(t,{getDOM:function(){return l},DOMContext:function(){return s},useDOM:function(){return c},withDOM:function(){return u},blurActiveElement:function(){return d}});var o=n(92384),a=n(2113),r=n(56769),i=n(11449),l=function(){return{window:i.canUseDOM?window:void 0,document:i.canUseDOM?document:void 0}},s=r.createContext(l()),c=function(){return r.useContext(s)};function u(e){return function(t){var n=c();return(0,a.createScopedElement)(e,(0,o.default)({},t,n))}}function d(e){e&&e.activeElement&&e.activeElement.blur()}},2113:function(e,t,n){"use strict";n.d(t,{createScopedElement:function(){return i}});var o=n(56769),a=n(85354);function r(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&"vkuiClass"!==n&&(t[n]=e[n]);if(e.vkuiClass){var o=e.className,r=(0,a.prefixClass)(e.vkuiClass);t.className=o?o+" "+r:r}return t}function i(e,t){var n=arguments;if(!t||!("vkuiClass"in t))return o.createElement.apply(void 0,n);var a=n.length,i=new Array(a);i[0]=n[0],i[1]=r(t);for(var l=2;l<a;l++)i[l]=n[l];return o.createElement.apply(null,i)}i.Fragment=o.Fragment},68575:function(e,t,n){"use strict";n.d(t,{Platform:function(){return o},ANDROID:function(){return u},IOS:function(){return d},VKCOM:function(){return f},platform:function(){return p}});var o,a=n(86654),r=n(11449);!function(e){e.ANDROID="android",e.IOS="ios",e.VKCOM="vkcom"}(o||(o={}));var i={desktop_web:o.VKCOM};var l,s,c=r.canUseDOM?(l=location.search,"string"==typeof(s=r.querystring.parse(l).vk_platform)&&s in i?i[s]:void 0):void 0,u=o.ANDROID,d=o.IOS,f=o.VKCOM;function p(e){return c||(e||(e=(0,a.computeBrowserInfo)()),"ios"===e.system?d:u)}p()},85354:function(e,t,n){"use strict";n.d(t,{prefixClass:function(){return s}});var o=n(95469),a=/\b(?=[A-Z])/g,r={},i={};function l(e){var t=o.classScopingMode.noConflict,n=t?r:i;if(n[e])return n[e];var l=e.replace(a,"vkui"),s=t||e===l?l:l+" "+e;return n[e]=s,s}function s(e){if("string"==typeof e)return l(e);for(var t="",n=0;n<e.length;n++){t+=(t?" ":"")+l(e[n])}return t}},3573:function(e,t,n){"use strict";n.d(t,{useIsomorphicLayoutEffect:function(){return a}});var o=n(56769),a=n(11449).canUseDOM?o.useLayoutEffect:o.useEffect},70471:function(e,t,n){"use strict";n.d(t,{isFunction:function(){return a},hasReactNode:function(){return r},isPrimitiveReactNode:function(){return i},setRef:function(){return l},multiRef:function(){return s},noop:function(){return c},getTitleFromChildren:function(){return u},stopPropagation:function(){return d}});var o=n(56769);function a(e){return"function"==typeof e}function r(e){return void 0!==e&&!1!==e&&null!==e&&""!==e}function i(e){return"string"==typeof e||"number"==typeof e}function l(e,t){t&&("function"==typeof t?t(e):t.current=e)}function s(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=null;return{get current(){return o},set current(e){o=e,t.forEach((function(t){return t&&l(e,t)}))}}}var c=function(){};function u(e){var t="";return o.Children.map(e,(function(e){"string"==typeof e&&(t+=e)})),t}var d=function(e){return e.stopPropagation()}},68714:function(e,t,n){"use strict";function o(e){var t={};return function(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warn";t[n]||(console[o]("[VKUI/".concat(e,"] ").concat(n)),t[n]=!0)}}n.d(t,{warnOnce:function(){return o}})},90897:function(e,t,n){"use strict";function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}n.d(t,{default:function(){return o}})},37743:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{default:function(){return o}})},77992:function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}n.d(t,{default:function(){return a}})},64478:function(e,t,n){"use strict";function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{default:function(){return o}})},92384:function(e,t,n){"use strict";function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},o.apply(this,arguments)}n.d(t,{default:function(){return o}})},23300:function(e,t,n){"use strict";n.d(t,{default:function(){return r}});var o=n(64478);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},47030:function(e,t,n){"use strict";function o(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}n.d(t,{default:function(){return o}})},51014:function(e,t,n){"use strict";n.d(t,{default:function(){return a}});var o=n(85568);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,a,r=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(r.push(o.value),!t||r.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return r}}(e,t)||(0,o.default)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},60100:function(e,t,n){"use strict";n.d(t,{default:function(){return r}});var o=n(90897);var a=n(85568);function r(e){return function(e){if(Array.isArray(e))return(0,o.default)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,a.default)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},14780:function(e,t,n){"use strict";function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}n.d(t,{default:function(){return o}})},85568:function(e,t,n){"use strict";n.d(t,{default:function(){return a}});var o=n(90897);function a(e,t){if(e){if("string"==typeof e)return(0,o.default)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,o.default)(e,t):void 0}}},11449:function(e,t,n){"use strict";n.d(t,{canUseDOM:function(){return o},detectIOS:function(){return v},hasHover:function(){return h},hasMouse:function(){return m},noop:function(){return l},querystring:function(){return p}});var o=!("undefined"==typeof window||!window.document||!window.document.createElement),a=o&&!!window.addEventListener;var r={supported:!1,name:"animationend"},i={supported:!1,name:"transitionend"};o&&("undefined"!=typeof AnimationEvent?r.supported=!0:"undefined"!=typeof WebKitAnimationEvent&&(r.supported=!0,r.name="webkitAnimationEnd"),"undefined"!=typeof TransitionEvent?i.supported=!0:"undefined"!=typeof WebKitTransitionEvent&&(i.supported=!0,i.name="webkitTransitionEnd"));var l=function(){};if(a)try{var s=Object.defineProperty({},"passive",{get:function(){!0}});window.addEventListener("test",l,s),window.removeEventListener("test",l,s)}catch(e){}!function(){if(!o)return!1;var e=!1;try{document.createElement("div").scrollTo({top:0,get behavior(){return e=!0,"smooth"}})}catch(e){}}();var c=n(64478),u=n(14780);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,c.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={parse:function(e){if("string"!=typeof e)return{};if(!(e=e.trim().replace(/^[?#&]/,"")))return{};var t=/\?(.+)$/gi.exec(e);return(t?t[1]:e).split("&").reduce((function(e,t){var n=t.split("=");return n[1]&&(e[n[0]]=decodeURIComponent(n[1])),e}),{})},stringify:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==(0,u.default)(e)||null===e)return"";t=f({encode:!0},t);var n=function(e){return t.encode?encodeURIComponent(e):String(e)};return Object.keys(e).reduce((function(o,a){var r=e[a];return void 0===r?o:null===r?(t.skipNull||o.push([n(a),""].join("=")),o):Array.isArray(r)?(r.map((function(e){o.push("".concat(n(a),"[]=").concat(n(e)))})).join(),o):(o.push([n(a),n(r)].join("=")),o)}),[]).join("&")}};n(37743),n(77992);function v(e){e||(e=o?navigator.userAgent.toLowerCase():"");var t=function(e){if(!o)return!1;var t=!/ipad|iphone|ipod/.test(e);if(/mac os/.test(e)&&t&&"boolean"==typeof navigator.standalone)return!0;return!1}(e),n=t||-1!==e.indexOf("ipad"),a=!n&&-1!==e.search(/iphone|ipod/),r=a||n,i=r&&e.match(/OS ([\d_]+) like Mac OS X/i),l=0,s=0;t?(l=13,s=0):i&&(l=+(i=i[1].split("_"))[0],s=+i[1]),i=null;var c=l<13&&!(11===l&&s<3),u=r&&function(e){if(!o)return!1;var t=window.webkit;if(t&&t.messageHandlers)return!0;var n=/constructor/i.test(String(window.HTMLElement)),a=!!window.indexedDB;if(-1===e.indexOf("safari")||-1===e.indexOf("version")||navigator.standalone){if(!a&&n||!window.statusbar||!window.statusbar.visible);else if(!n||a)return!0}else;return!1}(e),d=!1;return o&&(d=r&&375===screen.width&&812===screen.height&&3===window.devicePixelRatio),{isIPad:n,isIPhone:a,isIOS:r,isIPadOS:t,iosMajor:l,iosMinor:s,isWKWebView:u,isScrollBasedViewport:c,isIPhoneX:d,isIOSChrome:-1!==e.search(/crios/i)}}var m,h,S=v(),g=(S.isIPad,S.isIPhone,S.isIOS),C=S.isIPadOS;S.iosMajor,S.iosMinor,S.isWKWebView,S.isScrollBasedViewport,S.isIPhoneX,S.isIOSChrome;if(o)if(g&&!C)m=!1,h=!1,!0,!0;else if("ontouchstart"in document||"maxTouchPoints"in navigator&&navigator.maxTouchPoints>0){var E=!/android|mobile|tablet/i.test(navigator.userAgent);m=window.matchMedia&&matchMedia("(pointer)").matches?matchMedia("(pointer: fine)").matches:E,h=m&&(window.matchMedia&&matchMedia("(hover)").matches?matchMedia("(hover: hover)").matches:E)}else m=!0,h=!0;else m=!1,!1,h=!1,!1},31398:function(){}}]);